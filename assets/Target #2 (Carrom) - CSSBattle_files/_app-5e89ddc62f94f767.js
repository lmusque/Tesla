(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{2475:function(t,e,n){"use strict";var r,i,o=n(5163),a=n(6765),s=n(2444),u=n(3936),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new a.LL("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/app-check"]="fire-app-check",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.Yd("@firebase/app"),m=function(){function t(t,e,n){var r=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=(0,a.p$)(t),this.container=new s.H0(e.name),this._addComponent(new s.wA("app",(function(){return r}),"PUBLIC")),this.firebase_.INTERNAL.components.forEach((function(t){return r._addComponent(t)}))}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){var n;void 0===e&&(e=f),this.checkDestroyed_();var r=this.container.getProvider(t);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var v=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"===typeof i&&null!==i||(i={name:i});var o=i;void 0===o.name&&(o.name=f);var s=o.name;if("string"!==typeof s||!s)throw l.create("bad-app-name",{appName:String(s)});if((0,a.r3)(e,s))throw l.create("duplicate-app",{appName:s});var u=new t(n,o,r);return e[s]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var a=i.match(/\s|\//),u=e.match(/\s|\//);if(a||u){var c=['Unable to register library "'+i+'" with version "'+e+'":'];return a&&c.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),a&&u&&c.push("and"),u&&c.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(c.join(" "))}o(new s.wA(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:u.Ub,onLog:function(t,e){if(null!==t&&"function"!==typeof t)throw l.create("invalid-log-argument");(0,u.Am)(t,e)},apps:null,SDK_VERSION:"8.10.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!(0,a.r3)(e,t))throw l.create("no-app",{appName:t});return e[t]}function o(o){var s=o.name;if(n.has(s))return p.debug("There were multiple attempts to register component "+s+"."),"PUBLIC"===o.type?r[s]:null;if(n.set(s,o),"PUBLIC"===o.type){var u=function(t){if(void 0===t&&(t=i()),"function"!==typeof t[s])throw l.create("invalid-app-argument",{appName:s});return t[s]()};void 0!==o.serviceProps&&(0,a.ZB)(u,o.serviceProps),r[s]=u,t.prototype[s]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,s).apply(this,o.multipleInstances?t:[])}}for(var c=0,h=Object.keys(e);c<h.length;c++){var f=h[c];e[f]._addComponent(o)}return"PUBLIC"===o.type?r[s]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}(m);return e.INTERNAL=(0,o.pi)((0,o.pi)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,a.ZB)(e,t)},createSubscribe:a.ne,ErrorFactory:a.LL,deepExtend:a.ZB}),e}(),g=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null===e||void 0===e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();if((0,a.jU)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var y=self.firebase.SDK_VERSION;y&&y.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var b=v.initializeApp;v.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return(0,a.UG)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),b.apply(void 0,t)};var w=v;!function(t,e){t.INTERNAL.registerComponent(new s.wA("platform-logger",(function(t){return new g(t)}),"PRIVATE")),t.registerVersion(h,"0.6.30",e),t.registerVersion("fire-js","")}(w),e.Z=w},2444:function(t,e,n){"use strict";n.d(e,{H0:function(){return u},wA:function(){return o}});var r=n(5163),i=n(6765),o=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),a="[DEFAULT]",s=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(o){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null===t||void 0===t?void 0:t.identifier),r=null!==(e=null===t||void 0===t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:a})}catch(f){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),o=i.next();!o.done;o=i.next()){var s=(0,r.CR)(o.value,2),u=s[0],c=s[1],l=this.normalizeInstanceIdentifier(u);try{var h=this.getOrInitializeService({instanceIdentifier:l});c.resolve(h)}catch(f){}}}catch(d){e={error:d}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=a),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,(function(){var t;return(0,r.Jh)(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))),(0,r.CR)(t.filter((function(t){return"_delete"in t})).map((function(t){return t._delete()})))))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=a),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=a),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,o=void 0===i?{}:i,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(this.name+"("+a+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var s=this.getOrInitializeService({instanceIdentifier:a,options:o});try{for(var u=(0,r.XA)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.CR)(c.value,2),h=l[0],f=l[1];a===this.normalizeInstanceIdentifier(h)&&f.resolve(s)}}catch(d){e={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return s},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var o=this.instances.get(r);return o&&t(o,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,o=this.onInitCallbacks.get(e);if(o)try{for(var a=(0,r.XA)(o),s=a.next();!s.done;s=a.next()){var u=s.value;try{u(t,e)}catch(c){}}}catch(l){n={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e,n=t.instanceIdentifier,r=t.options,i=void 0===r?{}:r,o=this.instances.get(n);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:(e=n,e===a?void 0:e),options:i}),this.instances.set(n,o),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(o,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,o)}catch(s){}return o||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=a),this.component?this.component.multipleInstances?t:a:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();var u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new s(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},3936:function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}var i;n.d(e,{Am:function(){return d},Ub:function(){return f},Yd:function(){return h},in:function(){return o}});var o,a=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(o||(o={}));var s={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var o=(new Date).toISOString(),a=c[e];if(!a)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[a].apply(console,r(["["+o+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,a.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"===typeof t?s[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){a.forEach((function(e){e.setLogLevel(t)}))}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],a=2;a<arguments.length;a++)i[a-2]=arguments[a];var s=i.map((function(t){if(null==t)return null;if("string"===typeof t)return t;if("number"===typeof t||"boolean"===typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}})).filter((function(t){return t})).join(" ");n>=(null!==r&&void 0!==r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=a;r<i.length;r++){n(i[r])}}},6765:function(t,e,n){"use strict";n.d(e,{BH:function(){return c},G6:function(){return w},LL:function(){return E},Mn:function(){return b},Sg:function(){return l},UG:function(){return d},ZB:function(){return u},ZR:function(){return _},b$:function(){return v},d:function(){return g},jU:function(){return p},m9:function(){return x},ne:function(){return k},p$:function(){return s},r3:function(){return S},ru:function(){return m},uI:function(){return f},w1:function(){return y},z$:function(){return h}});var r=n(5163),i=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296===(64512&i)&&r+1<t.length&&56320===(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},o={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),r.push(n[l],n[h],n[f],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(i(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var a=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(s=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(1023&a))}else{o=t[n++];var s=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0,s=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==a||null==s||null==u)throw Error();var c=o<<2|a>>4;if(r.push(c),64!==s){var l=a<<4&240|s>>2;if(r.push(l),64!==u){var h=s<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},a=function(t){return function(t){var e=i(t);return o.encodeByteArray(e,!0)}(t).replace(/\./g,"")};function s(t){return u(void 0,t)}function u(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=u(t[n],e[n]));return t}var c=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();function l(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var s=(0,r.pi)({iss:"https://securetoken.google.com/"+n,aud:n,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[a(JSON.stringify({alg:"none",type:"JWT"})),a(JSON.stringify(s)),""].join(".")}function h(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function f(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function d(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(t){return!1}}function p(){return"object"===typeof self&&self.self===self}function m(){var t="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof t&&void 0!==t.id}function v(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function g(){return h().indexOf("Electron/")>=0}function y(){var t=h();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function b(){return h().indexOf("MSAppHost/")>=0}function w(){return!d()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}var _=function(t){function e(n,r,i){var o=t.call(this,r)||this;return o.code=n,o.customData=i,o.name="FirebaseError",Object.setPrototypeOf(o,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(o,E.prototype.create),o}return(0,r.ZT)(e,t),e}(Error),E=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],a=o?T(o,r):"Error",s=this.serviceName+": "+a+" ("+i+").",u=new _(i,s,r);return u},t}();function T(t,e){return t.replace(I,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var I=/\{\$([^}]+)}/g;function S(t,e){return Object.prototype.hasOwnProperty.call(t,e)}!function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):r<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);i=(s<<5|s>>>27)+o+h+a+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}();function k(t,e){var n=new C(t,e);return n.subscribe.bind(n)}var C=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=A),void 0===r.error&&(r.error=A),void 0===r.complete&&(r.complete=A);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function A(){}function x(t){return t&&t._delegate?t._delegate:t}},7183:function(t,e,n){"use strict";n.d(e,{Xb:function(){return d},Gd:function(){return v},cu:function(){return p}});var r=n(8773),i=n(3699),o=n(7790),a=n(8536),s=n(5907),u=n(4266),c="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,l=n(1684),h=n(1995),f=function(){function t(t){this.errors=0,this.sid=(0,i.DM)(),this.duration=0,this.status="ok",this.init=!0,this.ignoreDuration=!1;var e=(0,o.ph)();this.timestamp=e,this.started=e,t&&this.update(t)}return t.prototype.update=function(t){if(void 0===t&&(t={}),t.user&&(!this.ipAddress&&t.user.ip_address&&(this.ipAddress=t.user.ip_address),this.did||t.did||(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||(0,o.ph)(),t.ignoreDuration&&(this.ignoreDuration=t.ignoreDuration),t.sid&&(this.sid=32===t.sid.length?t.sid:(0,i.DM)()),void 0!==t.init&&(this.init=t.init),!this.did&&t.did&&(this.did=""+t.did),"number"===typeof t.started&&(this.started=t.started),this.ignoreDuration)this.duration=void 0;else if("number"===typeof t.duration)this.duration=t.duration;else{var e=this.timestamp-this.started;this.duration=e>=0?e:0}t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),!this.ipAddress&&t.ipAddress&&(this.ipAddress=t.ipAddress),!this.userAgent&&t.userAgent&&(this.userAgent=t.userAgent),"number"===typeof t.errors&&(this.errors=t.errors),t.status&&(this.status=t.status)},t.prototype.close=function(t){t?this.update({status:t}):"ok"===this.status?this.update({status:"exited"}):this.update()},t.prototype.toJSON=function(){return(0,h.Jr)({sid:""+this.sid,init:this.init,started:new Date(1e3*this.started).toISOString(),timestamp:new Date(1e3*this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"===typeof this.did||"string"===typeof this.did?""+this.did:void 0,duration:this.duration,attrs:{release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent}})},t}(),d=function(){function t(t,e,n){void 0===e&&(e=new l.s),void 0===n&&(n=4),this._version=n,this._stack=[{}],this.getStackTop().scope=e,t&&this.bindClient(t)}return t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()},t.prototype.pushScope=function(){var t=l.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},t.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var n=this._lastEventId=e&&e.event_id?e.event_id:(0,i.DM)(),o=e;if(!e){var a=void 0;try{throw new Error("Sentry syntheticException")}catch(t){a=t}o={originalException:t,syntheticException:a}}return this._invokeClient("captureException",t,(0,r.pi)((0,r.pi)({},o),{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var o=this._lastEventId=n&&n.event_id?n.event_id:(0,i.DM)(),a=n;if(!n){var s=void 0;try{throw new Error(t)}catch(u){s=u}a={originalException:t,syntheticException:s}}return this._invokeClient("captureMessage",t,e,(0,r.pi)((0,r.pi)({},a),{event_id:o})),o},t.prototype.captureEvent=function(t,e){var n=e&&e.event_id?e.event_id:(0,i.DM)();return"transaction"!==t.type&&(this._lastEventId=n),this._invokeClient("captureEvent",t,(0,r.pi)((0,r.pi)({},e),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var n=this.getStackTop(),i=n.scope,s=n.client;if(i&&s){var u=s.getOptions&&s.getOptions()||{},c=u.beforeBreadcrumb,l=void 0===c?null:c,h=u.maxBreadcrumbs,f=void 0===h?100:h;if(!(f<=0)){var d=(0,o.yW)(),p=(0,r.pi)({timestamp:d},t),m=l?(0,a.Cf)((function(){return l(p,e)})):p;null!==m&&i.addBreadcrumb(m,f)}}},t.prototype.setUser=function(t){var e=this.getScope();e&&e.setUser(t)},t.prototype.setTags=function(t){var e=this.getScope();e&&e.setTags(t)},t.prototype.setExtras=function(t){var e=this.getScope();e&&e.setExtras(t)},t.prototype.setTag=function(t,e){var n=this.getScope();n&&n.setTag(t,e)},t.prototype.setExtra=function(t,e){var n=this.getScope();n&&n.setExtra(t,e)},t.prototype.setContext=function(t,e){var n=this.getScope();n&&n.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop(),n=e.scope,r=e.client;n&&r&&t(n)},t.prototype.run=function(t){var e=m(this);try{t(this)}finally{m(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(n){return c&&a.kg.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},t.prototype.startTransaction=function(t,e){return this._callExtensionMethod("startTransaction",t,e)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(t){if(void 0===t&&(t=!1),t)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var t=this.getStackTop(),e=t&&t.scope,n=e&&e.getSession();n&&n.close(),this._sendSessionUpdate(),e&&e.setSession()},t.prototype.startSession=function(t){var e=this.getStackTop(),n=e.scope,i=e.client,o=i&&i.getOptions()||{},a=o.release,u=o.environment,c=((0,s.R)().navigator||{}).userAgent,l=new f((0,r.pi)((0,r.pi)((0,r.pi)({release:a,environment:u},n&&{user:n.getUser()}),c&&{userAgent:c}),t));if(n){var h=n.getSession&&n.getSession();h&&"ok"===h.status&&h.update({status:"exited"}),this.endSession(),n.setSession(l)}return l},t.prototype._sendSessionUpdate=function(){var t=this.getStackTop(),e=t.scope,n=t.client;if(e){var r=e.getSession&&e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}},t.prototype._invokeClient=function(t){for(var e,n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];var o=this.getStackTop(),a=o.scope,s=o.client;s&&s[t]&&(e=s)[t].apply(e,(0,r.fl)(n,[a]))},t.prototype._callExtensionMethod=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=p(),i=r.__SENTRY__;if(i&&i.extensions&&"function"===typeof i.extensions[t])return i.extensions[t].apply(this,e);c&&a.kg.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}();function p(){var t=(0,s.R)();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function m(t){var e=p(),n=y(e);return b(e,t),n}function v(){var t=p();return g(t)&&!y(t).isOlderThan(4)||b(t,new d),(0,u.KV)()?function(t){try{var e=p().__SENTRY__,n=e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active;if(!n)return y(t);if(!g(n)||y(n).isOlderThan(4)){var r=y(t).getStackTop();b(n,new d(r.client,l.s.clone(r.scope)))}return y(n)}catch(i){return y(t)}}(t):y(t)}function g(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function y(t){return(0,s.Y)("hub",(function(){return new d}),t)}function b(t,e){return!!t&&((t.__SENTRY__=t.__SENTRY__||{}).hub=e,!0)}},1684:function(t,e,n){"use strict";n.d(e,{c:function(){return l},s:function(){return u}});var r=n(8773),i=n(1757),o=n(7790),a=n(7946),s=n(5907),u=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}return t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=(0,r.fl)(e._breadcrumbs),n._tags=(0,r.pi)({},e._tags),n._extra=(0,r.pi)({},e._extra),n._contexts=(0,r.pi)({},e._contexts),n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=(0,r.fl)(e._eventProcessors),n._requestSession=e._requestSession),n},t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.getRequestSession=function(){return this._requestSession},t.prototype.setRequestSession=function(t){return this._requestSession=t,this},t.prototype.setTags=function(t){return this._tags=(0,r.pi)((0,r.pi)({},this._tags),t),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var n;return this._tags=(0,r.pi)((0,r.pi)({},this._tags),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=(0,r.pi)((0,r.pi)({},this._extra),t),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var n;return this._extra=(0,r.pi)((0,r.pi)({},this._extra),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this.setTransactionName(t)},t.prototype.setContext=function(t,e){var n;return null===e?delete this._contexts[t]:this._contexts=(0,r.pi)((0,r.pi)({},this._contexts),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var t=this.getSpan();return t&&t.transaction},t.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if("function"===typeof e){var n=e(this);return n instanceof t?n:this}return e instanceof t?(this._tags=(0,r.pi)((0,r.pi)({},this._tags),e._tags),this._extra=(0,r.pi)((0,r.pi)({},this._extra),e._extra),this._contexts=(0,r.pi)((0,r.pi)({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):(0,i.PO)(e)&&(this._tags=(0,r.pi)((0,r.pi)({},this._tags),e.tags),this._extra=(0,r.pi)((0,r.pi)({},this._extra),e.extra),this._contexts=(0,r.pi)((0,r.pi)({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var n="number"===typeof e?Math.min(e,100):100;if(n<=0)return this;var i=(0,r.pi)({timestamp:(0,o.yW)()},t);return this._breadcrumbs=(0,r.fl)(this._breadcrumbs,[i]).slice(-n),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(t,e){if(this._extra&&Object.keys(this._extra).length&&(t.extra=(0,r.pi)((0,r.pi)({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=(0,r.pi)((0,r.pi)({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=(0,r.pi)((0,r.pi)({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=(0,r.pi)((0,r.pi)({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=(0,r.pi)({trace:this._span.getTraceContext()},t.contexts);var n=this._span.transaction&&this._span.transaction.name;n&&(t.tags=(0,r.pi)({transaction:n},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=(0,r.fl)(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,t.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors((0,r.fl)(c(),this._eventProcessors),t,e)},t.prototype.setSDKProcessingMetadata=function(t){return this._sdkProcessingMetadata=(0,r.pi)((0,r.pi)({},this._sdkProcessingMetadata),t),this},t.prototype._notifyEventProcessors=function(t,e,n,o){var s=this;return void 0===o&&(o=0),new a.cW((function(a,u){var c=t[o];if(null===e||"function"!==typeof c)a(e);else{var l=c((0,r.pi)({},e),n);(0,i.J8)(l)?l.then((function(e){return s._notifyEventProcessors(t,e,n,o+1).then(a)})).then(null,u):s._notifyEventProcessors(t,l,n,o+1).then(a).then(null,u)}}))},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(e){e(t)})),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t}();function c(){return(0,s.Y)("globalEventProcessors",(function(){return[]}))}function l(t){c().push(t)}},8773:function(t,e,n){"use strict";n.d(e,{fl:function(){return o},pi:function(){return r}});var r=function(){return r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},r.apply(this,arguments)};function i(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function o(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(i(arguments[e]));return t}},7734:function(t,e,n){"use strict";n.d(e,{d:function(){return r},x:function(){return i}});var r="finishReason",i=["heartbeatFailed","idleTimeout","documentHidden"]},4741:function(t,e,n){"use strict";n.d(e,{h:function(){return r}});var r="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},2252:function(t,e,n){"use strict";n.d(e,{ro:function(){return y},lb:function(){return g}});var r=n(157),i=n(7183),o=n(8536),a=n(1757),s=n(4266),u=n(4005),c=n(4741),l=n(1265);function h(){var t=(0,l.x1)();if(t){var e="internal_error";c.h&&o.kg.log("[Tracing] Transaction: "+e+" -> Global error occured"),t.setStatus(e)}}var f=n(1177),d=n(1753);function p(){var t=this.getScope();if(t){var e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}function m(t,e,n){return(0,l.zu)(e)?void 0!==t.sampled?(t.setMetadata({transactionSampling:{method:"explicitly_set"}}),t):("function"===typeof e.tracesSampler?(r=e.tracesSampler(n),t.setMetadata({transactionSampling:{method:"client_sampler",rate:Number(r)}})):void 0!==n.parentSampled?(r=n.parentSampled,t.setMetadata({transactionSampling:{method:"inheritance"}})):(r=e.tracesSampleRate,t.setMetadata({transactionSampling:{method:"client_rate",rate:Number(r)}})),function(t){if((0,a.i2)(t)||"number"!==typeof t&&"boolean"!==typeof t)return c.h&&o.kg.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(t)+" of type "+JSON.stringify(typeof t)+"."),!1;if(t<0||t>1)return c.h&&o.kg.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+t+"."),!1;return!0}(r)?r?(t.sampled=Math.random()<r,t.sampled?(c.h&&o.kg.log("[Tracing] starting "+t.op+" transaction - "+t.name),t):(c.h&&o.kg.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(r)+")"),t)):(c.h&&o.kg.log("[Tracing] Discarding transaction because "+("function"===typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(c.h&&o.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)):(t.sampled=!1,t);var r}function v(t,e){var n=this.getClient(),i=n&&n.getOptions()||{},o=new d.Y(t,this);return(o=m(o,i,(0,r.pi)({parentSampled:t.parentSampled,transactionContext:t},e))).sampled&&o.initSpanRecorder(i._experiments&&i._experiments.maxSpans),o}function g(t,e,n,i,o){var a=t.getClient(),s=a&&a.getOptions()||{},u=new f.io(e,t,n,i);return(u=m(u,s,(0,r.pi)({parentSampled:e.parentSampled,transactionContext:e},o))).sampled&&u.initSpanRecorder(s._experiments&&s._experiments.maxSpans),u}function y(){!function(){var t=(0,i.cu)();t.__SENTRY__&&(t.__SENTRY__.extensions=t.__SENTRY__.extensions||{},t.__SENTRY__.extensions.startTransaction||(t.__SENTRY__.extensions.startTransaction=v),t.__SENTRY__.extensions.traceHeaders||(t.__SENTRY__.extensions.traceHeaders=p))}(),(0,s.KV)()&&function(){var e=(0,i.cu)();if(e.__SENTRY__){var n={mongodb:function(){return new((0,s.l$)(t,"./integrations/node/mongo").Mongo)},mongoose:function(){return new((0,s.l$)(t,"./integrations/node/mongo").Mongo)({mongoose:!0})},mysql:function(){return new((0,s.l$)(t,"./integrations/node/mysql").Mysql)},pg:function(){return new((0,s.l$)(t,"./integrations/node/postgres").Postgres)}},o=Object.keys(n).filter((function(t){return!!(0,s.$y)(t)})).map((function(t){try{return n[t]()}catch(e){return}})).filter((function(t){return t}));o.length>0&&(e.__SENTRY__.integrations=(0,r.fl)(e.__SENTRY__.integrations||[],o))}}(),(0,u.o)("error",h),(0,u.o)("unhandledrejection",h)}t=n.hmd(t)},1177:function(t,e,n){"use strict";n.d(e,{io:function(){return f},nT:function(){return l}});var r=n(157),i=n(7790),o=n(8536),a=n(7734),s=n(4741),u=n(5274),c=n(1753),l=1e3,h=function(t){function e(e,n,r,i){void 0===r&&(r="");var o=t.call(this,i)||this;return o._pushActivity=e,o._popActivity=n,o.transactionSpanId=r,o}return(0,r.ZT)(e,t),e.prototype.add=function(e){var n=this;e.spanId!==this.transactionSpanId&&(e.finish=function(t){e.endTimestamp="number"===typeof t?t:(0,i._I)(),n._popActivity(e.spanId)},void 0===e.endTimestamp&&this._pushActivity(e.spanId)),t.prototype.add.call(this,e)},e}(u.gB),f=function(t){function e(e,n,r,i){void 0===r&&(r=l),void 0===i&&(i=!1);var a=t.call(this,e,n)||this;return a._idleHub=n,a._idleTimeout=r,a._onScope=i,a.activities={},a._heartbeatCounter=0,a._finished=!1,a._beforeFinishCallbacks=[],n&&i&&(d(n),s.h&&o.kg.log("Setting idle transaction on scope. Span ID: "+a.spanId),n.configureScope((function(t){return t.setSpan(a)}))),a._initTimeout=setTimeout((function(){a._finished||a.finish()}),a._idleTimeout),a}return(0,r.ZT)(e,t),e.prototype.finish=function(e){var n,a,u=this;if(void 0===e&&(e=(0,i._I)()),this._finished=!0,this.activities={},this.spanRecorder){s.h&&o.kg.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);try{for(var c=(0,r.XA)(this._beforeFinishCallbacks),l=c.next();!l.done;l=c.next()){(0,l.value)(this,e)}}catch(h){n={error:h}}finally{try{l&&!l.done&&(a=c.return)&&a.call(c)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter((function(t){if(t.spanId===u.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus("cancelled"),s.h&&o.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));var n=t.startTimestamp<e;return n||s.h&&o.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(t,void 0,2)),n})),s.h&&o.kg.log("[Tracing] flushing IdleTransaction")}else s.h&&o.kg.log("[Tracing] No active IdleTransaction");return this._onScope&&d(this._idleHub),t.prototype.finish.call(this,e)},e.prototype.registerBeforeFinishCallback=function(t){this._beforeFinishCallbacks.push(t)},e.prototype.initSpanRecorder=function(t){var e=this;if(!this.spanRecorder){this.spanRecorder=new h((function(t){e._finished||e._pushActivity(t)}),(function(t){e._finished||e._popActivity(t)}),this.spanId,t),s.h&&o.kg.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},e.prototype._pushActivity=function(t){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),s.h&&o.kg.log("[Tracing] pushActivity: "+t),this.activities[t]=!0,s.h&&o.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)},e.prototype._popActivity=function(t){var e=this;if(this.activities[t]&&(s.h&&o.kg.log("[Tracing] popActivity "+t),delete this.activities[t],s.h&&o.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var n=this._idleTimeout,r=(0,i._I)()+n/1e3;setTimeout((function(){e._finished||(e.setTag(a.d,a.x[1]),e.finish(r))}),n)}},e.prototype._beat=function(){if(!this._finished){var t=Object.keys(this.activities).join("");t===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?(s.h&&o.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.setTag(a.d,a.x[0]),this.finish()):this._pingHeartbeat()}},e.prototype._pingHeartbeat=function(){var t=this;s.h&&o.kg.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),setTimeout((function(){t._beat()}),5e3)},e}(c.Y);function d(t){if(t){var e=t.getScope();if(e)e.getTransaction()&&e.setSpan(void 0)}}},5274:function(t,e,n){"use strict";n.d(e,{Dr:function(){return u},gB:function(){return s}});var r=n(157),i=n(3699),o=n(7790),a=n(1995),s=function(){function t(t){void 0===t&&(t=1e3),this.spans=[],this._maxlen=t}return t.prototype.add=function(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)},t}(),u=function(){function t(t){if(this.traceId=(0,i.DM)(),this.spanId=(0,i.DM)().substring(16),this.startTimestamp=(0,o._I)(),this.tags={},this.data={},!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}return t.prototype.child=function(t){return this.startChild(t)},t.prototype.startChild=function(e){var n=new t((0,r.pi)((0,r.pi)({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},t.prototype.setTag=function(t,e){var n;return this.tags=(0,r.pi)((0,r.pi)({},this.tags),((n={})[t]=e,n)),this},t.prototype.setData=function(t,e){var n;return this.data=(0,r.pi)((0,r.pi)({},this.data),((n={})[t]=e,n)),this},t.prototype.setStatus=function(t){return this.status=t,this},t.prototype.setHttpStatus=function(t){this.setTag("http.status_code",String(t));var e=function(t){if(t<400&&t>=100)return"ok";if(t>=400&&t<500)switch(t){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(t>=500&&t<600)switch(t){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}(t);return"unknown_error"!==e&&this.setStatus(e),this},t.prototype.isSuccess=function(){return"ok"===this.status},t.prototype.finish=function(t){this.endTimestamp="number"===typeof t?t:(0,o._I)()},t.prototype.toTraceparent=function(){var t="";return void 0!==this.sampled&&(t=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+t},t.prototype.toContext=function(){return(0,a.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},t.prototype.updateWithContext=function(t){var e,n,r,i,o;return this.data=null!==(e=t.data)&&void 0!==e?e:{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=null!==(n=t.spanId)&&void 0!==n?n:this.spanId,this.startTimestamp=null!==(r=t.startTimestamp)&&void 0!==r?r:this.startTimestamp,this.status=t.status,this.tags=null!==(i=t.tags)&&void 0!==i?i:{},this.traceId=null!==(o=t.traceId)&&void 0!==o?o:this.traceId,this},t.prototype.getTraceContext=function(){return(0,a.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},t.prototype.toJSON=function(){return(0,a.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},t}()},1753:function(t,e,n){"use strict";n.d(e,{Y:function(){return l}});var r=n(157),i=n(7183),o=n(1757),a=n(8536),s=n(1995),u=n(4741),c=n(5274),l=function(t){function e(e,n){var r=t.call(this,e)||this;return r._measurements={},r._hub=(0,i.Gd)(),(0,o.V9)(n,i.Xb)&&(r._hub=n),r.name=e.name||"",r.metadata=e.metadata||{},r._trimEnd=e.trimEnd,r.transaction=r,r}return(0,r.ZT)(e,t),e.prototype.setName=function(t){this.name=t},e.prototype.initSpanRecorder=function(t){void 0===t&&(t=1e3),this.spanRecorder||(this.spanRecorder=new c.gB(t)),this.spanRecorder.add(this)},e.prototype.setMeasurements=function(t){this._measurements=(0,r.pi)({},t)},e.prototype.setMetadata=function(t){this.metadata=(0,r.pi)((0,r.pi)({},this.metadata),t)},e.prototype.finish=function(e){var n=this;if(void 0===this.endTimestamp){if(this.name||(u.h&&a.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),t.prototype.finish.call(this,e),!0===this.sampled){var r=this.spanRecorder?this.spanRecorder.spans.filter((function(t){return t!==n&&t.endTimestamp})):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce((function(t,e){return t.endTimestamp&&e.endTimestamp?t.endTimestamp>e.endTimestamp?t:e:t})).endTimestamp);var i={contexts:{trace:this.getTraceContext()},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:this.metadata};return Object.keys(this._measurements).length>0&&(u.h&&a.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),i.measurements=this._measurements),u.h&&a.kg.log("[Tracing] Finishing "+this.op+" transaction: "+this.name+"."),this._hub.captureEvent(i)}u.h&&a.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");var o=this._hub.getClient(),s=o&&o.getTransport&&o.getTransport();s&&s.recordLostEvent&&s.recordLostEvent("sample_rate","transaction")}},e.prototype.toContext=function(){var e=t.prototype.toContext.call(this);return(0,s.Jr)((0,r.pi)((0,r.pi)({},e),{name:this.name,trimEnd:this._trimEnd}))},e.prototype.updateWithContext=function(e){var n;return t.prototype.updateWithContext.call(this,e),this.name=null!==(n=e.name)&&void 0!==n?n:"",this._trimEnd=e.trimEnd,this},e}(c.Dr)},1265:function(t,e,n){"use strict";n.d(e,{WB:function(){return s},XL:function(){return a},x1:function(){return o},zu:function(){return i}});var r=n(7183);function i(t){var e=(0,r.Gd)().getClient(),n=t||e&&e.getOptions();return!!n&&("tracesSampleRate"in n||"tracesSampler"in n)}function o(t){var e=(t||(0,r.Gd)()).getScope();return e&&e.getTransaction()}function a(t){return t/1e3}function s(t){return 1e3*t}},157:function(t,e,n){"use strict";n.d(e,{CR:function(){return u},XA:function(){return s},ZT:function(){return i},_T:function(){return a},fl:function(){return c},pi:function(){return o}});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function u(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function c(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(u(arguments[e]));return t}},4194:function(t,e,n){"use strict";n.d(e,{R:function(){return o},l:function(){return s}});var r=n(5907),i=n(1757);function o(t,e){try{for(var n=t,r=[],i=0,o=0,s=" > ".length,u=void 0;n&&i++<5&&!("html"===(u=a(n,e))||i>1&&o+r.length*s+u.length>=80);)r.push(u),o+=u.length,n=n.parentNode;return r.reverse().join(" > ")}catch(c){return"<unknown>"}}function a(t,e){var n,r,o,a,s,u=t,c=[];if(!u||!u.tagName)return"";c.push(u.tagName.toLowerCase());var l=e&&e.length?e.filter((function(t){return u.getAttribute(t)})).map((function(t){return[t,u.getAttribute(t)]})):null;if(l&&l.length)l.forEach((function(t){c.push("["+t[0]+'="'+t[1]+'"]')}));else if(u.id&&c.push("#"+u.id),(n=u.className)&&(0,i.HD)(n))for(r=n.split(/\s+/),s=0;s<r.length;s++)c.push("."+r[s]);var h=["type","name","title","alt"];for(s=0;s<h.length;s++)o=h[s],(a=u.getAttribute(o))&&c.push("["+o+'="'+a+'"]');return c.join("")}function s(){var t=(0,r.R)();try{return t.document.location.href}catch(e){return""}}},1923:function(t,e,n){"use strict";n.d(e,{h:function(){return r}});var r="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__},5907:function(t,e,n){"use strict";n.d(e,{R:function(){return o},Y:function(){return a}});var r=n(4266),i={};function o(){return(0,r.KV)()?n.g:"undefined"!==typeof window?window:"undefined"!==typeof self?self:i}function a(t,e,n){var r=n||o(),i=r.__SENTRY__=r.__SENTRY__||{};return i[t]||(i[t]=e())}},4005:function(t,e,n){"use strict";n.d(e,{o:function(){return v}});var r,i=n(4715),o=n(1923),a=n(5907),s=n(1757),u=n(8536),c=n(1995),l=n(9038),h=n(9798),f=(0,a.R)(),d={},p={};function m(t){if(!p[t])switch(p[t]=!0,t){case"console":!function(){if(!("console"in f))return;u.RU.forEach((function(t){t in f.console&&(0,c.hl)(f.console,t,(function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];g("console",{args:n,level:t}),e&&e.apply(f.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in f))return;var t=g.bind(null,"dom"),e=E(t,!0);f.document.addEventListener("click",e,!1),f.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((function(e){var n=f[e]&&f[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,c.hl)(n,"addEventListener",(function(e){return function(n,r,i){if("click"===n||"keypress"==n)try{var o=this,a=o.__sentry_instrumentation_handlers__=o.__sentry_instrumentation_handlers__||{},s=a[n]=a[n]||{refCount:0};if(!s.handler){var u=E(t);s.handler=u,e.call(this,n,u,i)}s.refCount+=1}catch(c){}return e.call(this,n,r,i)}})),(0,c.hl)(n,"removeEventListener",(function(t){return function(e,n,r){if("click"===e||"keypress"==e)try{var i=this,o=i.__sentry_instrumentation_handlers__||{},a=o[e];a&&(a.refCount-=1,a.refCount<=0&&(t.call(this,e,a.handler,r),a.handler=void 0,delete o[e]),0===Object.keys(o).length&&delete i.__sentry_instrumentation_handlers__)}catch(s){}return t.call(this,e,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in f))return;var t=XMLHttpRequest.prototype;(0,c.hl)(t,"open",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this,i=e[1],o=r.__sentry_xhr__={method:(0,s.HD)(e[0])?e[0].toUpperCase():e[0],url:e[1]};(0,s.HD)(i)&&"POST"===o.method&&i.match(/sentry_key/)&&(r.__sentry_own_request__=!0);var a=function(){if(4===r.readyState){try{o.status_code=r.status}catch(t){}g("xhr",{args:e,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:r})}};return"onreadystatechange"in r&&"function"===typeof r.onreadystatechange?(0,c.hl)(r,"onreadystatechange",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return a(),t.apply(r,e)}})):r.addEventListener("readystatechange",a),t.apply(r,e)}})),(0,c.hl)(t,"send",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this.__sentry_xhr__&&void 0!==e[0]&&(this.__sentry_xhr__.body=e[0]),g("xhr",{args:e,startTimestamp:Date.now(),xhr:this}),t.apply(this,e)}}))}();break;case"fetch":!function(){if(!(0,h.t$)())return;(0,c.hl)(f,"fetch",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r={args:e,fetchData:{method:y(e),url:b(e)},startTimestamp:Date.now()};return g("fetch",(0,i.pi)({},r)),t.apply(f,e).then((function(t){return g("fetch",(0,i.pi)((0,i.pi)({},r),{endTimestamp:Date.now(),response:t})),t}),(function(t){throw g("fetch",(0,i.pi)((0,i.pi)({},r),{endTimestamp:Date.now(),error:t})),t}))}}))}();break;case"history":!function(){if(!(0,h.Bf)())return;var t=f.onpopstate;function e(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=e.length>2?e[2]:void 0;if(i){var o=r,a=String(i);r=a,g("history",{from:o,to:a})}return t.apply(this,e)}}f.onpopstate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=f.location.href,o=r;if(r=i,g("history",{from:o,to:i}),t)try{return t.apply(this,e)}catch(a){}},(0,c.hl)(f.history,"pushState",e),(0,c.hl)(f.history,"replaceState",e)}();break;case"error":T=f.onerror,f.onerror=function(t,e,n,r,i){return g("error",{column:r,error:i,line:n,msg:t,url:e}),!!T&&T.apply(this,arguments)};break;case"unhandledrejection":I=f.onunhandledrejection,f.onunhandledrejection=function(t){return g("unhandledrejection",t),!I||I.apply(this,arguments)};break;default:return void(o.h&&u.kg.warn("unknown instrumentation type:",t))}}function v(t,e){d[t]=d[t]||[],d[t].push(e),m(t)}function g(t,e){var n,r;if(t&&d[t])try{for(var a=(0,i.XA)(d[t]||[]),s=a.next();!s.done;s=a.next()){var c=s.value;try{c(e)}catch(h){o.h&&u.kg.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+(0,l.$P)(c)+"\nError:",h)}}}catch(f){n={error:f}}finally{try{s&&!s.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}function y(t){return void 0===t&&(t=[]),"Request"in f&&(0,s.V9)(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function b(t){return void 0===t&&(t=[]),"string"===typeof t[0]?t[0]:"Request"in f&&(0,s.V9)(t[0],Request)?t[0].url:String(t[0])}var w,_;function E(t,e){return void 0===e&&(e=!1),function(n){if(n&&_!==n&&!function(t){if("keypress"!==t.type)return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if("INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return!1}catch(n){}return!0}(n)){var r="keypress"===n.type?"input":n.type;(void 0===w||function(t,e){if(!t)return!0;if(t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(n){}return!1}(_,n))&&(t({event:n,name:r,global:e}),_=n),clearTimeout(w),w=f.setTimeout((function(){w=void 0}),1e3)}}}var T=null;var I=null},1757:function(t,e,n){"use strict";n.d(e,{Cy:function(){return v},HD:function(){return c},J8:function(){return m},Kj:function(){return p},PO:function(){return h},TX:function(){return s},V9:function(){return y},VW:function(){return a},VZ:function(){return i},cO:function(){return f},fm:function(){return u},i2:function(){return g},kK:function(){return d},pt:function(){return l}});var r=Object.prototype.toString;function i(t){switch(r.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return y(t,Error)}}function o(t,e){return r.call(t)==="[object "+e+"]"}function a(t){return o(t,"ErrorEvent")}function s(t){return o(t,"DOMError")}function u(t){return o(t,"DOMException")}function c(t){return o(t,"String")}function l(t){return null===t||"object"!==typeof t&&"function"!==typeof t}function h(t){return o(t,"Object")}function f(t){return"undefined"!==typeof Event&&y(t,Event)}function d(t){return"undefined"!==typeof Element&&y(t,Element)}function p(t){return o(t,"RegExp")}function m(t){return Boolean(t&&t.then&&"function"===typeof t.then)}function v(t){return h(t)&&"nativeEvent"in t&&"preventDefault"in t&&"stopPropagation"in t}function g(t){return"number"===typeof t&&t!==t}function y(t,e){try{return t instanceof e}catch(n){return!1}}},8536:function(t,e,n){"use strict";n.d(e,{Cf:function(){return l},RU:function(){return c},kg:function(){return r}});var r,i=n(4715),o=n(1923),a=n(5907),s=(0,a.R)(),u="Sentry Logger ",c=["debug","info","warn","error","log","assert"];function l(t){var e=(0,a.R)();if(!("console"in e))return t();var n=e.console,r={};c.forEach((function(t){var i=n[t]&&n[t].__sentry_original__;t in e.console&&i&&(r[t]=n[t],n[t]=i)}));try{return t()}finally{Object.keys(r).forEach((function(t){n[t]=r[t]}))}}function h(){var t=!1,e={enable:function(){t=!0},disable:function(){t=!1}};return o.h?c.forEach((function(n){e[n]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];t&&l((function(){var t;(t=s.console)[n].apply(t,(0,i.fl)([u+"["+n+"]:"],e))}))}})):c.forEach((function(t){e[t]=function(){}})),e}r=o.h?(0,a.Y)("logger",h):h()},3699:function(t,e,n){"use strict";n.d(e,{DM:function(){return a},Db:function(){return l},EG:function(){return h},YO:function(){return d},en:function(){return s},jH:function(){return c},rt:function(){return f}});var r=n(4715),i=n(5907),o=n(1995);function a(){var t=(0,i.R)(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function s(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+r}}function u(t){return t.exception&&t.exception.values?t.exception.values[0]:void 0}function c(t){var e=t.message,n=t.event_id;if(e)return e;var r=u(t);return r?r.type&&r.value?r.type+": "+r.value:r.type||r.value||n||"<unknown>":n||"<unknown>"}function l(t,e,n){var r=t.exception=t.exception||{},i=r.values=r.values||[],o=i[0]=i[0]||{};o.value||(o.value=e||""),o.type||(o.type=n||"Error")}function h(t,e){var n=u(t);if(n){var i=n.mechanism;if(n.mechanism=(0,r.pi)((0,r.pi)((0,r.pi)({},{type:"generic",handled:!0}),i),e),e&&"data"in e){var o=(0,r.pi)((0,r.pi)({},i&&i.data),e.data);n.mechanism.data=o}}}function f(t){return t.split(/[\?#]/,1)[0]}function d(t){if(t&&t.__sentry_captured__)return!0;try{(0,o.xp)(t,"__sentry_captured__",!0)}catch(e){}return!1}},4266:function(t,e,n){"use strict";n.d(e,{l$:function(){return o},KV:function(){return i},$y:function(){return a}}),t=n.hmd(t);var r=n(3542);function i(){return!("undefined"!==typeof __SENTRY_BROWSER_BUNDLE__&&__SENTRY_BROWSER_BUNDLE__)&&"[object process]"===Object.prototype.toString.call("undefined"!==typeof r?r:0)}function o(t,e){return t.require(e)}function a(e){var n;try{n=o(t,e)}catch(i){}try{var r=o(t,"process").cwd;n=o(t,r()+"/node_modules/"+e)}catch(i){}return n}},1995:function(t,e,n){"use strict";n.d(e,{$Q:function(){return c},HK:function(){return l},Jr:function(){return v},Sh:function(){return f},_j:function(){return h},hl:function(){return s},xp:function(){return u},zf:function(){return m}});var r=n(4715),i=n(4194),o=n(1757),a=n(9660);function s(t,e,n){if(e in t){var r=t[e],i=n(r);if("function"===typeof i)try{c(i,r)}catch(o){}t[e]=i}}function u(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,configurable:!0})}function c(t,e){var n=e.prototype||{};t.prototype=e.prototype=n,u(t,"__sentry_original__",e)}function l(t){return t.__sentry_original__}function h(t){return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")}function f(t){var e=t;if((0,o.VZ)(t))e=(0,r.pi)({message:t.message,name:t.name,stack:t.stack},p(t));else if((0,o.cO)(t)){var n=t;e=(0,r.pi)({type:n.type,target:d(n.target),currentTarget:d(n.currentTarget)},p(n)),"undefined"!==typeof CustomEvent&&(0,o.V9)(t,CustomEvent)&&(e.detail=n.detail)}return e}function d(t){try{return(0,o.kK)(t)?(0,i.R)(t):Object.prototype.toString.call(t)}catch(e){return"<unknown>"}}function p(t){var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function m(t,e){void 0===e&&(e=40);var n=Object.keys(f(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return(0,a.$G)(n[0],e);for(var r=n.length;r>0;r--){var i=n.slice(0,r).join(", ");if(!(i.length>e))return r===n.length?i:(0,a.$G)(i,e)}return""}function v(t){var e,n;if((0,o.PO)(t)){var i={};try{for(var a=(0,r.XA)(Object.keys(t)),s=a.next();!s.done;s=a.next()){var u=s.value;"undefined"!==typeof t[u]&&(i[u]=v(t[u]))}}catch(c){e={error:c}}finally{try{s&&!s.done&&(n=a.return)&&n.call(a)}finally{if(e)throw e.error}}return i}return Array.isArray(t)?t.map(v):t}},9038:function(t,e,n){"use strict";n.d(e,{$P:function(){return s},pE:function(){return i}});var r=n(4715);function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.sort((function(t,e){return t[0]-e[0]})).map((function(t){return t[1]}));return function(t,e){var i,a,s,u;void 0===e&&(e=0);var c=[];try{for(var l=(0,r.XA)(t.split("\n").slice(e)),h=l.next();!h.done;h=l.next()){var f=h.value;try{for(var d=(s=void 0,(0,r.XA)(n)),p=d.next();!p.done;p=d.next()){var m=(0,p.value)(f);if(m){c.push(m);break}}}catch(v){s={error:v}}finally{try{p&&!p.done&&(u=d.return)&&u.call(d)}finally{if(s)throw s.error}}}}catch(g){i={error:g}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(i)throw i.error}}return o(c)}}function o(t){if(!t.length)return[];var e=t,n=e[0].function||"",i=e[e.length-1].function||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),-1!==i.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.slice(0,50).map((function(t){return(0,r.pi)((0,r.pi)({},t),{filename:t.filename||e[0].filename,function:t.function||"?"})})).reverse()}var a="<anonymous>";function s(t){try{return t&&"function"===typeof t&&t.name||a}catch(e){return a}}},9660:function(t,e,n){"use strict";n.d(e,{$G:function(){return i},nK:function(){return o},zC:function(){return a}});var r=n(1757);function i(t,e){return void 0===e&&(e=0),"string"!==typeof t||0===e||t.length<=e?t:t.substr(0,e)+"..."}function o(t,e){if(!Array.isArray(t))return"";for(var n=[],r=0;r<t.length;r++){var i=t[r];try{n.push(String(i))}catch(o){n.push("[value cannot be serialized]")}}return n.join(e)}function a(t,e){return!!(0,r.HD)(t)&&((0,r.Kj)(e)?e.test(t):"string"===typeof e&&-1!==t.indexOf(e))}},9798:function(t,e,n){"use strict";n.d(e,{Ak:function(){return a},Bf:function(){return l},Du:function(){return s},hv:function(){return c},t$:function(){return u}});var r=n(1923),i=n(5907),o=n(8536);function a(){if(!("fetch"in(0,i.R)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function s(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function u(){if(!a())return!1;var t=(0,i.R)();if(s(t.fetch))return!0;var e=!1,n=t.document;if(n&&"function"===typeof n.createElement)try{var u=n.createElement("iframe");u.hidden=!0,n.head.appendChild(u),u.contentWindow&&u.contentWindow.fetch&&(e=s(u.contentWindow.fetch)),n.head.removeChild(u)}catch(c){r.h&&o.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",c)}return e}function c(){if(!a())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}function l(){var t=(0,i.R)(),e=t.chrome,n=e&&e.app&&e.app.runtime,r="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!n&&r}},7946:function(t,e,n){"use strict";n.d(e,{$2:function(){return o},WD:function(){return i},cW:function(){return a}});var r=n(1757);function i(t){return new a((function(e){e(t)}))}function o(t){return new a((function(e,n){n(t)}))}var a=function(){function t(t){var e=this;this._state=0,this._handlers=[],this._resolve=function(t){e._setResult(1,t)},this._reject=function(t){e._setResult(2,t)},this._setResult=function(t,n){0===e._state&&((0,r.J8)(n)?n.then(e._resolve,e._reject):(e._state=t,e._value=n,e._executeHandlers()))},this._executeHandlers=function(){if(0!==e._state){var t=e._handlers.slice();e._handlers=[],t.forEach((function(t){t[0]||(1===e._state&&t[1](e._value),2===e._state&&t[2](e._value),t[0]=!0)}))}};try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}return t.prototype.then=function(e,n){var r=this;return new t((function(t,i){r._handlers.push([!1,function(n){if(e)try{t(e(n))}catch(r){i(r)}else t(n)},function(e){if(n)try{t(n(e))}catch(r){i(r)}else i(e)}]),r._executeHandlers()}))},t.prototype.catch=function(t){return this.then((function(t){return t}),t)},t.prototype.finally=function(e){var n=this;return new t((function(t,r){var i,o;return n.then((function(t){o=!1,i=t,e&&e()}),(function(t){o=!0,i=t,e&&e()})).then((function(){o?r(i):t(i)}))}))},t}()},7790:function(t,e,n){"use strict";n.d(e,{Z1:function(){return h},_I:function(){return l},ph:function(){return c},yW:function(){return u}});var r=n(5907),i=n(4266);t=n.hmd(t);var o={nowSeconds:function(){return Date.now()/1e3}};var a=(0,i.KV)()?function(){try{return(0,i.l$)(t,"perf_hooks").performance}catch(e){return}}():function(){var t=(0,r.R)().performance;if(t&&t.now)return{now:function(){return t.now()},timeOrigin:Date.now()-t.now()}}(),s=void 0===a?o:{nowSeconds:function(){return(a.timeOrigin+a.now())/1e3}},u=o.nowSeconds.bind(o),c=s.nowSeconds.bind(s),l=c,h=function(){var t=(0,r.R)().performance;if(t&&t.now){var e=36e5,n=t.now(),i=Date.now(),o=t.timeOrigin?Math.abs(t.timeOrigin+n-i):e,a=o<e,s=t.timing&&t.timing.navigationStart,u="number"===typeof s?Math.abs(s+n-i):e;return a||u<e?o<=u?("timeOrigin",t.timeOrigin):("navigationStart",s):("dateNow",i)}"none"}()},4715:function(t,e,n){"use strict";n.d(e,{CR:function(){return s},XA:function(){return a},ZT:function(){return i},fl:function(){return u},pi:function(){return o}});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},r(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function a(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function u(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t}},4961:function(t,e,n){("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{}).SENTRY_RELEASE={id:"s3heMEMaenWb4ytNZ0v0u"}},2779:function(t,e){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var o=typeof n;if("string"===o||"number"===o)t.push(n);else if(Array.isArray(n)&&n.length){var a=i.apply(null,n);a&&t.push(a)}else if("object"===o)for(var s in n)r.call(n,s)&&n[s]&&t.push(s)}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(n=function(){return i}.apply(e,[]))||(t.exports=n)}()},844:function(t){var e=.999,n=/[\\\/\-_+.# \t"@\[\(\{&]/,r=/[\\\/\-_+.# \t"@\[\(\{&]/g;function i(t,o,a,s,u,c){if(c===o.length)return u===t.length?1:.99;for(var l,h,f,d=s.charAt(c),p=a.indexOf(d,u),m=0;p>=0;)(l=i(t,o,a,s,p+1,c+1))>m&&(p===u?l*=1:n.test(t.charAt(p-1))?(l*=.9,(f=t.slice(u,p-1).match(r))&&u>0&&(l*=Math.pow(e,f.length))):n.test(t.slice(u,p-1))?(l*=0,u>0&&(l*=Math.pow(e,p-u))):(l*=.3,u>0&&(l*=Math.pow(e,p-u))),t.charAt(p)!==o.charAt(c)&&(l*=.9999)),l<.1&&a.charAt(p-1)===s.charAt(c+1)&&a.charAt(p-1)!==s.charAt(c)&&.1*(h=i(t,o,a,s,p+1,c+2))>l&&(l=.1*h),l>m&&(m=l),p=a.indexOf(d,p+1);return m}t.exports=function(t,e){return i(t,e,t.toLowerCase(),e.toLowerCase(),0,0)}},5532:function(t,e,n){"use strict";n.d(e,{Z:function(){return r.Z}});var r=n(2475),i="8.10.1";r.Z.registerVersion("firebase",i,"app"),r.Z.SDK_VERSION=i},9899:function(t,e,n){"use strict";n.r(e);var r=n(2475);(function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var i=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof n.g&&n.g,t];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}return globalThis}(this);function o(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function a(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:o(t)}}!function(t,n){if(n){var r=i;t=t.split(".");for(var o=0;o<t.length-1;o++){var a=t[o];a in r||(r[a]={}),r=r[a]}(n=n(o=r[t=t[t.length-1]]))!=o&&null!=n&&e(r,t,{configurable:!0,writable:!0,value:n})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(n){e.reject(n)}}function n(){this.a=null}function r(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;n.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var o=i.setTimeout;n.prototype.c=function(t){o(t,0)},n.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(r){this.f(r)}}}this.a=null},n.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.v(t):this.h(t)}},e.prototype.v=function(t){var e=void 0;try{e=t.then}catch(n){return void this.g(n)}"function"==typeof e?this.u(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)s.b(this.a[t]);this.a=null}};var s=new n;return e.prototype.s=function(t){var e=this.f();t.Ra(e.resolve,e.reject)},e.prototype.u=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(r){n.reject(r)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(n){o(n)}}:e}var i,o,a=new e((function(t,e){i=t,o=e}));return this.Ra(r(t,i),r(n,o)),a},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Ra=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?s.b(n):this.a.push(n)},e.resolve=r,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var i=a(t),o=i.next();!o.done;o=i.next())r(o.value).Ra(e,n)}))},e.all=function(t){var n=a(t),i=n.next();return i.done?r([]):new e((function(t,e){function o(e){return function(n){a[e]=n,0==--s&&t(a)}}var a=[],s=0;do{a.push(void 0),s++,r(i.value).Ra(o(a.length-1),e),i=n.next()}while(!i.done)}))},e}));var s=s||{},u=this||self,c=/^[\w+/_-]+[=]{0,2}$/,l=null;function h(t){return(t=t.querySelector&&t.querySelector("script[nonce]"))&&(t=t.nonce||t.getAttribute("nonce"))&&c.test(t)?t:""}function f(){}function d(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function p(t){var e=d(t);return"array"==e||"object"==e&&"number"==typeof t.length}function m(t){return"function"==d(t)}function v(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function g(t){return Object.prototype.hasOwnProperty.call(t,y)&&t[y]||(t[y]=++b)}var y="closure_uid_"+(1e9*Math.random()>>>0),b=0;function w(t,e,n){return t.call.apply(t.bind,arguments)}function _(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function E(t,e,n){return(E=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?w:_).apply(null,arguments)}function T(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var I=Date.now;function S(t,e){function n(){}n.prototype=e.prototype,t.bb=e.prototype,t.prototype=new n,t.prototype.constructor=t}function k(t){return t}function C(t,e,n){this.code=O+t,this.message=e||N[t]||"",this.a=n||null}function A(t){var e=t&&t.code;return e?new C(e.substring(O.length),t.message,t.serverResponse):null}S(C,Error),C.prototype.w=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},C.prototype.toJSON=function(){return this.w()};var x,O="auth/",N={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},D={ld:{Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},sd:{Ua:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://securetoken.googleapis.com/v1/token",Xa:"https://identitytoolkit.googleapis.com/v2/",id:"p"},ud:{Ua:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",$a:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},vd:{Ua:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",$a:"https://test-securetoken.sandbox.googleapis.com/v1/token",Xa:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function R(t){for(var e in D)if(D[e].id===t)return{firebaseEndpoint:(t=D[e]).Ua,secureTokenEndpoint:t.$a,identityPlatformEndpoint:t.Xa};return null}function P(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function L(t){if(Error.captureStackTrace)Error.captureStackTrace(this,L);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function F(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");L.call(this,n+t[r])}function M(t,e){throw new F("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function j(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function U(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function B(){this.b=this.a=null}x=R("__EID__")?"__EID__":void 0,S(L,Error),L.prototype.name="CustomError",S(F,L),F.prototype.name="AssertionError",j.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var V=new j((function(){return new G}),(function(t){t.reset()}));function q(){var t=we,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function G(){this.next=this.b=this.a=null}B.prototype.add=function(t,e){var n=V.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},G.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},G.prototype.reset=function(){this.next=this.b=this.a=null};var H=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},K=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var z=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"===typeof t?t.split(""):t,a=0;a<n;a++)if(a in o){var s=o[a];e.call(void 0,s,a,t)&&(r[i++]=s)}return r},W=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"===typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},Z=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function J(t,e){return 0<=H(t,e)}function X(t,e){var n;return(n=0<=(e=H(t,e)))&&Array.prototype.splice.call(t,e,1),n}function Y(t,e){!function(t,e){for(var n="string"===typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function $(t){return Array.prototype.concat.apply([],arguments)}function Q(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var tt,et=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},nt=/&/g,rt=/</g,it=/>/g,ot=/"/g,at=/'/g,st=/\x00/g,ut=/[\x00&<>"']/;function ct(t,e){return-1!=t.indexOf(e)}function lt(t,e){return t<e?-1:t>e?1:0}t:{var ht=u.navigator;if(ht){var ft=ht.userAgent;if(ft){tt=ft;break t}}tt=""}function dt(t){return ct(tt,t)}function pt(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function mt(t){for(var e in t)return!1;return!0}function vt(t){var e,n={};for(e in t)n[e]=t[e];return n}var gt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<gt.length;o++)n=gt[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function bt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||u).Element&&r.Location){var i=r;break t}}catch(a){}i=null}if(i&&"undefined"!=typeof i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(v(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(a){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;M("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function wt(t,e){this.a=t===It&&e||"",this.b=Tt}function _t(t){return t instanceof wt&&t.constructor===wt&&t.b===Tt?t.a:(M("expected object of type Const, got '"+t+"'"),"type_error:Const")}wt.prototype.ta=!0,wt.prototype.sa=function(){return this.a},wt.prototype.toString=function(){return"Const{"+this.a+"}"};var Et,Tt={},It={};function St(){if(void 0===Et){var t=null,e=u.trustedTypes;if(e&&e.createPolicy){try{t=e.createPolicy("goog#html",{createHTML:k,createScript:k,createScriptURL:k})}catch(n){u.console&&u.console.error(n.message)}Et=t}else Et=t}return Et}function kt(t,e){this.a=e===Nt?t:""}function Ct(t){return t instanceof kt&&t.constructor===kt?t.a:(M("expected object of type TrustedResourceUrl, got '"+t+"' of type "+d(t)),"type_error:TrustedResourceUrl")}function At(t,e){var n=_t(t);if(!Ot.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return function(t){var e=St();return new kt(t=e?e.createScriptURL(t):t,Nt)}(t=n.replace(xt,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof wt?_t(t):encodeURIComponent(String(t))})))}kt.prototype.ta=!0,kt.prototype.sa=function(){return this.a.toString()},kt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var xt=/%{(\w+)}/g,Ot=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Nt={};function Dt(t,e){this.a=e===Ut?t:""}function Rt(t){return t instanceof Dt&&t.constructor===Dt?t.a:(M("expected object of type SafeUrl, got '"+t+"' of type "+d(t)),"type_error:SafeUrl")}Dt.prototype.ta=!0,Dt.prototype.sa=function(){return this.a.toString()},Dt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Pt=/^(?:audio\/(?:3gpp2|3gpp|aac|L16|midi|mp3|mp4|mpeg|oga|ogg|opus|x-m4a|x-matroska|x-wav|wav|webm)|font\/\w+|image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp|x-icon)|text\/csv|video\/(?:mpeg|mp4|ogg|webm|quicktime|x-matroska))(?:;\w+=(?:\w+|"[\w;,= ]+"))*$/i,Lt=/^data:(.*);base64,[a-z0-9+\/]+=*$/i,Ft=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Mt(t){if(t instanceof Dt)return t;if(t="object"==typeof t&&t.ta?t.sa():String(t),Ft.test(t))t=new Dt(t,Ut);else{var e=(t=(t=String(t)).replace(/(%0A|%0D)/g,"")).match(Lt);t=e&&Pt.test(e[1])?new Dt(t,Ut):null}return t}function jt(t){return t instanceof Dt?t:(t="object"==typeof t&&t.ta?t.sa():String(t),Ft.test(t)||(t="about:invalid#zClosurez"),new Dt(t,Ut))}var Ut={},Bt=new Dt("about:invalid#zClosurez",Ut);function Vt(t,e,n){this.a=n===qt?t:""}Vt.prototype.ta=!0,Vt.prototype.sa=function(){return this.a.toString()},Vt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var qt={};function Gt(t,e,n,r){return t=t instanceof Dt?t:jt(t),e=e||u,n=n instanceof wt?_t(n):n||"",e.open(Rt(t),n,r,void 0)}function Ht(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Kt(t){return ut.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(nt,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(rt,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(it,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(ot,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(at,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(st,"&#0;"))),t}function zt(t){return zt[" "](t),t}zt[" "]=f;var Wt,Zt=dt("Opera"),Jt=dt("Trident")||dt("MSIE"),Xt=dt("Edge"),Yt=Xt||Jt,$t=dt("Gecko")&&!(ct(tt.toLowerCase(),"webkit")&&!dt("Edge"))&&!(dt("Trident")||dt("MSIE"))&&!dt("Edge"),Qt=ct(tt.toLowerCase(),"webkit")&&!dt("Edge");function te(){var t=u.document;return t?t.documentMode:void 0}t:{var ee="",ne=function(){var t=tt;return $t?/rv:([^\);]+)(\)|;)/.exec(t):Xt?/Edge\/([\d\.]+)/.exec(t):Jt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Qt?/WebKit\/(\S+)/.exec(t):Zt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(ne&&(ee=ne?ne[1]:""),Jt){var re=te();if(null!=re&&re>parseFloat(ee)){Wt=String(re);break t}}Wt=ee}var ie,oe={};function ae(t){return function(t,e){var n=oe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=et(String(Wt)).split("."),r=et(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=lt(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||lt(0==a[2].length,0==s[2].length)||lt(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e}))}if(u.document&&Jt){var se=te();ie=se||(parseInt(Wt,10)||void 0)}else ie=void 0;var ue=ie;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(cf){}var ce=!Jt||9<=Number(ue);function le(t){var e=document;return"string"===typeof t?e.getElementById(t):t}function he(t,e){pt(e,(function(e,n){e&&"object"==typeof e&&e.ta&&(e=e.sa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:pe.hasOwnProperty(n)?t.setAttribute(pe[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var fe,de,pe={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function me(t,e,n){function r(n){n&&e.appendChild("string"===typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];if(!p(o)||v(o)&&0<o.nodeType)r(o);else{t:{if(o&&"number"==typeof o.length){if(v(o)){var a="function"==typeof o.item||"string"==typeof o.item;break t}if(m(o)){a="function"==typeof o.item;break t}}a=!1}K(a?Q(o):o,r)}}}function ve(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function ge(t){u.setTimeout((function(){throw t}),0)}function ye(t,e){de||function(){if(u.Promise&&u.Promise.resolve){var t=u.Promise.resolve(void 0);de=function(){t.then(_e)}}else de=function(){var t=_e;!m(u.setImmediate)||u.Window&&u.Window.prototype&&!dt("Edge")&&u.Window.prototype.setImmediate==u.setImmediate?(fe||(fe=function(){var t=u.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!dt("Presto")&&(t=function(){var t=ve(document,"IFRAME");t.style.display="none",document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=E((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!dt("Trident")&&!dt("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Hb;n.Hb=null,t()}},function(t){r.next={Hb:t},r=r.next,e.port2.postMessage(0)}}return function(t){u.setTimeout(t,0)}}()),fe(t)):u.setImmediate(t)}}(),be||(de(),be=!0),we.add(t,e)}var be=!1,we=new B;function _e(){for(var t;t=q();){try{t.a.call(t.b)}catch(e){ge(e)}U(V,t)}be=!1}function Ee(t,e){if(this.a=Te,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=f)try{var n=this;t.call(e,(function(t){Fe(n,Ie,t)}),(function(t){if(!(t instanceof Ge))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Fe(n,Se,t)}))}catch(r){Fe(this,Se,r)}}var Te=0,Ie=2,Se=3;function ke(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}ke.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ce=new j((function(){return new ke}),(function(t){t.reset()}));function Ae(t,e,n){var r=Ce.get();return r.g=t,r.b=e,r.f=n,r}function xe(t){if(t instanceof Ee)return t;var e=new Ee(f);return Fe(e,Ie,t),e}function Oe(t){return new Ee((function(e,n){n(t)}))}function Ne(t,e,n){Me(t,e,n,null)||ye(T(e,t))}function De(t){return new Ee((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Qb:!0,value:o}:{Qb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Ne(t[o],T(i,o,!0),T(i,o,!1));else e(r)}))}function Re(t,e){if(t.a==Te)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==Te&&1==r?Re(n,e):(o?((r=o).next==n.f&&(n.f=r),r.next=r.next.next):Ue(n),Be(n,i,Se,e)))}t.c=null}else Fe(t,Se,e)}function Pe(t,e){t.b||t.a!=Ie&&t.a!=Se||je(t),t.f?t.f.next=e:t.b=e,t.f=e}function Le(t,e,n,r){var i=Ae(null,null,null);return i.a=new Ee((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(a){o(a)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Ge?o(e):t(i)}catch(a){o(a)}}:o})),i.a.c=t,Pe(t,i),i.a}function Fe(t,e,n){t.a==Te&&(t===n&&(e=Se,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Me(n,t.$c,t.ad,t)||(t.i=n,t.a=e,t.c=null,je(t),e!=Se||n instanceof Ge||function(t,e){t.g=!0,ye((function(){t.g&&qe.call(null,e)}))}(t,n)))}function Me(t,e,n,r){if(t instanceof Ee)return Pe(t,Ae(e||f,n||null,r)),!0;if(P(t))return t.then(e,n,r),!0;if(v(t))try{var i=t.then;if(m(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}function a(t){s||(s=!0,n.call(i,t))}var s=!1;try{e.call(t,a,o)}catch(u){o(u)}}(t,i,e,n,r),!0}catch(o){return n.call(r,o),!0}return!1}function je(t){t.h||(t.h=!0,ye(t.gc,t))}function Ue(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Be(t,e,n,r){if(n==Se&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Ve(e,n,r);else try{e.c?e.g.call(e.f):Ve(e,n,r)}catch(i){qe.call(null,i)}U(Ce,e)}function Ve(t,e,n){e==Ie?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}Ee.prototype.then=function(t,e,n){return Le(this,m(t)?t:null,m(e)?e:null,n)},Ee.prototype.$goog_Thenable=!0,(t=Ee.prototype).oa=function(t,e){return(t=Ae(t,t,e)).c=!0,Pe(this,t),this},t.o=function(t,e){return Le(this,null,t,e)},t.cancel=function(t){if(this.a==Te){var e=new Ge(t);ye((function(){Re(this,e)}),this)}},t.$c=function(t){this.a=Te,Fe(this,Ie,t)},t.ad=function(t){this.a=Te,Fe(this,Se,t)},t.gc=function(){for(var t;t=Ue(this);)Be(this,t,this.a,this.i);this.h=!1};var qe=ge;function Ge(t){L.call(this,t)}function He(){0!=Ke&&(ze[g(this)]=this),this.ya=this.ya,this.pa=this.pa}S(Ge,L),Ge.prototype.name="cancel";var Ke=0,ze={};function We(t){if(!t.ya&&(t.ya=!0,t.Da(),0!=Ke)){var e=g(t);if(0!=Ke&&t.pa&&0<t.pa.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete ze[e]}}He.prototype.ya=!1,He.prototype.Da=function(){if(this.pa)for(;this.pa.length;)this.pa.shift()()};var Ze=Object.freeze||function(t){return t},Je=!Jt||9<=Number(ue),Xe=Jt&&!ae("9"),Ye=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{u.addEventListener("test",f,e),u.removeEventListener("test",f,e)}catch(n){}return t}();function $e(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function Qe(t,e){if($e.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if($t){t:{try{zt(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:tn[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}$e.prototype.preventDefault=function(){this.defaultPrevented=!0},S(Qe,$e);var tn=Ze({2:"touch",3:"pen",4:"mouse"});Qe.prototype.preventDefault=function(){Qe.bb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Xe)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},Qe.prototype.g=function(){return this.a};var en="closure_listenable_"+(1e6*Math.random()|0),nn=0;function rn(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Wa=i,this.key=++nn,this.wa=this.Qa=!1}function on(t){t.wa=!0,t.listener=null,t.proxy=null,t.src=null,t.Wa=null}function an(t){this.src=t,this.a={},this.b=0}function sn(t,e){var n=e.type;n in t.a&&X(t.a[n],e)&&(on(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function un(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.wa&&o.listener==e&&o.capture==!!n&&o.Wa==r)return i}return-1}an.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=un(t,e,r,i);return-1<a?(e=t[a],n||(e.Qa=!1)):((e=new rn(e,this.src,o,!!r,i)).Qa=n,t.push(e)),e};var cn="closure_lm_"+(1e6*Math.random()|0),ln={};function hn(t,e,n,r,i){if(r&&r.once)dn(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)hn(t,e[o],n,r,i);else n=En(n),t&&t[en]?In(t,e,n,v(r)?!!r.capture:!!r,i):fn(t,e,n,!1,r,i)}function fn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=v(i)?!!i.capture:!!i,s=wn(t);if(s||(t[cn]=s=new an(t)),!(n=s.add(e,n,r,a,o)).proxy){if(r=function(){var t=bn,e=Je?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ye||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(vn(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}0}}function dn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)dn(t,e[o],n,r,i);else n=En(n),t&&t[en]?Sn(t,e,n,v(r)?!!r.capture:!!r,i):fn(t,e,n,!0,r,i)}function pn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)pn(t,e[o],n,r,i);else r=v(r)?!!r.capture:!!r,n=En(n),t&&t[en]?(t=t.v,(e=String(e).toString())in t.a&&(-1<(n=un(o=t.a[e],n,r,i))&&(on(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=wn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=un(e,n,r,i)),(n=-1<t?e[t]:null)&&mn(n))}function mn(t){if("number"!==typeof t&&t&&!t.wa){var e=t.src;if(e&&e[en])sn(e.v,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(vn(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=wn(e))?(sn(n,t),0==n.b&&(n.src=null,e[cn]=null)):on(t)}}}function vn(t){return t in ln?ln[t]:ln[t]="on"+t}function gn(t,e,n,r){var i=!0;if((t=wn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.wa&&(o=yn(o,r),i=i&&!1!==o)}return i}function yn(t,e){var n=t.listener,r=t.Wa||t.src;return t.Qa&&mn(t),n.call(r,e)}function bn(t,e){if(t.wa)return!0;if(!Je){if(!e)t:{e=["window","event"];for(var n=u,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new Qe(r=e,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(a){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=gn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=gn(r[i],t,!1,e),n=n&&o}return n}return yn(t,new Qe(e,this))}function wn(t){return(t=t[cn])instanceof an?t:null}var _n="__closure_events_fn_"+(1e9*Math.random()>>>0);function En(t){return m(t)?t:(t[_n]||(t[_n]=function(e){return t.handleEvent(e)}),t[_n])}function Tn(){He.call(this),this.v=new an(this),this.bc=this,this.hb=null}function In(t,e,n,r,i){t.v.add(String(e),n,!1,r,i)}function Sn(t,e,n,r,i){t.v.add(String(e),n,!0,r,i)}function kn(t,e,n,r){if(!(e=t.v.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.wa&&a.capture==n){var s=a.listener,u=a.Wa||a.src;a.Qa&&sn(t.v,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}function Cn(t,e,n){if(m(t))n&&(t=E(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=E(t.handleEvent,t)}return 2147483647<Number(e)?-1:u.setTimeout(t,e||0)}function An(t){var e=null;return new Ee((function(n,r){-1==(e=Cn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw u.clearTimeout(e),t}))}function xn(t){if(t.X&&"function"==typeof t.X)return t.X();if("string"===typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function On(t){if(t.Y&&"function"==typeof t.Y)return t.Y();if(!t.X||"function"!=typeof t.X){if(p(t)||"string"===typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Nn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Nn)for(n=t.Y(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Dn(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Rn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Rn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Rn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}S(Tn,He),Tn.prototype[en]=!0,Tn.prototype.addEventListener=function(t,e,n,r){hn(this,t,e,n,r)},Tn.prototype.removeEventListener=function(t,e,n,r){pn(this,t,e,n,r)},Tn.prototype.dispatchEvent=function(t){var e,n=this.hb;if(n)for(e=[];n;n=n.hb)e.push(n);n=this.bc;var r=t.type||t;if("string"===typeof t)t=new $e(t,n);else if(t instanceof $e)t.target=t.target||n;else{var i=t;yt(t=new $e(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var a=t.b=e[o];i=kn(a,r,!0,t)&&i}if(i=kn(a=t.b=n,r,!0,t)&&i,i=kn(a,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=kn(a=t.b=e[o],r,!1,t)&&i;return i},Tn.prototype.Da=function(){if(Tn.bb.Da.call(this),this.v){var t,e=this.v;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)on(n[r]);delete e.a[t],e.b--}}this.hb=null},(t=Nn.prototype).X=function(){Dn(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.Y=function(){return Dn(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Rn(this.b,t)?this.b[t]:e},t.set=function(t,e){Rn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.Y(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Pn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ln(t,e){var n;this.a=this.l=this.c="",this.g=null,this.h=this.f="",this.i=!1,t instanceof Ln?(this.i=void 0!==e?e:t.i,Fn(this,t.c),this.l=t.l,this.a=t.a,Mn(this,t.g),this.f=t.f,jn(this,rr(t.b)),this.h=t.h):t&&(n=String(t).match(Pn))?(this.i=!!e,Fn(this,n[1]||"",!0),this.l=Gn(n[2]||""),this.a=Gn(n[3]||"",!0),Mn(this,n[4]),this.f=Gn(n[5]||"",!0),jn(this,n[6]||"",!0),this.h=Gn(n[7]||"")):(this.i=!!e,this.b=new Yn(null,this.i))}function Fn(t,e,n){t.c=n?Gn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Mn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.g=e}else t.g=null}function jn(t,e,n){e instanceof Yn?(t.b=e,function(t,e){e&&!t.f&&($n(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(tr(this,e),nr(this,n,t))}),t)),t.f=e}(t.b,t.i)):(n||(e=Hn(e,Jn)),t.b=new Yn(e,t.i))}function Un(t,e,n){t.b.set(e,n)}function Bn(t,e){return t.b.get(e)}function Vn(t){return t instanceof Ln?new Ln(t):new Ln(t,void 0)}function qn(t,e,n,r){var i=new Ln(null,void 0);return t&&Fn(i,t),e&&(i.a=e),n&&Mn(i,n),r&&(i.f=r),i}function Gn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Hn(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,Kn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Kn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ln.prototype.toString=function(){var t=[],e=this.c;e&&t.push(Hn(e,zn,!0),":");var n=this.a;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(Hn(e,zn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.g)&&t.push(":",String(n))),(n=this.f)&&(this.a&&"/"!=n.charAt(0)&&t.push("/"),t.push(Hn(n,"/"==n.charAt(0)?Zn:Wn,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.h)&&t.push("#",Hn(n,Xn)),t.join("")},Ln.prototype.resolve=function(t){var e=new Ln(this),n=!!t.c;n?Fn(e,t.c):n=!!t.l,n?e.l=t.l:n=!!t.a,n?e.a=t.a:n=null!=t.g;var r=t.f;if(n)Mn(e,t.g);else if(n=!!t.f){if("/"!=r.charAt(0))if(this.a&&!this.f)r="/"+r;else{var i=e.f.lastIndexOf("/");-1!=i&&(r=e.f.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(ct(i,"./")||ct(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.f=r:n=""!==t.b.toString(),n?jn(e,rr(t.b)):n=!!t.h,n&&(e.h=t.h),e};var zn=/[#\/\?@]/g,Wn=/[#\?:]/g,Zn=/[#\?]/g,Jn=/[#\?@]/g,Xn=/#/g;function Yn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function $n(t){t.a||(t.a=new Nn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Qn(t){var e=On(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new Yn(null,void 0);t=xn(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?nr(n,i,o):n.add(i,o)}return n}function tr(t,e){$n(t),e=ir(t,e),Rn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Rn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Dn(t)))}function er(t,e){return $n(t),e=ir(t,e),Rn(t.a.b,e)}function nr(t,e,n){tr(t,e),0<n.length&&(t.c=null,t.a.set(ir(t,e),Q(n)),t.b+=n.length)}function rr(t){var e=new Yn;return e.c=t.c,t.a&&(e.a=new Nn(t.a),e.b=t.b),e}function ir(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function or(t){var e=[];return sr(new ar,t,e),e.join("")}function ar(){}function sr(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(Array.isArray(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),sr(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(r in n.push("{"),i="",e)Object.prototype.hasOwnProperty.call(e,r)&&("function"!=typeof(o=e[r])&&(n.push(i),lr(r,n),n.push(":"),sr(t,o,n),i=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":lr(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}(t=Yn.prototype).add=function(t,e){$n(this),this.c=null,t=ir(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){$n(this),this.a.forEach((function(n,r){K(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.Y=function(){$n(this);for(var t=this.a.X(),e=this.a.Y(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.X=function(t){$n(this);var e=[];if("string"===typeof t)er(this,t)&&(e=$(e,this.a.get(ir(this,t))));else{t=this.a.X();for(var n=0;n<t.length;n++)e=$(e,t[n])}return e},t.set=function(t,e){return $n(this),this.c=null,er(this,t=ir(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.X(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.Y(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.X(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var ur={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},cr=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function lr(t,e){e.push('"',t.replace(cr,(function(t){var e=ur[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ur[t]=e),e})),'"')}function hr(){var t=Nr();return Jt&&!!ue&&11==ue||/Edge\/\d+/.test(t)}function fr(){return u.window&&u.window.location.href||self&&self.location&&self.location.href||""}function dr(t,e){e=e||u.window;var n="about:blank";t&&(n=Rt(Mt(t)||Bt)),e.location.href=n}function pr(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<pr(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function mr(t){return!!((t=(t||Nr()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function vr(t){t=t||u.window;try{t.close()}catch(e){}}function gr(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=Nr().toLowerCase(),r&&(e.target=r,ct(n,"crios/")&&(e.target="_blank")),Ar(Nr())==kr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Dt?n:Mt("undefined"!=typeof n.href?n.href:String(n))||Bt,n=t.target||n.target,i=[],t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((dt("iPhone")&&!dt("iPod")&&!dt("iPad")||dt("iPad")||dt("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(bt(a=ve(document,"A"),"HTMLAnchorElement"),e=e instanceof Dt?e:jt(e),a.href=Rt(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=Gt("",r,n,a),t=Rt(e),a&&(Yt&&ct(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Kt(t)+'">',t=new Vt(t=(r=St())?r.createHTML(t):t,null,qt),r=a.document)&&(r.write(function(t){return t instanceof Vt&&t.constructor===Vt?t.a:(M("expected object of type SafeHtml, got '"+t+"' of type "+d(t)),"type_error:SafeHtml")}(t)),r.close())):(a=Gt(e,r,n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}var yr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,br=/^[^@]+@[^@]+$/;function wr(){var t=null;return new Ee((function(e){"complete"==u.document.readyState?e():(t=function(){e()},dn(window,"load",t))})).o((function(e){throw pn(window,"load",t),e}))}function _r(t){return t=t||Nr(),!("file:"!==Fr()&&"ionic:"!==Fr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Er(){var t=u.window;try{return!(!t||t==t.top)}catch(e){return!1}}function Tr(){return"undefined"!==typeof u.WorkerGlobalScope&&"function"===typeof u.importScripts}function Ir(){return r.Z.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.Z.INTERNAL.hasOwnProperty("node")?"Node":Tr()?"Worker":"Browser"}function Sr(){var t=Ir();return"ReactNative"===t||"Node"===t}var kr="Firefox",Cr="Chrome";function Ar(t){var e=t.toLowerCase();return ct(e,"opera/")||ct(e,"opr/")||ct(e,"opios/")?"Opera":ct(e,"iemobile")?"IEMobile":ct(e,"msie")||ct(e,"trident/")?"IE":ct(e,"edge/")?"Edge":ct(e,"firefox/")?kr:ct(e,"silk/")?"Silk":ct(e,"blackberry")?"Blackberry":ct(e,"webos")?"Webos":!ct(e,"safari/")||ct(e,"chrome/")||ct(e,"crios/")||ct(e,"android")?!ct(e,"chrome/")&&!ct(e,"crios/")||ct(e,"edge/")?ct(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Cr:"Safari"}var xr={md:"FirebaseCore-web",od:"FirebaseUI-web"};function Or(t,e){e=e||[];var n,r=[],i={};for(n in xr)i[xr[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=Ir())?r=Ar(i=Nr()):"Worker"===r&&(r=Ar(i=Nr())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function Nr(){return u.navigator&&u.navigator.userAgent||""}function Dr(t,e){t=t.split("."),e=e||u;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Rr(){try{var t=u.localStorage,e=Vr();if(t)return t.setItem(e,"1"),t.removeItem(e),!hr()||!!u.indexedDB}catch(n){return Tr()&&!!u.indexedDB}return!1}function Pr(){return(Lr()||"chrome-extension:"===Fr()||_r())&&!Sr()&&Rr()&&!Tr()}function Lr(){return"http:"===Fr()||"https:"===Fr()}function Fr(){return u.location&&u.location.protocol||null}function Mr(t){return!mr(t=t||Nr())&&Ar(t)!=kr}function jr(t){return"undefined"===typeof t?null:or(t)}function Ur(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Br(t){if(null!==t)return JSON.parse(t)}function Vr(t){return t||Math.floor(1e9*Math.random()).toString()}function qr(t){return"Safari"!=Ar(t=t||Nr())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Gr(){var t=u.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Hr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=Nr(),e=Ir(),this.b=mr(t)||"ReactNative"===e}function Kr(){var t=u.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function zr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function Wr(){return!(!Dr("fireauth.oauthhelper",u)&&!Dr("fireauth.iframe",u))}Hr.prototype.get=function(){var t=u.navigator;return!t||"boolean"!==typeof t.onLine||!Lr()&&"chrome-extension:"!==Fr()&&"undefined"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Zr,Jr={};function Xr(t){Jr[t]||(Jr[t]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t))}try{var Yr={};Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Yr,"abcd",{configurable:!0,enumerable:!0,value:2}),Zr=2==Yr.abcd}catch(cf){Zr=!1}function $r(t,e,n){Zr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function Qr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&$r(t,n,e[n])}function ti(t){var e={};return Qr(e,t),e}function ei(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)$r(e,n,ei(t[n]));return e}function ni(t){var e=t&&(t[si]?"phone":null);if(!(e&&t&&t[ai]))throw new C("internal-error","Internal assert: invalid MultiFactorInfo object");$r(this,"uid",t[ai]),$r(this,"displayName",t[ii]||null);var n=null;t[oi]&&(n=new Date(t[oi]).toUTCString()),$r(this,"enrollmentTime",n),$r(this,"factorId",e)}function ri(t){try{var e=new ui(t)}catch(n){e=null}return e}ni.prototype.w=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var ii="displayName",oi="enrolledAt",ai="mfaEnrollmentId",si="phoneInfo";function ui(t){ni.call(this,t),$r(this,"phoneNumber",t[si])}function ci(t){var e={},n=t[di],r=t[mi],i=t[vi];if(t=ri(t[pi]),!i||i!=hi&&i!=fi&&!n||i==fi&&!r||i==li&&!t)throw Error("Invalid checkActionCode response!");i==fi?(e[yi]=n||null,e[wi]=n||null,e[gi]=r):(e[yi]=r||null,e[wi]=r||null,e[gi]=n||null),e[bi]=t||null,$r(this,Ei,i),$r(this,_i,ei(e))}S(ui,ni),ui.prototype.w=function(){var t=ui.bb.w.call(this);return t.phoneNumber=this.phoneNumber,t};var li="REVERT_SECOND_FACTOR_ADDITION",hi="EMAIL_SIGNIN",fi="VERIFY_AND_CHANGE_EMAIL",di="email",pi="mfaInfo",mi="newEmail",vi="requestType",gi="email",yi="fromEmail",bi="multiFactorInfo",wi="previousEmail",_i="data",Ei="operation";function Ti(t){var e=Bn(t=Vn(t),Ii)||null,n=Bn(t,Si)||null,r=Bn(t,Ai)||null;if(r=r&&Oi[r]||null,!e||!n||!r)throw new C("argument-error",Ii+", "+Si+"and "+Ai+" are required in a valid action code URL.");Qr(this,{apiKey:e,operation:r,code:n,continueUrl:Bn(t,ki)||null,languageCode:Bn(t,Ci)||null,tenantId:Bn(t,xi)||null})}var Ii="apiKey",Si="oobCode",ki="continueUrl",Ci="languageCode",Ai="mode",xi="tenantId",Oi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:li,signIn:hi,verifyAndChangeEmail:fi,verifyEmail:"VERIFY_EMAIL"};function Ni(t){try{return new Ti(t)}catch(e){return null}}function Di(t){var e=t[Mi];if("undefined"===typeof e)throw new C("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new C("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ri];if(n&&"object"===typeof n){e=n[Bi];var r=n[ji];if(n=n[Ui],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof r&&"boolean"!==typeof r)throw new C("argument-error",ji+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new C("argument-error",Ui+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new C("argument-error",Bi+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new C("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new C("argument-error",Ri+" property must be a non null object when specified.");if(this.f=null,(e=t[Fi])&&"object"===typeof e){if("string"===typeof(e=e[Vi])&&e.length)this.f=e;else if("undefined"!==typeof e)throw new C("argument-error",Vi+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new C("argument-error",Fi+" property must be a non null object when specified.");if("undefined"!==typeof(e=t[Li])&&"boolean"!==typeof e)throw new C("argument-error",Li+" property must be a boolean when specified.");if(this.c=!!e,"undefined"!==typeof(t=t[Pi])&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new C("argument-error",Pi+" property must be a non empty string when specified.");this.i=t||null}var Ri="android",Pi="dynamicLinkDomain",Li="handleCodeInApp",Fi="iOS",Mi="url",ji="installApp",Ui="minimumVersion",Bi="packageName",Vi="bundleId";function qi(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Gi=null;function Hi(t){var e=[];return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Gi[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Gi){Gi={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Gi[o]&&(Gi[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}(t,(function(t){e.push(t)})),e}function Ki(t){var e=Wi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.h=t,this.a=e.exp,this.i=e.sub,t=Date.now()/1e3,this.g=e.iat||(t>this.a?this.a:t),this.b=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.c=!!e.is_anonymous||"anonymous"==this.b}function zi(t){try{return new Ki(t)}catch(e){return null}}function Wi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{var r=Hi(t);for(t=[],n=e=0;e<r.length;){var i=r[e++];if(128>i)t[n++]=String.fromCharCode(i);else if(191<i&&224>i){var o=r[e++];t[n++]=String.fromCharCode((31&i)<<6|63&o)}else if(239<i&&365>i){o=r[e++];var a=r[e++],s=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&r[e++])-65536;t[n++]=String.fromCharCode(55296+(s>>10)),t[n++]=String.fromCharCode(56320+(1023&s))}else o=r[e++],a=r[e++],t[n++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}return JSON.parse(t.join(""))}catch(u){}return null}Ki.prototype.T=function(){return this.f},Ki.prototype.l=function(){return this.c},Ki.prototype.toString=function(){return this.h};var Zi="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Ji=["client_id","response_type","scope","redirect_uri","state"],Xi={nd:{Ja:"locale",va:700,ua:600,fa:"facebook.com",Ya:Ji},pd:{Ja:null,va:500,ua:750,fa:"github.com",Ya:Ji},qd:{Ja:"hl",va:515,ua:680,fa:"google.com",Ya:Ji},wd:{Ja:"lang",va:485,ua:705,fa:"twitter.com",Ya:Zi},kd:{Ja:"locale",va:640,ua:600,fa:"apple.com",Ya:[]}};function Yi(t){for(var e in Xi)if(Xi[e].fa==t)return Xi[e];return null}function $i(t){var e={};e["facebook.com"]=ro,e["google.com"]=oo,e["github.com"]=io,e["twitter.com"]=ao;var n=t&&t[to];try{if(n)return e[n]?new e[n](t):new no(t);if("undefined"!==typeof t[Qi])return new eo(t)}catch(r){}return null}var Qi="idToken",to="providerId";function eo(t){var e=t[to];if(!e&&t[Qi]){var n=zi(t[Qi]);n&&n.b&&(e=n.b)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),$r(this,"providerId",e),$r(this,"isNewUser",n)}function no(t){eo.call(this,t),$r(this,"profile",ei((t=Br(t.rawUserInfo||"{}"))||{}))}function ro(t){if(no.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function io(t){if(no.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");$r(this,"username",this.profile&&this.profile.login||null)}function oo(t){if(no.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function ao(t){if(no.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");$r(this,"username",t.screenName||null)}function so(t){var e=Vn(t),n=Bn(e,"link"),r=Bn(Vn(n),"link");return e=Bn(e,"deep_link_id"),Bn(Vn(e),"link")||e||r||n||t}function uo(t,e){if(!t&&!e)throw new C("internal-error","Internal assert: no raw session string available");if(t&&e)throw new C("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?co:lo}S(no,eo),S(ro,no),S(io,no),S(oo,no),S(ao,no);var co="enroll",lo="signin";function ho(){}function fo(t,e){return t.then((function(t){if(t[es]){var n=zi(t[es]);if(!n||e!=n.i)throw new C("user-mismatch");return t}throw new C("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==O+"user-not-found"?new C("user-mismatch"):t}))}function po(t,e){if(!e)throw new C("internal-error","failed to construct a credential");this.a=e,$r(this,"providerId",t),$r(this,"signInMethod",t)}function mo(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function vo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new po(t.providerId,t.pendingToken)}catch(e){}return null}function go(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&$r(this,"idToken",e.idToken),e.accessToken&&$r(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&$r(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new C("internal-error","failed to construct a credential");$r(this,"accessToken",e.oauthToken),$r(this,"secret",e.oauthTokenSecret)}$r(this,"providerId",t),$r(this,"signInMethod",n)}function yo(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Qn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function bo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new go(t.providerId,e,t.signInMethod)}catch(n){}}return null}function wo(t,e){this.Qc=e||[],Qr(this,{providerId:t,isOAuthProvider:!0}),this.Jb={},this.qb=(Yi(t)||{}).Ja||null,this.pb=null}function _o(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new C("argument-error",'SAML provider IDs must be prefixed with "saml."');wo.call(this,t,[])}function Eo(t){wo.call(this,t,Ji),this.a=[]}function To(){Eo.call(this,"facebook.com")}function Io(t){if(!t)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new To).credential({accessToken:e})}function So(){Eo.call(this,"github.com")}function ko(t){if(!t)throw new C("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return v(t)&&(e=t.accessToken),(new So).credential({accessToken:e})}function Co(){Eo.call(this,"google.com"),this.Ca("profile")}function Ao(t,e){var n=t;return v(t)&&(n=t.idToken,e=t.accessToken),(new Co).credential({idToken:n,accessToken:e})}function xo(){wo.call(this,"twitter.com",Zi)}function Oo(t,e){var n=t;if(v(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new C("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new go("twitter.com",n,"twitter.com")}function No(t,e,n){this.a=t,this.f=e,$r(this,"providerId","password"),$r(this,"signInMethod",n===Ro.EMAIL_LINK_SIGN_IN_METHOD?Ro.EMAIL_LINK_SIGN_IN_METHOD:Ro.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Do(t){return t&&t.email&&t.password?new No(t.email,t.password,t.signInMethod):null}function Ro(){Qr(this,{providerId:"password",isOAuthProvider:!1})}function Po(t,e){if(!(e=Lo(e)))throw new C("argument-error","Invalid email link!");return new No(t,e.code,Ro.EMAIL_LINK_SIGN_IN_METHOD)}function Lo(t){return(t=Ni(t=so(t)))&&t.operation===hi?t:null}function Fo(t){if(!(t.fb&&t.eb||t.La&&t.ea))throw new C("internal-error");this.a=t,$r(this,"providerId","phone"),this.fa="phone",$r(this,"signInMethod","phone")}function Mo(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return K(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new Fo(e)}return null}function jo(t){return t.a.La&&t.a.ea?{temporaryProof:t.a.La,phoneNumber:t.a.ea}:{sessionInfo:t.a.fb,code:t.a.eb}}function Uo(t){try{this.a=t||r.Z.auth()}catch(e){throw new C("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}Qr(this,{providerId:"phone",isOAuthProvider:!1})}function Bo(t,e){if(!t)throw new C("missing-verification-id");if(!e)throw new C("missing-verification-code");return new Fo({fb:t,eb:e})}function Vo(t){if(t.temporaryProof&&t.phoneNumber)return new Fo({La:t.temporaryProof,ea:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return Ao(o,n);case"facebook.com":return Io(n);case"github.com":return ko(n);case"twitter.com":return Oo(n,r);default:return n||r||o||a?a?0==e.indexOf("saml.")?new po(e,a):new go(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new Eo(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(s){return null}}function qo(t){if(!t.isOAuthProvider)throw new C("invalid-oauth-provider")}function Go(t,e,n,r,i,o,a){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=a||null,this.a=i||null,!this.g&&!this.a)throw new C("invalid-auth-event");if(this.g&&this.a)throw new C("invalid-auth-event");if(this.g&&!this.f)throw new C("invalid-auth-event")}function Ho(t){return(t=t||{}).type?new Go(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&A(t.error),t.postBody,t.tenantId):null}function Ko(){this.b=null,this.a=[]}uo.prototype.Ha=function(){return this.a?xe(this.a):xe(this.b)},uo.prototype.w=function(){return this.type==co?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},ho.prototype.ka=function(){},ho.prototype.b=function(){},ho.prototype.c=function(){},ho.prototype.w=function(){},po.prototype.ka=function(t){return Ts(t,mo(this))},po.prototype.b=function(t,e){var n=mo(this);return n.idToken=e,Is(t,n)},po.prototype.c=function(t,e){return fo(Ss(t,mo(this)),e)},po.prototype.w=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},go.prototype.ka=function(t){return Ts(t,yo(this))},go.prototype.b=function(t,e){var n=yo(this);return n.idToken=e,Is(t,n)},go.prototype.c=function(t,e){return fo(Ss(t,yo(this)),e)},go.prototype.w=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},wo.prototype.Ka=function(t){return this.Jb=vt(t),this},S(_o,wo),S(Eo,wo),Eo.prototype.Ca=function(t){return J(this.a,t)||this.a.push(t),this},Eo.prototype.Rb=function(){return Q(this.a)},Eo.prototype.credential=function(t,e){var n;if(!(n=v(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new C("argument-error","credential failed: must provide the ID token and/or the access token.");return new go(this.providerId,n,this.providerId)},S(To,Eo),$r(To,"PROVIDER_ID","facebook.com"),$r(To,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),S(So,Eo),$r(So,"PROVIDER_ID","github.com"),$r(So,"GITHUB_SIGN_IN_METHOD","github.com"),S(Co,Eo),$r(Co,"PROVIDER_ID","google.com"),$r(Co,"GOOGLE_SIGN_IN_METHOD","google.com"),S(xo,wo),$r(xo,"PROVIDER_ID","twitter.com"),$r(xo,"TWITTER_SIGN_IN_METHOD","twitter.com"),No.prototype.ka=function(t){return this.signInMethod==Ro.EMAIL_LINK_SIGN_IN_METHOD?au(t,Rs,{email:this.a,oobCode:this.f}):au(t,eu,{email:this.a,password:this.f})},No.prototype.b=function(t,e){return this.signInMethod==Ro.EMAIL_LINK_SIGN_IN_METHOD?au(t,Ps,{idToken:e,email:this.a,oobCode:this.f}):au(t,Ws,{idToken:e,email:this.a,password:this.f})},No.prototype.c=function(t,e){return fo(this.ka(t),e)},No.prototype.w=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},Qr(Ro,{PROVIDER_ID:"password"}),Qr(Ro,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),Qr(Ro,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Fo.prototype.ka=function(t){return t.gb(jo(this))},Fo.prototype.b=function(t,e){var n=jo(this);return n.idToken=e,au(t,ru,n)},Fo.prototype.c=function(t,e){var n=jo(this);return n.operation="REAUTH",fo(t=au(t,iu,n),e)},Fo.prototype.w=function(){var t={providerId:"phone"};return this.a.fb&&(t.verificationId=this.a.fb),this.a.eb&&(t.verificationCode=this.a.eb),this.a.La&&(t.temporaryProof=this.a.La),this.a.ea&&(t.phoneNumber=this.a.ea),t},Uo.prototype.gb=function(t,e){var n=this.a.a;return xe(e.verify()).then((function(r){if("string"!==typeof r)throw new C("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");if("recaptcha"===e.type){var i,o=v(t)?t.session:null,a=v(t)?t.phoneNumber:t;return i=o&&o.type==co?o.Ha().then((function(t){return function(t,e){return au(t,Js,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:r}})})):o&&o.type==lo?o.Ha().then((function(e){return function(t,e){return au(t,Xs,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return au(t,Ks,e)}(n,{phoneNumber:a,recaptchaToken:r}),i.then((function(t){return"function"===typeof e.reset&&e.reset(),t}),(function(t){throw"function"===typeof e.reset&&e.reset(),t}))}throw new C("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}))},Qr(Uo,{PROVIDER_ID:"phone"}),Qr(Uo,{PHONE_SIGN_IN_METHOD:"phone"}),Go.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Go.prototype.T=function(){return this.h},Go.prototype.w=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.w()}};var zo,Wo=null;function Zo(t){var e="unauthorized-domain",n=void 0,r=Vn(t);t=r.a,"chrome-extension"==(r=r.c)?n=Ht("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=Ht("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",C.call(this,e,n)}function Jo(t,e,n){C.call(this,t,n),(t=e||{}).Kb&&$r(this,"email",t.Kb),t.ea&&$r(this,"phoneNumber",t.ea),t.credential&&$r(this,"credential",t.credential),t.$b&&$r(this,"tenantId",t.$b)}function Xo(t){if(t.code){var e=t.code||"";0==e.indexOf(O)&&(e=e.substring(O.length));var n={credential:Vo(t),$b:t.tenantId};if(t.email)n.Kb=t.email;else if(t.phoneNumber)n.ea=t.phoneNumber;else if(!n.credential)return new C(e,t.message||void 0);return new Jo(e,n,t.message)}return null}function Yo(){}function $o(t){return t.c||(t.c=t.b())}function Qo(){}function ta(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(i){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function ea(){}function na(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=E(this.qc,this),this.a.onerror=E(this.Tb,this),this.a.onprogress=E(this.rc,this),this.a.ontimeout=E(this.vc,this)}function ra(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function ia(t,e,n){this.reset(t,e,n,void 0,void 0)}S(Zo,C),S(Jo,C),Jo.prototype.w=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.w();return e&&yt(t,e),t},Jo.prototype.toJSON=function(){return this.w()},Yo.prototype.c=null,S(Qo,Yo),Qo.prototype.a=function(){var t=ta(this);return t?new ActiveXObject(t):new XMLHttpRequest},Qo.prototype.b=function(){var t={};return ta(this)&&(t[0]=!0,t[1]=!0),t},zo=new Qo,S(ea,Yo),ea.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new na;throw Error("Unsupported browser")},ea.prototype.b=function(){return{}},(t=na.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.qc=function(){this.status=200,this.response=this.responseText=this.a.responseText,ra(this,4)},t.Tb=function(){this.status=500,this.response=this.responseText="",ra(this,4)},t.vc=function(){this.Tb()},t.rc=function(){this.status=200,ra(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},ia.prototype.a=null;function oa(t){this.f=t,this.b=this.c=this.a=null}function aa(t,e){this.name=t,this.value=e}ia.prototype.reset=function(t,e,n,r,i){"number"==typeof i||0,r||I(),delete this.a},aa.prototype.toString=function(){return this.name};var sa=new aa("SEVERE",1e3),ua=new aa("WARNING",900),ca=new aa("CONFIG",700),la=new aa("FINE",500);function ha(t){return t.c?t.c:t.a?ha(t.a):(M("Root logger has no level set."),null)}oa.prototype.log=function(t,e,n){if(t.value>=ha(this).value)for(m(e)&&(e=e()),t=new ia(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var fa={},da=null;function pa(t){var e;if(da||(da=new oa(""),fa[""]=da,da.c=ca),!(e=fa[t])){e=new oa(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=pa(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,fa[t]=e}return e}function ma(t,e){t&&t.log(la,e,void 0)}function va(t){this.f=t}function ga(t){Tn.call(this),this.u=t,this.h=void 0,this.readyState=ya,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.l=new Headers,this.b=null,this.s="GET",this.f="",this.a=!1,this.i=pa("goog.net.FetchXmlHttp"),this.m=this.c=this.g=null}S(va,Yo),va.prototype.a=function(){return new ga(this.f)},va.prototype.b=function(t){return function(){return t}}({}),S(ga,Tn);var ya=0;function ba(t){t.c.read().then(t.pc.bind(t)).catch(t.Va.bind(t))}function wa(t){t.readyState=4,t.g=null,t.c=null,t.m=null,_a(t)}function _a(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Ea(t){Tn.call(this),this.headers=new Nn,this.D=t||null,this.c=!1,this.C=this.a=null,this.h=this.P=this.l="",this.f=this.N=this.i=this.J=!1,this.g=0,this.s=null,this.m=Ta,this.u=this.S=!1}(t=ga.prototype).open=function(t,e){if(this.readyState!=ya)throw this.abort(),Error("Error reopening a connection");this.s=t,this.f=e,this.readyState=1,_a(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.l,method:this.s,credentials:this.h,cache:void 0};t&&(e.body=t),this.u.fetch(new Request(this.f,e)).then(this.uc.bind(this),this.Va.bind(this))},t.abort=function(){this.response=this.responseText="",this.l=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,wa(this)),this.readyState=ya},t.uc=function(t){this.a&&(this.g=t,this.b||(this.status=this.g.status,this.statusText=this.g.statusText,this.b=t.headers,this.readyState=2,_a(this)),this.a&&(this.readyState=3,_a(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.sc.bind(this),this.Va.bind(this)):"undefined"!==typeof u.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.m=new TextDecoder,ba(this)):t.text().then(this.tc.bind(this),this.Va.bind(this)))))},t.pc=function(t){if(this.a){var e=this.m.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?wa(this):_a(this),3==this.readyState&&ba(this)}},t.tc=function(t){this.a&&(this.response=this.responseText=t,wa(this))},t.sc=function(t){this.a&&(this.response=t,wa(this))},t.Va=function(t){var e=this.i;e&&e.log(ua,"Failed to fetch url "+this.f,t instanceof Error?t:Error(t)),this.a&&wa(this)},t.setRequestHeader=function(t,e){this.l.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.i)&&t.log(ua,"Attempting to get response header but no headers have been received for url: "+this.f,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.i;return t&&t.log(ua,"Attempting to get all response headers but no headers have been received for url: "+this.f,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(ga.prototype,"withCredentials",{get:function(){return"include"===this.h},set:function(t){this.h=t?"include":"same-origin"}}),S(Ea,Tn);var Ta="";Ea.prototype.b=pa("goog.net.XhrIo");var Ia=/^https?$/i,Sa=["POST","PUT"];function ka(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.J=!1,t.c=!0,t.a=t.D?t.D.a():zo.a(),t.C=t.D?$o(t.D):$o(zo),t.a.onreadystatechange=E(t.Wb,t);try{ma(t.b,La(t,"Opening Xhr")),t.N=!0,t.a.open(n,String(e),!0),t.N=!1}catch(a){return ma(t.b,La(t,"Error opening Xhr: "+a.message)),void Aa(t,a)}e=r||"";var o=new Nn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"===typeof t)K(t,e,void 0);else for(var n=On(t),r=xn(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=Ca,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(o.Y()),r=u.FormData&&e instanceof u.FormData,!J(Sa,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.S&&(t.a.withCredentials=t.S);try{Da(t),0<t.g&&(t.u=function(t){return Jt&&ae(9)&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(t.a),ma(t.b,La(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.u)),t.u?(t.a.timeout=t.g,t.a.ontimeout=E(t.Ma,t)):t.s=Cn(t.Ma,t.g,t)),ma(t.b,La(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(a){ma(t.b,La(t,"Send error: "+a.message)),Aa(t,a)}}function Ca(t){return"content-type"==t.toLowerCase()}function Aa(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,xa(t),Na(t)}function xa(t){t.J||(t.J=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Oa(t){if(t.c&&"undefined"!=typeof s)if(t.C[1]&&4==Ra(t)&&2==Pa(t))ma(t.b,La(t,"Local request error detected and ignored"));else if(t.i&&4==Ra(t))Cn(t.Wb,0,t);else if(t.dispatchEvent("readystatechange"),4==Ra(t)){ma(t.b,La(t,"Request complete")),t.c=!1;try{var e,n=Pa(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.l).match(Pn)[1]||null;if(!o&&u.self&&u.self.location){var a=u.self.location.protocol;o=a.substr(0,a.length-1)}i=!Ia.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Ra(t)?t.a.statusText:""}catch(l){ma(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+Pa(t)+"]",xa(t)}}finally{Na(t)}}}function Na(t,e){if(t.a){Da(t);var n=t.a,r=t.C[0]?f:null;t.a=null,t.C=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(i){(t=t.b)&&t.log(sa,"Problem encountered resetting onreadystatechange: "+i.message,void 0)}}}function Da(t){t.a&&t.u&&(t.a.ontimeout=null),t.s&&(u.clearTimeout(t.s),t.s=null)}function Ra(t){return t.a?t.a.readyState:0}function Pa(t){try{return 2<Ra(t)?t.a.status:-1}catch(e){return-1}}function La(t,e){return e+" ["+t.P+" "+t.l+" "+Pa(t)+"]"}function Fa(t){var e=Wa;this.g=[],this.u=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.v=this.C=this.i=!1,this.h=0,this.b=null,this.l=0}function Ma(t,e,n){t.a=!0,t.c=n,t.f=!e,Va(t)}function ja(t){if(t.a){if(!t.v)throw new qa(t);t.v=!1}}function Ua(t,e,n,r){t.g.push([e,n,r]),t.a&&Va(t)}function Ba(t){return Z(t.g,(function(t){return m(t[1])}))}function Va(t){if(t.h&&t.a&&Ba(t)){var e=t.h,n=Ka[e];n&&(u.clearTimeout(n.a),delete Ka[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var s=o.call(i||t.s,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(P(e)||"function"===typeof u.Promise&&e instanceof u.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Ba(t)||(n=!0)}}t.c=e,r&&(s=E(t.m,t,!0),r=E(t.m,t,!1),e instanceof Fa?(Ua(e,s,r),e.C=!0):e.then(s,r)),n&&(e=new Ha(e),Ka[e.a]=e,t.h=e.a)}function qa(){L.call(this)}function Ga(){L.call(this)}function Ha(t){this.a=u.setTimeout(E(this.c,this),0),this.b=t}(t=Ea.prototype).Ma=function(){"undefined"!=typeof s&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ma(this.b,La(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ma(this.b,La(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Na(this))},t.Da=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),Na(this,!0)),Ea.bb.Da.call(this)},t.Wb=function(){this.ya||(this.N||this.i||this.f?Oa(this):this.Jc())},t.Jc=function(){Oa(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case Ta:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(sa,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(e){return ma(this.b,"Can not get response: "+e.message),null}},Fa.prototype.cancel=function(t){if(this.a)this.c instanceof Fa&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.u?this.u.call(this.s,this):this.v=!0,this.a||(t=new Ga(this),ja(this),Ma(this,!1,t))}},Fa.prototype.m=function(t,e){this.i=!1,Ma(this,t,e)},Fa.prototype.then=function(t,e,n){var r,i,o=new Ee((function(t,e){r=t,i=e}));return Ua(this,r,(function(t){t instanceof Ga?o.cancel():i(t)})),o.then(t,e,n)},Fa.prototype.$goog_Thenable=!0,S(qa,L),qa.prototype.message="Deferred has already fired",qa.prototype.name="AlreadyCalledError",S(Ga,L),Ga.prototype.message="Deferred was canceled",Ga.prototype.name="CanceledError",Ha.prototype.c=function(){throw delete Ka[this.a],this.b};var Ka={};function za(t){var e={},n=e.document||document,r=Ct(t).toString(),i=ve(document,"SCRIPT"),o={Xb:i,Ma:void 0},a=new Fa(o),s=null,c=null!=e.timeout?e.timeout:5e3;return 0<c&&(s=window.setTimeout((function(){Za(i,!0);var t=new Ya(Xa,"Timeout reached for loading script "+r);ja(a),Ma(a,!1,t)}),c),o.Ma=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Za(i,e.xd||!1,s),ja(a),Ma(a,!0,null))},i.onerror=function(){Za(i,!0,s);var t=new Ya(Ja,"Error while loading script "+r);ja(a),Ma(a,!1,t)},yt(o=e.attributes||{},{type:"text/javascript",charset:"UTF-8"}),he(i,o),function(t,e){bt(t,"HTMLScriptElement"),t.src=Ct(e),(e=t.ownerDocument&&t.ownerDocument.defaultView)&&e!=u?e=h(e.document):(null===l&&(l=h(u.document)),e=l),e&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),a}function Wa(){if(this&&this.Xb){var t=this.Xb;t&&"SCRIPT"==t.tagName&&Za(t,!0,this.Ma)}}function Za(t,e,n){null!=n&&u.clearTimeout(n),t.onload=f,t.onerror=f,t.onreadystatechange=f,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var Ja=0,Xa=1;function Ya(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),L.call(this,n),this.code=t}function $a(t){this.f=t}function Qa(t,e,n){if(this.c=t,t=e||{},this.l=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||ns,this.g=vt(t.secureTokenHeaders||rs),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.i=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.v=t.firebaseTimeout||is,this.a=vt(t.firebaseHeaders||os),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==Ir(),!(n=u.XMLHttpRequest||n&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.XMLHttpRequest)&&!Tr())throw new C("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,Tr()?this.f=new va(self):Sr()?this.f=new $a(n):this.f=new ea,this.b=null}S(Ya,L),S($a,Yo),$a.prototype.a=function(){return new this.f},$a.prototype.b=function(){return{}};var ts,es="idToken",ns=new Hr(3e4,6e4),rs={"Content-Type":"application/x-www-form-urlencoded"},is=new Hr(3e4,6e4),os={"Content-Type":"application/json"};function as(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function ss(t,e){e&&(t.l=us("https://securetoken.googleapis.com/v1/token",e),t.h=us("https://www.googleapis.com/identitytoolkit/v3/relyingparty/",e),t.i=us("https://identitytoolkit.googleapis.com/v2/",e))}function us(t,e){return t=Vn(t),e=Vn(e.url),t.f=t.a+t.f,Fn(t,e.c),t.a=e.a,Mn(t,e.g),t.toString()}function cs(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function ls(t,e,n,r,i,o,a){(function(){var t=Nr();return!((t=Ar(t)!=Cr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!Jt||!ue||9<ue)})()||Tr()?t=E(t.u,t):(ts||(ts=new Ee((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{u[fs]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){Ua(t,null,e,void 0)}(za(At(hs,{onload:fs})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=E(t.s,t)),t(e,n,r,i,o,a)}Qa.prototype.T=function(){return this.b},Qa.prototype.u=function(t,e,n,r,i,o){if(Tr()&&("undefined"===typeof u.fetch||"undefined"===typeof u.Headers||"undefined"===typeof u.Request))throw new C("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Ea(this.f);if(o){a.g=Math.max(0,o);var s=setTimeout((function(){a.dispatchEvent("timeout")}),o)}In(a,"complete",(function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return ma(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(n){t=null}e&&e(t)})),Sn(a,"ready",(function(){s&&clearTimeout(s),We(this)})),Sn(a,"timeout",(function(){s&&clearTimeout(s),We(this),e&&e(null)})),ka(a,t,n,r,i)};var hs=new wt(It,"https://apis.google.com/js/client.js?onload=%{onload}"),fs="__fcb"+Math.floor(1e6*Math.random()).toString();function ds(t,e,n,r,i,o,a){var s=Vn(e+n);Un(s,"key",t.c),a&&Un(s,"cb",Date.now().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&Un(s,c,i[c]);return new Ee((function(e,n){ls(t,s.toString(),(function(t){t?t.error?n(uu(t,o||{})):e(t):n(new C("network-request-failed"))}),r,u?void 0:or(Ur(i)),t.a,t.v.get())}))}function ps(t){if("string"!==typeof(t=t.email)||!br.test(t))throw new C("invalid-email")}function ms(t){"email"in t&&ps(t)}function vs(t){if(!t[es]){if(t.mfaPendingCredential)throw new C("multi-factor-auth-required",null,vt(t));throw new C("internal-error")}}function gs(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new C("internal-error")}else{if(!t.sessionInfo)throw new C("missing-verification-id");if(!t.code)throw new C("missing-verification-code")}}Qa.prototype.s=function(t,e,n,r,i){var o=this;ts.then((function(){window.gapi.client.setApiKey(o.c);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Qa.prototype.Ab=function(){return au(this,Zs,{})},Qa.prototype.Cb=function(t,e){return au(this,zs,{idToken:t,email:e})},Qa.prototype.Db=function(t,e){return au(this,Ws,{idToken:t,password:e})};var ys={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function bs(t){if(!t.phoneVerificationInfo)throw new C("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new C("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new C("missing-verification-code")}function ws(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new C("internal-error")}function _s(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(er(t=new Yn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function Es(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Xo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Xo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Xo(t)):t.errorMessage&&(e=su(t.errorMessage)),e)throw e;vs(t)}function Ts(t,e){return e.returnIdpCredential=!0,au(t,Ys,e)}function Is(t,e){return e.returnIdpCredential=!0,au(t,Qs,e)}function Ss(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,au(t,$s,e)}function ks(t){if(!t.oobCode)throw new C("invalid-action-code")}(t=Qa.prototype).Eb=function(t,e){var n={idToken:t},r=[];return pt(ys,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),au(this,zs,n)},t.wb=function(t,e){return yt(t={requestType:"PASSWORD_RESET",email:t},e),au(this,Vs,t)},t.xb=function(t,e){return yt(t={requestType:"EMAIL_SIGNIN",email:t},e),au(this,js,t)},t.vb=function(t,e){return yt(t={requestType:"VERIFY_EMAIL",idToken:t},e),au(this,Us,t)},t.Fb=function(t,e,n){return yt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),au(this,Bs,t)},t.gb=function(t){return au(this,nu,t)},t.ob=function(t,e){return au(this,Hs,{oobCode:t,newPassword:e})},t.Sa=function(t){return au(this,As,{oobCode:t})},t.kb=function(t){return au(this,Cs,{oobCode:t})};var Cs={endpoint:"setAccountInfo",A:ks,Z:"email",B:!0},As={endpoint:"resetPassword",A:ks,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new C("internal-error")},B:!0},xs={endpoint:"signupNewUser",A:function(t){if(ps(t),!t.password)throw new C("weak-password")},G:vs,V:!0,B:!0},Os={endpoint:"createAuthUri",B:!0},Ns={endpoint:"deleteAccount",O:["idToken"]},Ds={endpoint:"setAccountInfo",O:["idToken","deleteProvider"],A:function(t){if(!Array.isArray(t.deleteProvider))throw new C("internal-error")}},Rs={endpoint:"emailLinkSignin",O:["email","oobCode"],A:ps,G:vs,V:!0,B:!0},Ps={endpoint:"emailLinkSignin",O:["idToken","email","oobCode"],A:ps,G:vs,V:!0},Ls={endpoint:"accounts/mfaEnrollment:finalize",O:["idToken","phoneVerificationInfo"],A:bs,G:vs,B:!0,Na:!0},Fs={endpoint:"accounts/mfaSignIn:finalize",O:["mfaPendingCredential","phoneVerificationInfo"],A:bs,G:vs,B:!0,Na:!0},Ms={endpoint:"getAccountInfo"},js={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new C("internal-error");ps(t)},Z:"email",B:!0},Us={endpoint:"getOobConfirmationCode",O:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new C("internal-error")},Z:"email",B:!0},Bs={endpoint:"getOobConfirmationCode",O:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new C("internal-error")},Z:"email",B:!0},Vs={endpoint:"getOobConfirmationCode",O:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new C("internal-error");ps(t)},Z:"email",B:!0},qs={mb:!0,endpoint:"getProjectConfig",Vb:"GET"},Gs={mb:!0,endpoint:"getRecaptchaParam",Vb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new C("internal-error")}},Hs={endpoint:"resetPassword",A:ks,Z:"email",B:!0},Ks={endpoint:"sendVerificationCode",O:["phoneNumber","recaptchaToken"],Z:"sessionInfo",B:!0},zs={endpoint:"setAccountInfo",O:["idToken"],A:ms,V:!0},Ws={endpoint:"setAccountInfo",O:["idToken"],A:function(t){if(ms(t),!t.password)throw new C("weak-password")},G:vs,V:!0},Zs={endpoint:"signupNewUser",G:vs,V:!0,B:!0},Js={endpoint:"accounts/mfaEnrollment:start",O:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new C("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new C("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new C("internal-error")},B:!0,Na:!0},Xs={endpoint:"accounts/mfaSignIn:start",O:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new C("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new C("internal-error")},B:!0,Na:!0},Ys={endpoint:"verifyAssertion",A:ws,Za:_s,G:Es,V:!0,B:!0},$s={endpoint:"verifyAssertion",A:ws,Za:_s,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new C("user-not-found");if(t.errorMessage)throw su(t.errorMessage);vs(t)},V:!0,B:!0},Qs={endpoint:"verifyAssertion",A:function(t){if(ws(t),!t.idToken)throw new C("internal-error")},Za:_s,G:Es,V:!0},tu={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new C("invalid-custom-token")},G:vs,V:!0,B:!0},eu={endpoint:"verifyPassword",A:function(t){if(ps(t),!t.password)throw new C("wrong-password")},G:vs,V:!0,B:!0},nu={endpoint:"verifyPhoneNumber",A:gs,G:vs,B:!0},ru={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new C("internal-error");gs(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Xo(t);vs(t)}},iu={Ib:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:gs,G:vs,B:!0},ou={endpoint:"accounts/mfaEnrollment:withdraw",O:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[es]^!!t.refreshToken)throw new C("internal-error")},B:!0,Na:!0};function au(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}(n,e.O))return Oe(new C("internal-error"));var r,i=!!e.Na,o=e.Vb||"POST";return xe(n).then(e.A).then((function(){return e.V&&(n.returnSecureToken=!0),e.B&&t.b&&"undefined"===typeof n.tenantId&&(n.tenantId=t.b),ds(t,i?t.i:t.h,e.endpoint,o,n,e.Ib,e.mb||!1)})).then((function(t){return r=t,e.Za?e.Za(n,r):r})).then(e.G).then((function(){if(!e.Z)return r;if(!(e.Z in r))throw new C("internal-error");return r[e.Z]}))}function su(t){return uu({error:{errors:[{message:t}],code:400,message:t}})}function uu(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new C(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",yt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new C(r[i],e);return!e&&t&&(e=jr(t)),new C("internal-error",e)}function cu(t){this.b=t,this.a=null,this.sb=function(t){return(du||(du=new Ee((function(t,e){function n(){Gr(),Dr("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Gr(),e(Error("Network Error"))},timeout:hu.get()})}if(Dr("gapi.iframes.Iframe"))t();else if(Dr("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();u[r]=function(){Dr("gapi.load")?n():e(Error("Network Error"))},xe(za(r=At(lu,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw du=null,t})))).then((function(){return new Ee((function(e,n){Dr("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),fu.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var lu=new wt(It,"https://apis.google.com/js/api.js?onload=%{onload}"),hu=new Hr(3e4,6e4),fu=new Hr(5e3,15e3),du=null;function pu(t,e,n,r){this.l=t,this.h=e,this.i=n,this.g=r,this.f=null,this.g?t=qn((t=Vn(this.g.url)).c,t.a,t.g,"/emulator/auth/iframe"):t=qn("https",this.l,null,"/__/auth/iframe"),this.a=t,Un(this.a,"apiKey",this.h),Un(this.a,"appName",this.i),this.b=null,this.c=[]}function mu(t,e,n,r,i,o){this.u=t,this.s=e,this.c=n,this.m=r,this.v=o,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function vu(t){try{return r.Z.app(t).auth().Ga()}catch(e){return[]}}function gu(t,e,n,r,i,o){this.s=t,this.g=e,this.b=n,this.f=o,this.c=r||null,this.i=i||null,this.l=this.u=this.C=null,this.h=[],this.m=this.a=null}function yu(t){var e=fr();return function(t){return au(t,qs,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Vn(e),r=n.c;n=n.a;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=Vn(o).a==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:yr.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Zo(fr())}))}function bu(t){return t.m||(t.m=wr().then((function(){if(!t.u){var e=t.c,n=t.i,r=vu(t.b),i=new pu(t.s,t.g,t.b,t.f);i.f=e,i.b=n,i.c=Q(r||[]),t.u=i.toString()}t.v=new cu(t.u),function(t){if(!t.v)throw Error("IfcHandler must be initialized!");!function(t,e){t.sb.then((function(){t.a.register("authEvent",e,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.v,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Ho(e.authEvent),n=0;n<t.h.length;n++)r=t.h[n](e)||r;return(n={}).status=r?"ACK":"ERROR",xe(n)}return n.status="ERROR",xe(n)}))}(t)}))),t.m}function wu(t){return t.l||(t.C=t.c?Or(t.c,vu(t.b)):null,t.l=new Qa(t.g,R(t.i),t.C),t.f&&ss(t.l,t.f)),t.l}function _u(t,e,n,r,i,o,a,s,u,c,l,h){return(t=new mu(t,e,n,r,i,h)).l=o,t.g=a,t.i=s,t.b=vt(u||null),t.f=c,t.zb(l).toString()}function Eu(t){if(this.a=t||r.Z.INTERNAL.reactNative&&r.Z.INTERNAL.reactNative.AsyncStorage,!this.a)throw new C("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function Tu(t){this.b=t,this.a={},this.f=E(this.c,this)}pu.prototype.toString=function(){return this.f?Un(this.a,"v",this.f):tr(this.a.b,"v"),this.b?Un(this.a,"eid",this.b):tr(this.a.b,"eid"),this.c.length?Un(this.a,"fw",this.c.join(",")):tr(this.a.b,"fw"),this.a.toString()},mu.prototype.zb=function(t){return this.h=t,this},mu.prototype.toString=function(){if(this.v){var t=Vn(this.v.url);t=qn(t.c,t.a,t.g,"/emulator/auth/handler")}else t=qn("https",this.u,null,"/__/auth/handler");if(Un(t,"apiKey",this.s),Un(t,"appName",this.c),Un(t,"authType",this.m),this.a.isOAuthProvider){var e=this.a;try{var n=r.Z.app(this.c).auth().la()}catch(u){n=null}for(var i in e.pb=n,Un(t,"providerId",this.a.providerId),e=Ur((n=this.a).Jb))e[i]=e[i].toString();i=n.Qc,e=vt(e);for(var o=0;o<i.length;o++){var a=i[o];a in e&&delete e[a]}n.qb&&n.pb&&!e[n.qb]&&(e[n.qb]=n.pb),mt(e)||Un(t,"customParameters",jr(e))}if("function"===typeof this.a.Rb&&((n=this.a.Rb()).length&&Un(t,"scopes",n.join(","))),this.l?Un(t,"redirectUrl",this.l):tr(t.b,"redirectUrl"),this.g?Un(t,"eventId",this.g):tr(t.b,"eventId"),this.i?Un(t,"v",this.i):tr(t.b,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Bn(t,s)&&Un(t,s,this.b[s]);return this.h?Un(t,"tid",this.h):tr(t.b,"tid"),this.f?Un(t,"eid",this.f):tr(t.b,"eid"),(s=vu(this.c)).length&&Un(t,"fw",s.join(",")),t.toString()},(t=gu.prototype).Pb=function(t,e,n){var r=new C("popup-closed-by-user"),i=new C("web-storage-unsupported"),o=this,a=!1;return this.ma().then((function(){(function(t){var e={type:"webStorageSupport"};return bu(t).then((function(){return function(t,e){return t.sb.then((function(){return new Ee((function(n){t.a.send(e.type,e,n,Dr("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.v,e)})).then((function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&vr(t),e(i),a=!0)}))})).o((function(){})).then((function(){if(!a)return function(t){return new Ee((function(e){return function n(){An(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!a)return An(n).then((function(){e(r)}))}))},t.Yb=function(){var t=Nr();return!Mr(t)&&!qr(t)},t.Ub=function(){return!1},t.Nb=function(t,e,n,r,i,o,a,s){if(!t)return Oe(new C("popup-blocked"));if(a&&!Mr())return this.ma().o((function(e){vr(t),i(e)})),r(),xe();this.a||(this.a=yu(wu(this)));var u=this;return this.a.then((function(){var e=u.ma().o((function(e){throw vr(t),i(e),e}));return r(),e})).then((function(){(qo(n),a)||dr(_u(u.s,u.g,u.b,e,n,null,o,u.c,void 0,u.i,s,u.f),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Ob=function(t,e,n,r){this.a||(this.a=yu(wu(this)));var i=this;return this.a.then((function(){qo(e),dr(_u(i.s,i.g,i.b,t,e,fr(),n,i.c,void 0,i.i,r,i.f))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ma=function(){var t=this;return bu(this).then((function(){return t.v.sb})).o((function(){throw t.a=null,new C("network-request-failed")}))},t.ac=function(){return!0},t.Ea=function(t){this.h.push(t)},t.Ta=function(t){Y(this.h,(function(e){return e==t}))},(t=Eu.prototype).get=function(t){return xe(this.a.getItem(t)).then((function(t){return t&&Br(t)}))},t.set=function(t,e){return xe(this.a.setItem(t,jr(e)))},t.U=function(t){return xe(this.a.removeItem(t))},t.ca=function(){},t.ia=function(){};var Iu,Su=[];function ku(t,e,n){mt(t.a)&&t.b.addEventListener("message",t.f),"undefined"===typeof t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function Cu(t){this.a=t}function Au(t){this.c=t,this.b=!1,this.a=[]}function xu(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return Oe(Error("connection_unavailable"));var l=r?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new Ee((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(s),"undefined"!==typeof t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return Ou(t,c),e})).o((function(e){throw Ou(t,c),e}))}function Ou(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),Y(t.a,(function(t){return t==e}))}}function Nu(){if(!Lu())throw new C("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=u.indexedDB,this.type="indexedDB",this.g=this.v=this.f=this.l=null,this.s=!1,this.h=null;var t=this;Tr()&&self?(this.v=function(){var t=Tr()?self:null;if(K(Su,(function(n){n.b==t&&(e=n)})),!e){var e=new Tu(t);Su.push(e)}return e}(),ku(this.v,"keyChanged",(function(e,n){return Bu(t).then((function(e){return 0<e.length&&K(t.a,(function(t){t(e)})),{keyProcessed:J(e,n.key)}}))})),ku(this.v,"ping",(function(){return xe(["keyChanged"])}))):function(){var t=u.navigator;return t&&t.serviceWorker?xe().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):xe(null)}().then((function(e){(t.h=e)&&(t.g=new Au(new Cu(e)),xu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&J(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function Du(t){return new Ee((function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new Ee((function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return Du(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function Ru(t){return t.i||(t.i=Du(t)),t.i}function Pu(t,e){var n=0;return new Ee((function r(i,o){Ru(t).then(e).then(i).o((function(e){if(!(3<++n))return Ru(t).then((function(e){return e.close(),t.i=void 0,r(i,o)})).o((function(t){o(t)}));o(e)}))}))}function Lu(){try{return!!u.indexedDB}catch(cf){return!1}}function Fu(t){return t.objectStore("firebaseLocalStorage")}function Mu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function ju(t){return new Ee((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Uu(t,e){return t.g&&t.h&&function(){var t=u.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?xu(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):xe()}function Bu(t){return Ru(t).then((function(t){var e=Fu(Mu(t,!1));return e.getAll?ju(e.getAll()):new Ee((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=pr(t.c,n),t.c=n}return r}))}function Vu(t){t.l&&t.l.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function qu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=xe().then((function(){if(Lu()){var t=Vr(),r="__sak"+t;return Iu||(Iu=new Nu),(n=Iu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.U(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ca((function(t){K(e.a,(function(e){e(t)}))})),t}))}function Gu(){this.a={},this.type="inMemory"}function Hu(){if(!function(){var t="Node"==Ir();if(!(t=Ku()||t&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Ir())throw new C("internal-error","The LocalStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=Ku()||r.Z.INTERNAL.node.localStorage,this.type="localStorage"}function Ku(){try{var t=u.localStorage,e=Vr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function zu(){this.type="nullStorage"}function Wu(){if(!function(){var t="Node"==Ir();if(!(t=Zu()||t&&r.Z.INTERNAL.node&&r.Z.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}()){if("Node"==Ir())throw new C("internal-error","The SessionStorage compatibility library was not found.");throw new C("web-storage-unsupported")}this.a=Zu()||r.Z.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Zu(){try{var t=u.sessionStorage,e=Vr();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(n){return null}}function Ju(){var t={};t.Browser=$u,t.Node=Qu,t.ReactNative=tc,t.Worker=ec,this.a=t[Ir()]}Tu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];K(r,(function(e){i.push(xe().then((function(){return e(t.origin,t.data.data)})))})),De(i).then((function(r){var i=[];K(r,(function(t){i.push({fulfilled:t.Qb,value:t.value,reason:t.reason?t.reason.message:void 0})})),K(i,(function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},Cu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},Au.prototype.close=function(){for(;0<this.a.length;)Ou(this,this.a[0]);this.b=!0},(t=Nu.prototype).set=function(t,e){var n=this,r=!1;return Pu(this,(function(e){return ju((e=Fu(Mu(e,!0))).get(t))})).then((function(i){return Pu(n,(function(o){if(o=Fu(Mu(o,!0)),i)return i.value=e,ju(o.put(i));n.b++,r=!0;var a={};return a.fbase_key=t,a.value=e,ju(o.add(a))}))})).then((function(){return n.c[t]=e,Uu(n,t)})).oa((function(){r&&n.b--}))},t.get=function(t){return Pu(this,(function(e){return ju(Fu(Mu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.U=function(t){var e=this,n=!1;return Pu(this,(function(r){return n=!0,e.b++,ju(Fu(Mu(r,!0)).delete(t))})).then((function(){return delete e.c[t],Uu(e,t)})).oa((function(){n&&e.b--}))},t.ca=function(t){0==this.a.length&&function(t){function e(){t.f=setTimeout((function(){t.l=Bu(t).then((function(e){0<e.length&&K(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}Vu(t),e()}(this),this.a.push(t)},t.ia=function(t){Y(this.a,(function(e){return e==t})),0==this.a.length&&Vu(this)},(t=qu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.U=function(t){return this.b.then((function(e){return e.U(t)}))},t.ca=function(t){this.a.push(t)},t.ia=function(t){Y(this.a,(function(e){return e==t}))},(t=Gu.prototype).get=function(t){return xe(this.a[t])},t.set=function(t,e){return this.a[t]=e,xe()},t.U=function(t){return delete this.a[t],xe()},t.ca=function(){},t.ia=function(){},(t=Hu.prototype).get=function(t){var e=this;return xe().then((function(){return Br(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return xe().then((function(){var r=jr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return xe().then((function(){e.a.removeItem(t)}))},t.ca=function(t){u.window&&hn(u.window,"storage",t)},t.ia=function(t){u.window&&pn(u.window,"storage",t)},(t=zu.prototype).get=function(){return xe(null)},t.set=function(){return xe()},t.U=function(){return xe()},t.ca=function(){},t.ia=function(){},(t=Wu.prototype).get=function(t){var e=this;return xe().then((function(){return Br(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return xe().then((function(){var r=jr(e);null===r?n.U(t):n.a.setItem(t,r)}))},t.U=function(t){var e=this;return xe().then((function(){e.a.removeItem(t)}))},t.ca=function(){},t.ia=function(){};var Xu,Yu,$u={F:Hu,cb:Wu},Qu={F:Hu,cb:Wu},tc={F:Eu,cb:zu},ec={F:Hu,cb:zu},nc={rd:"local",NONE:"none",td:"session"};function rc(){var t=!(qr(Nr())||!Er()),e=Mr(),n=Rr();this.m=t,this.h=e,this.l=n,this.a={},Xu||(Xu=new Ju),t=Xu;try{this.g=!hr()&&Wr()||!u.indexedDB?new t.a.F:new qu(Tr()?new Gu:new t.a.F)}catch(r){this.g=new Gu,this.h=!0}try{this.i=new t.a.cb}catch(r){this.i=new Gu}this.v=new Gu,this.f=E(this.Zb,this),this.b={}}function ic(){return Yu||(Yu=new rc),Yu}function oc(t,e){switch(e){case"session":return t.i;case"none":return t.v;default:return t.g}}function ac(t,e){return"firebase:"+t.name+(e?":"+e:"")}function sc(t,e,n){return n=ac(e,n),"local"==e.F&&(t.b[n]=null),oc(t,e.F).U(n)}function uc(t){t.c&&(clearInterval(t.c),t.c=null)}function cc(t){this.a=t,this.b=ic()}(t=rc.prototype).get=function(t,e){return oc(this,t.F).get(ac(t,e))},t.set=function(t,e,n){var r=ac(t,n),i=this,o=oc(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=ac(t,e),this.l&&(this.b[t]=u.localStorage.getItem(t)),mt(this.a)&&(oc(this,"local").ca(this.f),this.h||(hr()||!Wr())&&u.indexedDB||!this.l||function(t){uc(t),t.c=setInterval((function(){for(var e in t.a){var n=u.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new Qe({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Zb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=ac(t,e),this.a[t]&&(Y(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),mt(this.a)&&(oc(this,"local").ia(this.f),uc(this))},t.Zb=function(t){if(t&&t.g){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=u.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.nb(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?oc(this,"local").ia(this.f):uc(this),this.m)if(n=u.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?u.localStorage.setItem(e,r):u.localStorage.removeItem(e);else if(this.b[e]===r&&"undefined"===typeof t.a.a)return;var o=this;n=function(){"undefined"===typeof t.a.a&&o.b[e]===u.localStorage.getItem(e)||(o.b[e]=u.localStorage.getItem(e),o.nb(e))},Jt&&ue&&10==ue&&u.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else K(t,E(this.nb,this))},t.nb=function(t){this.a[t]&&K(this.a[t],(function(t){t()}))};var lc,hc={name:"authEvent",F:"local"};function fc(){this.a=ic()}function dc(t,e){this.b=pc,this.f=u.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=u.Int32Array?new Int32Array(64):Array(64),void 0===lc&&(lc=u.Int32Array?new Int32Array(_c):_c),this.reset()}S(dc,(function(){this.b=-1}));for(var pc=64,mc=pc-1,vc=[],gc=0;gc<mc;gc++)vc[gc]=0;var yc=$(128,vc);function bc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((a=(a=c&l^~c&h)+(0|lc[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=i,i=r,r=a+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function wc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"===typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(bc(t),i=0);else{if(!p(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(bc(t),i=0)}}t.c=i,t.g+=n}dc.prototype.reset=function(){this.g=this.c=0,this.a=u.Int32Array?new Int32Array(this.h):Q(this.h)};var _c=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Ec(){dc.call(this,8,Tc)}S(Ec,dc);var Tc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Ic(t,e,n,r,i,o){this.v=t,this.i=e,this.l=n,this.m=r||null,this.u=i||null,this.s=o,this.h=e+":"+n,this.C=new fc,this.g=new cc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Sc(t){return new C("invalid-cordova-configuration",t)}function kc(t){var e=new Ec;wc(e,t),t=[];var n=8*e.g;56>e.c?wc(e,yc,56-e.c):wc(e,yc,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(bc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return W(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function Cc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(r){}}function Ac(t){return t.f||(t.f=t.ma().then((function(){return new Ee((function(e){t.Ea((function n(r){return e(r),t.Ta(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),xc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=so(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"===typeof(o=Br(Bn(o=Vn(i),"firebaseError")||null))?A(o):null)?new Go(r.c,r.b,null,null,o,null,r.T()):new Go(r.c,r.b,i,r.f,null,null,r.T())),i=o||n}Cc(t,i)}))}var n=new Go("unknown",null,null,null,new C("no-auth-event")),r=!1,i=An(500).then((function(){return xc(t).then((function(){r||Cc(t,n)}))})),o=u.handleOpenURL;u.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Dr("BuildInfo.packageName",u).toLowerCase()+"://")&&e({url:t}),"function"===typeof o)try{o(t)}catch(n){console.error(n)}},Wo||(Wo=new Ko),function(t){var e=Wo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"===typeof(t=Dr("universalLinks.subscribe",u))&&t(null,e.b))}(e)}(t)}))}))),t.f}function xc(t){var e=null;return function(t){return t.b.get(hc,t.a).then((function(t){return Ho(t)}))}(t.g).then((function(n){return e=n,sc((n=t.g).b,hc,n.a)})).then((function(){return e}))}function Oc(t){this.a=t,this.b=ic()}(t=Ic.prototype).ma=function(){return this.Ia?this.Ia:this.Ia=(_r(void 0)?wr().then((function(){return new Ee((function(t,e){var n=u.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Oe(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!==typeof Dr("universalLinks.subscribe",u))throw Sc("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Dr("BuildInfo.packageName",u))throw Sc("cordova-plugin-buildinfo is not installed");if("function"!==typeof Dr("cordova.plugins.browsertab.openUrl",u))throw Sc("cordova-plugin-browsertab is not installed");if("function"!==typeof Dr("cordova.InAppBrowser.open",u))throw Sc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new C("cordova-not-ready")}))},t.Pb=function(t,e){return e(new C("operation-not-supported-in-this-environment")),xe()},t.Nb=function(){return Oe(new C("operation-not-supported-in-this-environment"))},t.ac=function(){return!1},t.Yb=function(){return!0},t.Ub=function(){return!0},t.Ob=function(t,e,n,r){if(this.c)return Oe(new C("redirect-operation-pending"));var i=this,o=u.document,a=null,s=null,c=null,l=null;return this.c=xe().then((function(){return qo(e),Ac(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Go(e,r,null,o,new C("no-auth-event"),null,i),s=Dr("BuildInfo.packageName",u);if("string"!==typeof s)throw new C("invalid-cordova-configuration");var c=Dr("BuildInfo.displayName",u),l={};if(Nr().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=s;else{if(!Nr().toLowerCase().match(/android/))return Oe(new C("operation-not-supported-in-this-environment"));l.apn=s}c&&(l.appDisplayName=c),o=kc(o),l.sessionId=o;var h=_u(t.v,t.i,t.l,e,n,null,r,t.m,l,t.u,i,t.s);return t.ma().then((function(){var e=t.h;return t.C.a.set(hc,a.w(),e)})).then((function(){var e=Dr("cordova.plugins.browsertab.isAvailable",u);if("function"!==typeof e)throw new C("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!==typeof(n=Dr("cordova.plugins.browsertab.openUrl",u)))throw new C("invalid-cordova-configuration");n(h)}else{if("function"!==typeof(n=Dr("cordova.InAppBrowser.open",u)))throw new C("invalid-cordova-configuration");e=Nr(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new Ee((function(t,e){s=function(){var e=Dr("cordova.plugins.browsertab.close",u);return t(),"function"===typeof e&&e(),i.a&&"function"===typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ea(s),c=function(){a||(a=An(2e3).then((function(){e(new C("redirect-cancelled-by-user"))})))},l=function(){Kr()&&c()},o.addEventListener("resume",c,!1),Nr().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return xc(i).then((function(){throw t}))}))})).oa((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),s&&i.Ta(s),i.c=null}))},t.Ea=function(t){this.b.push(t),Ac(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Go("unknown",null,null,null,new C("no-auth-event")),t(e))}))},t.Ta=function(t){Y(this.b,(function(e){return e==t}))};var Nc={name:"pendingRedirect",F:"session"};function Dc(t){return sc(t.b,Nc,t.a)}function Rc(t,e,n,r){this.i={},this.u=0,this.D=t,this.v=e,this.m=n,this.J=r,this.h=[],this.f=!1,this.l=E(this.s,this),this.b=new Zc,this.C=new Qc,this.g=new Oc(zc(this.v,this.m)),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.C,this.c.linkViaPopup=this.C,this.c.reauthViaPopup=this.C,this.a=Pc(this.D,this.v,this.m,x,this.J)}function Pc(t,e,n,i,o){var a=r.Z.SDK_VERSION||null;return _r()?new Ic(t,e,n,a,i,o):new gu(t,e,n,a,i,o)}function Lc(t){t.f||(t.f=!0,t.a.Ea(t.l));var e=t.a;return t.a.ma().o((function(n){throw t.a==e&&t.reset(),n}))}function Fc(t){t.a.Yb()&&Lc(t).o((function(e){var n=new Go("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));qc(e)&&t.s(n)})),t.a.Ub()||Jc(t.b)}function Mc(t,e){J(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(Nc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?Dc(t.g).then((function(){Lc(t).o((function(e){var n=new Go("unknown",null,null,null,new C("operation-not-supported-in-this-environment"));qc(e)&&t.s(n)}))})):Fc(t)})).o((function(){Fc(t)}))}function jc(t,e){Y(t.h,(function(t){return t==e}))}Rc.prototype.reset=function(){this.f=!1,this.a.Ta(this.l),this.a=Pc(this.D,this.v,this.m,null,this.J),this.i={}},Rc.prototype.s=function(t){if(!t)throw new C("invalid-auth-event");if(6e5<=Date.now()-this.u&&(this.i={},this.u=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Gb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.u=Date.now())),e=!0;break}}return Jc(this.b),e};var Uc=new Hr(2e3,1e4),Bc=new Hr(3e4,6e4);function Vc(t,e,n,r,i,o,a){return t.a.Nb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ea(t.l))}),(function(){t.reset()}),i,o,a)}function qc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Gc(t,e,n,r,i){var o;return function(t){return t.b.set(Nc,"pending",t.a)}(t.g).then((function(){return t.a.Ob(e,n,r,i).o((function(e){if(qc(e))throw new C("operation-not-supported-in-this-environment");return o=e,Dc(t.g).then((function(){throw o}))})).then((function(){return t.a.ac()?new Ee((function(){})):Dc(t.g).then((function(){return t.ra()})).then((function(){})).o((function(){}))}))}))}function Hc(t,e,n,r,i){return t.a.Pb(r,(function(t){e.na(n,null,t,i)}),Uc.get())}Rc.prototype.ra=function(){return this.b.ra()};var Kc={};function zc(t,e,n){return t=t+":"+e,n&&(t=t+":"+n.url),t}function Wc(t,e,n,r){var i=zc(e,n,r);return Kc[i]||(Kc[i]=new Rc(t,e,n,r)),Kc[i]}function Zc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Jc(t){t.g||(t.g=!0,$c(t,!1,null,null))}function Xc(t){t.g&&!t.i&&$c(t,!1,null,null)}function Yc(t,e){if(t.b=function(){return xe(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function $c(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Oe(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Yc(t,n):Yc(t,{user:null}),t.f=[],t.c=[]}function Qc(){}function tl(){this.jb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.jb},set:function(t){this.jb=t},enumerable:!1})}function el(t,e){this.a=e,$r(this,"verificationId",t)}function nl(t,e,n,r){return new Uo(t).gb(e,n).then((function(t){return new el(t,r)}))}function rl(t){var e=Wi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new C("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");Qr(this,{token:t,expirationTime:zr(1e3*e.exp),authTime:zr(1e3*e.auth_time),issuedAtTime:zr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function il(t,e,n){var r=e&&e[al];if(!r)throw new C("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=vt(e),this.g=n,this.c=new uo(null,r),this.b=[];var i=this;K(e[ol]||[],(function(t){(t=ri(t))&&i.b.push(t)})),$r(this,"auth",this.a),$r(this,"session",this.c),$r(this,"hints",this.b)}Zc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Zc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?($c(this,!0,null,t.a),xe()):e.Fa(n,r)?function(t,e,n){n=n.Fa(e.c,e.b);var r=e.g,i=e.f,o=e.i,a=e.T(),s=!!e.c.match(/Redirect$/);n(r,i,a,o).then((function(e){$c(t,s,e,null)})).o((function(e){$c(t,s,null,e)}))}(this,t,e):Oe(new C("invalid-auth-event")):($c(this,!1,null,null),xe())}else Oe(new C("invalid-auth-event"))},Zc.prototype.ra=function(){var t=this;return new Ee((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new C("timeout");t.a&&t.a.cancel(),t.a=An(Bc.get()).then((function(){t.b||(t.g=!0,$c(t,!0,null,e))}))}(t))}))},Qc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.na(t.c,null,t.a,t.b),xe()):e.Fa(n,r)?function(t,e){var n=t.b,r=t.c;e.Fa(r,n)(t.g,t.f,t.T(),t.i).then((function(t){e.na(r,t,null,n)})).o((function(t){e.na(r,null,t,n)}))}(t,e):Oe(new C("invalid-auth-event"))}else Oe(new C("invalid-auth-event"))},el.prototype.confirm=function(t){return t=Bo(this.verificationId,t),this.a(t)};var ol="mfaInfo",al="mfaPendingCredential";function sl(t,e,n,r){C.call(this,"multi-factor-auth-required",r,e),this.b=new il(t,e,n),$r(this,"resolver",this.b)}function ul(t,e,n){if(t&&v(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new sl(e,t.serverResponse,n,t.message)}catch(r){}return null}function cl(){}function ll(t){$r(this,"factorId",t.fa),this.a=t}function hl(t){if(ll.call(this,t),this.a.fa!=Uo.PROVIDER_ID)throw new C("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function fl(t,e){for(var n in $e.call(this,t),e)this[n]=e[n]}function dl(t,e){this.a=t,this.b=[],this.c=E(this.yc,this),hn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&K(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[ai]=t.uid),t.displayName&&(r[ii]=t.displayName),t.enrollmentTime&&(r[oi]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[si]=t.phoneNumber);try{e=new ui(r)}catch(i){}t=e}else t=null;t&&n.push(t)})),pl(this,n)}function pl(t,e){t.b=e,$r(t,"enrolledFactors",e)}function ml(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function vl(t,e){t.stop(),t.b=An(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(t,e)).then((function(){return function(){var t=u.document,e=null;return Kr()||!t?xe():new Ee((function(n){e=function(){Kr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return t.h()})).then((function(){vl(t,!0)})).o((function(e){t.i(e)&&vl(t,!1)}))}function gl(t){this.f=t,this.b=this.a=null,this.c=Date.now()}function yl(t,e){"undefined"===typeof e&&(t.b?e=(e=t.b).a-e.g:e=0),t.c=Date.now()+1e3*e}function bl(t,e){t.b=zi(e[es]||""),t.a=e.refreshToken,yl(t,"undefined"!==typeof(e=e.expiresIn)?Number(e):void 0)}function wl(t,e){return function(t,e){return new Ee((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?ls(t,t.l+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(uu(t)):t.access_token&&t.refresh_token?n(t):r(new C("internal-error")):r(new C("network-request-failed"))}),"POST",Qn(e).toString(),t.g,t.m.get()):r(new C("internal-error"))}))}(t.f,e).then((function(e){return t.b=zi(e.access_token),t.a=e.refresh_token,yl(t,e.expires_in),{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function _l(t,e){this.a=t||null,this.b=e||null,Qr(this,{lastSignInTime:zr(e||null),creationTime:zr(t||null)})}function El(t,e,n,r,i,o){Qr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Tl(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null;var i=r.Z.SDK_VERSION?Or(r.Z.SDK_VERSION):null;this.a=new Qa(this.l,R(x),i),(this.u=t.emulatorConfig||null)&&ss(this.a,this.u),this.h=new gl(this.a),Dl(this,e[es]),bl(this.h,e),$r(this,"refreshToken",this.h.a),Ll(this,n||{}),Tn.call(this),this.P=!1,this.s&&Pr()&&(this.b=Wc(this.s,this.l,this.m,this.u)),this.W=[],this.i=null,this.D=function(t){return new ml((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=t.h.c-Date.now()-3e5;return 0<e?e:0}))}(this),this.ba=E(this.ib,this);var o=this;this.za=null,this.Pa=function(t){o.xa(t.h)},this.qa=null,this.Ba=function(t){Il(o,t.c)},this.$=null,this.aa=[],this.Oa=function(t){Cl(o,t.f)},this.ja=null,this.S=new dl(this,n),$r(this,"multiFactor",this.S)}function Il(t,e){t.u=e,ss(t.a,e),t.b&&(e=t.b,t.b=Wc(t.s,t.l,t.m,t.u),t.P&&(jc(e,t),Mc(t.b,t)))}function Sl(t,e){t.qa&&pn(t.qa,"languageCodeChanged",t.Pa),(t.qa=e)&&hn(e,"languageCodeChanged",t.Pa)}function kl(t,e){t.$&&pn(t.$,"emulatorConfigChanged",t.Ba),(t.$=e)&&hn(e,"emulatorConfigChanged",t.Ba)}function Cl(t,e){t.aa=e,cs(t.a,r.Z.SDK_VERSION?Or(r.Z.SDK_VERSION,t.aa):null)}function Al(t,e){t.ja&&pn(t.ja,"frameworkChanged",t.Oa),(t.ja=e)&&hn(e,"frameworkChanged",t.Oa)}function xl(t){try{return r.Z.app(t.m).auth()}catch(e){throw new C("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function Ol(t){t.J||t.D.b||(t.D.start(),pn(t,"tokenChanged",t.ba),hn(t,"tokenChanged",t.ba))}function Nl(t){pn(t,"tokenChanged",t.ba),t.D.stop()}function Dl(t,e){t.Aa=e,$r(t,"_lat",e)}function Rl(t){for(var e=[],n=0;n<t.W.length;n++)e.push(t.W[n](t));return De(e).then((function(){return t}))}function Pl(t){t.b&&!t.P&&(t.P=!0,Mc(t.b,t))}function Ll(t,e){Qr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new _l(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function Fl(){}function Ml(t){return xe().then((function(){if(t.J)throw new C("app-deleted")}))}function jl(t){return W(t.providerData,(function(t){return t.providerId}))}function Ul(t,e){e&&(Bl(t,e.providerId),t.providerData.push(e))}function Bl(t,e){Y(t.providerData,(function(t){return t.providerId==e}))}function Vl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&$r(t,e,n)}function ql(t,e){t!=e&&(Qr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?$r(t,"metadata",function(t){return new _l(t.a,t.b)}(e.metadata)):$r(t,"metadata",new _l),K(e.providerData,(function(e){Ul(t,e)})),function(t,e){t.b=e.b,t.a=e.a,t.c=e.c}(t.h,e.h),$r(t,"refreshToken",t.h.a),pl(t.S,e.S.b))}function Gl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return au(t.a,Ms,{idToken:e}).then(E(t.Kc,t))}(t,e).then((function(){return n||Vl(t,"isAnonymous",!1),e}))}))}function Hl(t,e){e[es]&&t.Aa!=e[es]&&(bl(t.h,e),t.dispatchEvent(new fl("tokenChanged")),Dl(t,e[es]),Vl(t,"refreshToken",t.h.a))}function Kl(t,e){return Gl(t).then((function(){if(J(jl(t),e))return Rl(t).then((function(){throw new C("provider-already-linked")}))}))}function zl(t,e,n){return ti({user:t,credential:Vo(e),additionalUserInfo:e=$i(e),operationType:n})}function Wl(t,e){return Hl(t,e),t.reload().then((function(){return t}))}function Zl(t,e,n,i,o){if(!Pr())return Oe(new C("operation-not-supported-in-this-environment"));if(t.i&&!o)return Oe(t.i);var a=Yi(n.providerId),s=Vr(t.uid+":::"),u=null;(!Mr()||Er())&&t.s&&n.isOAuthProvider&&(u=_u(t.s,t.l,t.m,e,n,null,s,r.Z.SDK_VERSION||null,null,null,t.tenantId,t.u));var c=gr(u,a&&a.va,a&&a.ua);return i=i().then((function(){if(Xl(t),!o)return t.I().then((function(){}))})).then((function(){return Vc(t.b,c,e,n,s,!!u,t.tenantId)})).then((function(){return new Ee((function(n,r){t.na(e,null,new C("cancelled-popup-request"),t.g||null),t.f=n,t.C=r,t.g=s,t.c=Hc(t.b,t,e,c,s)}))})).then((function(t){return c&&vr(c),t?ti(t):null})).o((function(t){throw c&&vr(c),t})),Yl(t,i,o)}function Jl(t,e,n,r,i){if(!Pr())return Oe(new C("operation-not-supported-in-this-environment"));if(t.i&&!i)return Oe(t.i);var o=null,a=Vr(t.uid+":::");return r=r().then((function(){if(Xl(t),!i)return t.I().then((function(){}))})).then((function(){return t.ga=a,Rl(t)})).then((function(e){return t.ha&&(e=(e=t.ha).b.set(th,t.w(),e.a)),e})).then((function(){return Gc(t.b,e,n,a,t.tenantId)})).o((function(e){if(o=e,t.ha)return eh(t.ha);throw o})).then((function(){if(o)throw o})),Yl(t,r,i)}function Xl(t){if(!t.b||!t.P){if(t.b&&!t.P)throw new C("internal-error");throw new C("auth-domain-config-required")}}function Yl(t,e,n){var r=function(t,e,n){return t.i&&!n?(e.cancel(),Oe(t.i)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new fl("userInvalidated")),t.i=e),e}))}(t,e,n);return t.N.push(r),r.oa((function(){X(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ul(e.w(),xl(t),E(t.jc,t))),n||e}))}function $l(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName,emulatorConfig:t.emulatorConfig},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[es]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=t.stsTokenManager.expirationTime;r&&(n.expiresIn=(r-Date.now())/1e3);var i=new Tl(e,n,t);return t.providerData&&K(t.providerData,(function(t){t&&Ul(i,ti(t))})),t.redirectEventId&&(i.ga=t.redirectEventId),i}function Ql(t){this.a=t,this.b=ic()}il.prototype.Rc=function(t){var e=this;return t.tb(this.a.a,this.c).then((function(t){var n=vt(e.f);return delete n[ol],delete n[al],yt(n,t),e.g(n)}))},S(sl,C),cl.prototype.tb=function(t,e,n){return e.type==co?function(t,e,n,r){return n.Ha().then((function(n){return n={idToken:n},"undefined"!==typeof r&&(n.displayName=r),yt(n,{phoneVerificationInfo:jo(t.a)}),au(e,Ls,n)}))}(this,t,e,n):function(t,e,n){return n.Ha().then((function(n){return yt(n={mfaPendingCredential:n},{phoneVerificationInfo:jo(t.a)}),au(e,Fs,n)}))}(this,t,e)},S(ll,cl),S(hl,ll),S(fl,$e),(t=dl.prototype).yc=function(t){pl(this,function(t){var e=[];return K(t.mfaInfo||[],(function(t){(t=ri(t))&&e.push(t)})),e}(t.hd))},t.Sb=function(){return this.a.I().then((function(t){return new uo(t,null)}))},t.fc=function(t,e){var n=this,r=this.a.a;return this.Sb().then((function(n){return t.tb(r,n,e)})).then((function(t){return Hl(n.a,t),n.a.reload()}))},t.bd=function(t){var e=this,n="string"===typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return au(r,ou,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=z(e.b,(function(t){return t.uid!=n}));return pl(e,r),Hl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.w=function(){return{multiFactor:{enrolledFactors:W(this.b,(function(t){return t.w()}))}}},ml.prototype.start=function(){this.a=this.c,vl(this,!0)},ml.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},gl.prototype.w=function(){return{apiKey:this.f.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:this.c}},gl.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Oe(new C("user-token-expired")):t||!this.b||Date.now()>this.c-3e4?this.a?wl(this,{grant_type:"refresh_token",refresh_token:this.a}):xe(null):xe({accessToken:this.b.toString(),refreshToken:this.a})},_l.prototype.w=function(){return{lastLoginAt:this.b,createdAt:this.a}},S(Tl,Tn),Tl.prototype.xa=function(t){this.za=t,as(this.a,t)},Tl.prototype.la=function(){return this.za},Tl.prototype.Ga=function(){return Q(this.aa)},Tl.prototype.ib=function(){this.D.b&&(this.D.stop(),this.D.start())},$r(Tl.prototype,"providerId","firebase"),(t=Tl.prototype).reload=function(){var t=this;return Yl(this,Ml(this).then((function(){return Gl(t).then((function(){return Rl(t)})).then(Fl)})))},t.oc=function(t){return this.I(t).then((function(t){return new rl(t)}))},t.I=function(t){var e=this;return Yl(this,Ml(this).then((function(){return e.h.getToken(t)})).then((function(t){if(!t)throw new C("internal-error");return t.accessToken!=e.Aa&&(Dl(e,t.accessToken),e.dispatchEvent(new fl("tokenChanged"))),Vl(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Kc=function(t){if(!(t=t.users)||!t.length)throw new C("internal-error");Ll(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?W(t,(function(t){return new El(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)Ul(this,e[n]);Vl(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length)),this.dispatchEvent(new fl("userReloaded",{hd:t}))},t.Lc=function(t){return Xr("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.ub(t)},t.ub=function(t){var e=this,n=null;return Yl(this,t.c(this.a,this.uid).then((function(t){return Hl(e,t),n=zl(e,t,"reauthenticate"),e.i=null,e.reload()})).then((function(){return n})),!0)},t.Cc=function(t){return Xr("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.rb(t)},t.rb=function(t){var e=this,n=null;return Yl(this,Kl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=zl(e,t,"link"),Wl(e,t)})).then((function(){return n})))},t.Dc=function(t,e){var n=this;return Yl(this,Kl(this,"phone").then((function(){return nl(xl(n),t,e,E(n.rb,n))})))},t.Mc=function(t,e){var n=this;return Yl(this,xe().then((function(){return nl(xl(n),t,e,E(n.ub,n))})),!0)},t.Cb=function(t){var e=this;return Yl(this,this.I().then((function(n){return e.a.Cb(n,t)})).then((function(t){return Hl(e,t),e.reload()})))},t.ed=function(t){var e=this;return Yl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Hl(e,t),e.reload()})))},t.Db=function(t){var e=this;return Yl(this,this.I().then((function(n){return e.a.Db(n,t)})).then((function(t){return Hl(e,t),e.reload()})))},t.Eb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Ml(this);var e=this;return Yl(this,this.I().then((function(n){return e.a.Eb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Hl(e,t),Vl(e,"displayName",t.displayName||null),Vl(e,"photoURL",t.photoUrl||null),K(e.providerData,(function(t){"password"===t.providerId&&($r(t,"displayName",e.displayName),$r(t,"photoURL",e.photoURL))})),Rl(e)})).then(Fl))},t.cd=function(t){var e=this;return Yl(this,Gl(this).then((function(n){return J(jl(e),t)?function(t,e,n){return au(t,Ds,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return K(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),K(jl(e),(function(t){n[t]||Bl(e,t)})),n[Uo.PROVIDER_ID]||$r(e,"phoneNumber",null),Rl(e)})):Rl(e).then((function(){throw new C("no-such-provider")}))})))},t.delete=function(){var t=this;return Yl(this,this.I().then((function(e){return au(t.a,Ns,{idToken:e})})).then((function(){t.dispatchEvent(new fl("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");Sl(t,null),kl(t,null),Al(t,null),t.N=[],t.J=!0,Nl(t),$r(t,"refreshToken",null),t.b&&jc(t.b,t)}))},t.Gb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.ga||null)==e||"reauthViaRedirect"==t&&(this.ga||null)==e)},t.na=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?E(this.Lb,this):"reauthViaPopup"==t&&e==(this.g||null)?E(this.Mb,this):"linkViaRedirect"==t&&(this.ga||null)==e?E(this.Lb,this):"reauthViaRedirect"==t&&(this.ga||null)==e?E(this.Mb,this):null},t.Ec=function(t){var e=this;return Zl(this,"linkViaPopup",t,(function(){return Kl(e,t.providerId).then((function(){return Rl(e)}))}),!1)},t.Nc=function(t){return Zl(this,"reauthViaPopup",t,(function(){return xe()}),!0)},t.Fc=function(t){var e=this;return Jl(this,"linkViaRedirect",t,(function(){return Kl(e,t.providerId)}),!1)},t.Oc=function(t){return Jl(this,"reauthViaRedirect",t,(function(){return xe()}),!0)},t.Lb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Yl(this,this.I().then((function(n){return Is(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=zl(i,t,"link"),Wl(i,t)})).then((function(){return o})))},t.Mb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Yl(this,xe().then((function(){return fo(Ss(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=zl(i,t,"reauthenticate"),Hl(i,t),i.i=null,i.reload()})).then((function(){return o})),!0)},t.vb=function(t){var e=this,n=null;return Yl(this,this.I().then((function(e){return n=e,"undefined"===typeof t||mt(t)?{}:qi(new Di(t))})).then((function(t){return e.a.vb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Fb=function(t,e){var n=this,r=null;return Yl(this,this.I().then((function(t){return r=t,"undefined"===typeof e||mt(e)?{}:qi(new Di(e))})).then((function(e){return n.a.Fb(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.jc=function(t){var e=null,n=this;return Yl(this,t=fo(xe(t),n.uid).then((function(t){return e=zl(n,t,"reauthenticate"),Hl(n,t),n.i=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.w()},t.w=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.h.w(),redirectEventId:this.ga||null};return this.metadata&&yt(t,this.metadata.w()),K(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),yt(t,this.S.w()),t};var th={name:"redirectUser",F:"session"};function eh(t){return sc(t.b,th,t.a)}function nh(t){this.a=t,this.b=ic(),this.c=null,this.f=function(t){var e=oh("local"),n=oh("session"),r=oh("none");return function(t,e,n){var r=ac(e,n),i=oc(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Br(u.localStorage.getItem(r))}catch(s){}if(a&&!o)return u.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&u.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(ih,t.a).then((function(t){return t?oh(t):e}))}))}))})).then((function(e){return t.c=e,rh(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(oh("local"),this.a,E(this.g,this))}function rh(t,e){var n,r=[];for(n in nc)nc[n]!==e&&r.push(sc(t.b,oh(nc[n]),t.a));return r.push(sc(t.b,ih,t.a)),function(t){return new Ee((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},a=function(t){n(t)},s=0;s<t.length;s++)Ne(t[s],T(o,s),a);else e(i)}))}(r)}nh.prototype.g=function(){var t=this,e=oh("local");ch(this,(function(){return xe().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return rh(t,"local").then((function(){t.c=e}))}))}))};var ih={name:"persistence",F:"session"};function oh(t){return{name:"authUser",F:t}}function ah(t,e){return ch(t,(function(){return t.b.set(t.c,e.w(),t.a)}))}function sh(t){return ch(t,(function(){return sc(t.b,t.c,t.a)}))}function uh(t,e,n){return ch(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),t&&n&&(t.emulatorConfig=n),$l(t||{})}))}))}function ch(t,e){return t.f=t.f.then(e,e),t.f}function lh(t){if(this.l=!1,$r(this,"settings",new tl),$r(this,"app",t),!bh(this).options||!bh(this).options.apiKey)throw new C("invalid-api-key");t=r.Z.SDK_VERSION?Or(r.Z.SDK_VERSION):null,this.a=new Qa(bh(this).options&&bh(this).options.apiKey,R(x),t),this.P=[],this.s=[],this.N=[],this.Pa=r.Z.INTERNAL.createSubscribe(E(this.zc,this)),this.W=void 0,this.ib=r.Z.INTERNAL.createSubscribe(E(this.Ac,this)),gh(this,null),this.i=new nh(bh(this).options.apiKey+":"+bh(this).name),this.D=new Ql(bh(this).options.apiKey+":"+bh(this).name),this.$=Th(this,function(t){var e=bh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(th,t.a).then((function(t){return t&&e&&(t.authDomain=e),$l(t||{})}))}(t.D,bh(t).options.authDomain).then((function(e){return(t.m=e)&&(e.ha=t.D),eh(t.D)}));return Th(t,e)}(t).then((function(){return uh(t.i,e,t.R)})).then((function(e){return e?(e.ha=t.D,t.m&&(t.m.ga||null)==(e.ga||null)?e:e.reload().then((function(){return ah(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:sh(t.i)}))):null})).then((function(e){gh(t,e||null)}));return Th(t,n)}(this)),this.h=Th(this,function(t){return t.$.then((function(){return mh(t)})).o((function(){})).then((function(){if(!t.l)return t.ja()})).o((function(){})).then((function(){if(!t.l){t.ba=!0;var e=t.i;e.b.addListener(oh("local"),e.a,t.ja)}}))}(this)),this.ba=!1,this.ja=E(this.Zc,this),this.Ba=E(this.da,this),this.qa=E(this.mc,this),this.za=E(this.wc,this),this.Aa=E(this.xc,this),this.b=null,function(t){var e=bh(t).options.authDomain,n=bh(t).options.apiKey;e&&Pr()&&(t.Oa=t.$.then((function(){if(!t.l){if(t.b=Wc(e,n,bh(t).name,t.R),Mc(t.b,t),wh(t)&&Pl(wh(t)),t.m){Pl(t.m);var r=t.m;r.xa(t.la()),Sl(r,t),Cl(r=t.m,t.J),Al(r,t),Il(r=t.m,t.R),kl(r,t),t.m=null}return t.b}})))}(this),this.INTERNAL={},this.INTERNAL.delete=E(this.delete,this),this.INTERNAL.logFramework=E(this.Gc,this),this.u=0,Tn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.la()},set:function(t){this.xa(t)},enumerable:!1}),t.aa=null,Object.defineProperty(t,"ti",{get:function(){return this.T()},set:function(t){this.zb(t)},enumerable:!1}),t.S=null,Object.defineProperty(t,"emulatorConfig",{get:function(){if(this.R){var t=Vn(this.R.url);t=ti({protocol:t.c,host:t.a,port:t.g,options:ti({disableWarnings:this.R.ec})})}else t=null;return t},enumerable:!1})}(this),this.J=[],this.R=null}function hh(t){$e.call(this,"languageCodeChanged"),this.h=t}function fh(t){$e.call(this,"emulatorConfigChanged"),this.c=t}function dh(t){$e.call(this,"frameworkChanged"),this.f=t}function ph(t){return t.Oa||Oe(new C("auth-domain-config-required"))}function mh(t){if(!Pr())return Oe(new C("operation-not-supported-in-this-environment"));var e=ph(t).then((function(){return t.b.ra()})).then((function(t){return t?ti(t):null}));return Th(t,e)}function vh(t,e){var n={};return n.apiKey=bh(t).options.apiKey,n.authDomain=bh(t).options.authDomain,n.appName=bh(t).name,t.R&&(n.emulatorConfig=t.R),t.$.then((function(){return function(t,e,n,r){var i=new Tl(t,e);return n&&(i.ha=n),r&&Cl(i,r),i.reload().then((function(){return i}))}(n,e,t.D,t.Ga())})).then((function(e){return wh(t)&&e.uid==wh(t).uid?(ql(wh(t),e),t.da(e)):(gh(t,e),Pl(e),t.da(e))})).then((function(){Eh(t)}))}function gh(t,e){wh(t)&&(function(t,e){Y(t.W,(function(t){return t==e}))}(wh(t),t.Ba),pn(wh(t),"tokenChanged",t.qa),pn(wh(t),"userDeleted",t.za),pn(wh(t),"userInvalidated",t.Aa),Nl(wh(t))),e&&(e.W.push(t.Ba),hn(e,"tokenChanged",t.qa),hn(e,"userDeleted",t.za),hn(e,"userInvalidated",t.Aa),0<t.u&&Ol(e)),$r(t,"currentUser",e),e&&(e.xa(t.la()),Sl(e,t),Cl(e,t.J),Al(e,t),Il(e,t.R),kl(e,t))}function yh(t,e){var n=null,r=null;return Th(t,e.then((function(e){return n=Vo(e),r=$i(e),vh(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=ul(e.w(),t,E(t.kc,t))),n||e})).then((function(){return ti({user:wh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function bh(t){return t.app}function wh(t){return t.currentUser}function _h(t){return wh(t)&&wh(t)._lat||null}function Eh(t){if(t.ba){for(var e=0;e<t.s.length;e++)t.s[e]&&t.s[e](_h(t));if(t.W!==t.getUid()&&t.N.length)for(t.W=t.getUid(),e=0;e<t.N.length;e++)t.N[e]&&t.N[e](_h(t))}}function Th(t,e){return t.P.push(e),e.oa((function(){X(t.P,e)})),e}function Ih(){}function Sh(){this.a={},this.b=1e12}nh.prototype.yb=function(t){var e=null,n=this;return function(t){var e=new C("invalid-persistence-type"),n=new C("unsupported-persistence-type");t:{for(r in nc)if(nc[r]==t){var r=!0;break t}r=!1}if(!r||"string"!==typeof t)throw e;switch(Ir()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!Lu()&&"none"!==t)throw n;break;default:if(!Rr()&&"none"!==t)throw n}}(t),ch(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,rh(n,t)})).then((function(){if(n.c=oh(t),e)return n.b.set(n.c,e,n.a)})):xe()}))},S(lh,Tn),S(hh,$e),S(fh,$e),S(dh,$e),(t=lh.prototype).yb=function(t){return Th(this,t=this.i.yb(t))},t.xa=function(t){this.aa===t||this.l||(this.aa=t,as(this.a,this.aa),this.dispatchEvent(new hh(this.la())))},t.la=function(){return this.aa},t.fd=function(){var t=u.navigator;this.xa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.gd=function(t,e){if(!this.R){if(!/^https?:\/\//.test(t))throw new C("argument-error","Emulator URL must start with a valid scheme (http:// or https://).");(function(t){"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),u.document&&!t&&wr().then((function(){var t=u.document.createElement("div");t.innerText="Running in emulator mode. Do not use with production credentials.",t.style.position="fixed",t.style.width="100%",t.style.backgroundColor="#ffffff",t.style.border=".1em solid #000000",t.style.color="#b50000",t.style.bottom="0px",t.style.left="0px",t.style.margin="0px",t.style.zIndex=1e4,t.style.textAlign="center",t.classList.add("firebase-emulator-warning"),u.document.body.appendChild(t)}))})(e=!!e&&!!e.disableWarnings),this.R={url:t,ec:e},this.settings.jb=!0,ss(this.a,this.R),this.dispatchEvent(new fh(this.R))}},t.Gc=function(t){this.J.push(t),cs(this.a,r.Z.SDK_VERSION?Or(r.Z.SDK_VERSION,this.J):null),this.dispatchEvent(new dh(this.J))},t.Ga=function(){return Q(this.J)},t.zb=function(t){this.S===t||this.l||(this.S=t,this.a.b=this.S)},t.T=function(){return this.S},t.toJSON=function(){return{apiKey:bh(this).options.apiKey,authDomain:bh(this).options.authDomain,appName:bh(this).name,currentUser:wh(this)&&wh(this).w()}},t.Gb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.na=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.C?this.C(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.C)},t.Fa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?E(this.ic,this):null},t.ic=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.$.then((function(){return yh(i,Ts(i.a,o))}))},t.Xc=function(t){if(!Pr())return Oe(new C("operation-not-supported-in-this-environment"));var e=this,n=Yi(t.providerId),i=Vr(),o=null;(!Mr()||Er())&&bh(this).options.authDomain&&t.isOAuthProvider&&(o=_u(bh(this).options.authDomain,bh(this).options.apiKey,bh(this).name,"signInViaPopup",t,null,i,r.Z.SDK_VERSION||null,null,null,this.T(),this.R));var a=gr(o,n&&n.va,n&&n.ua);return Th(this,n=ph(this).then((function(n){return Vc(n,a,"signInViaPopup",t,i,!!o,e.T())})).then((function(){return new Ee((function(t,n){e.na("signInViaPopup",null,new C("cancelled-popup-request"),e.g),e.f=t,e.C=n,e.g=i,e.c=Hc(e.b,e,"signInViaPopup",a,i)}))})).then((function(t){return a&&vr(a),t?ti(t):null})).o((function(t){throw a&&vr(a),t})))},t.Yc=function(t){if(!Pr())return Oe(new C("operation-not-supported-in-this-environment"));var e=this,n=ph(this).then((function(){return function(t){return ch(t,(function(){return t.b.set(ih,t.c.F,t.a)}))}(e.i)})).then((function(){return Gc(e.b,"signInViaRedirect",t,void 0,e.T())}));return Th(this,n)},t.ra=function(){var t=this;return mh(this).then((function(e){return t.b&&Xc(t.b.b),e})).o((function(e){throw t.b&&Xc(t.b.b),e}))},t.dd=function(t){if(!t)return Oe(new C("null-user"));if(this.S!=t.tenantId)return Oe(new C("tenant-id-mismatch"));var e=this,n={};n.apiKey=bh(this).options.apiKey,n.authDomain=bh(this).options.authDomain,n.appName=bh(this).name;var r=function(t,e,n,r){var i=t.h,o={};return o[es]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new Tl(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ha=n),r&&Cl(e,r),ql(e,t),e}(t,n,e.D,e.Ga());return Th(this,this.h.then((function(){if(bh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return wh(e)&&t.uid==wh(e).uid?(ql(wh(e),t),e.da(t)):(gh(e,r),Pl(r),e.da(r))})).then((function(){Eh(e)})))},t.Bb=function(){var t=this;return Th(this,this.h.then((function(){return t.b&&Xc(t.b.b),wh(t)?(gh(t,null),sh(t.i).then((function(){Eh(t)}))):xe()})))},t.Zc=function(){var t=this;return uh(this.i,bh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=wh(t)&&e){n=wh(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return ql(wh(t),e),wh(t).I();(wh(t)||e)&&(gh(t,e),e&&(Pl(e),e.ha=t.D),t.b&&Mc(t.b,t),Eh(t))}}))},t.da=function(t){return ah(this.i,t)},t.mc=function(){Eh(this),this.da(wh(this))},t.wc=function(){this.Bb()},t.xc=function(){this.Bb()},t.kc=function(t){var e=this;return this.h.then((function(){return yh(e,xe(t))}))},t.zc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(wh(e))}))},t.Ac=function(t){var e=this;!function(t,e){t.N.push(e),Th(t,t.h.then((function(){!t.l&&J(t.N,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(_h(t)))})))}(this,(function(){t.next(wh(e))}))},t.Ic=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){"function"===typeof t?t(wh(r)):"function"===typeof t.next&&t.next(wh(r))})),this.Pa(t,e,n)},t.Hc=function(t,e,n){var r=this;return this.ba&&Promise.resolve().then((function(){r.W=r.getUid(),"function"===typeof t?t(wh(r)):"function"===typeof t.next&&t.next(wh(r))})),this.ib(t,e,n)},t.nc=function(t){var e=this;return Th(this,this.h.then((function(){return wh(e)?wh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Tc=function(t){var e=this;return this.h.then((function(){return yh(e,au(e.a,tu,{token:t}))})).then((function(t){var n=t.user;return Vl(n,"isAnonymous",!1),e.da(n),t}))},t.Uc=function(t,e){var n=this;return this.h.then((function(){return yh(n,au(n.a,eu,{email:t,password:e}))}))},t.dc=function(t,e){var n=this;return this.h.then((function(){return yh(n,au(n.a,xs,{email:t,password:e}))}))},t.ab=function(t){var e=this;return this.h.then((function(){return yh(e,t.ka(e.a))}))},t.Sc=function(t){return Xr("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.ab(t)},t.Ab=function(){var t=this;return this.h.then((function(){var e=wh(t);if(e&&e.isAnonymous){var n=ti({providerId:null,isNewUser:!1});return ti({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return yh(t,t.a.Ab()).then((function(e){var n=e.user;return Vl(n,"isAnonymous",!0),t.da(n),e}))}))},t.getUid=function(){return wh(this)&&wh(this).uid||null},t.cc=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&wh(this)&&Ol(wh(this))},t.Pc=function(t){var e=this;K(this.s,(function(n){n==t&&e.u--})),0>this.u&&(this.u=0),0==this.u&&wh(this)&&Nl(wh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.s.push(t),Th(this,this.h.then((function(){e.l||J(e.s,t)&&t(_h(e))})))},t.removeAuthTokenListener=function(t){Y(this.s,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(oh("local"),t.a,this.ja),this.b&&(jc(this.b,this),Xc(this.b.b)),Promise.resolve()},t.hc=function(t){return Th(this,function(t,e){return au(t,Os,{identifier:e,continueUri:Lr()?fr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.a,t))},t.Bc=function(t){return!!Lo(t)},t.xb=function(t,e){var n=this;return Th(this,xe().then((function(){var t=new Di(e);if(!t.c)throw new C("argument-error",Li+" must be true when sending sign in link to email");return qi(t)})).then((function(e){return n.a.xb(t,e)})).then((function(){})))},t.jd=function(t){return this.Sa(t).then((function(t){return t.data.email}))},t.ob=function(t,e){return Th(this,this.a.ob(t,e).then((function(){})))},t.Sa=function(t){return Th(this,this.a.Sa(t).then((function(t){return new ci(t)})))},t.kb=function(t){return Th(this,this.a.kb(t).then((function(){})))},t.wb=function(t,e){var n=this;return Th(this,xe().then((function(){return"undefined"===typeof e||mt(e)?{}:qi(new Di(e))})).then((function(e){return n.a.wb(t,e)})).then((function(){})))},t.Wc=function(t,e){return Th(this,nl(this,t,e,E(this.ab,this)))},t.Vc=function(t,e){var n=this;return Th(this,xe().then((function(){var r=e||fr(),i=Po(t,r);if(!(r=Lo(r)))throw new C("argument-error","Invalid email link!");if(r.tenantId!==n.T())throw new C("tenant-id-mismatch");return n.ab(i)})))},Ih.prototype.render=function(){},Ih.prototype.reset=function(){},Ih.prototype.getResponse=function(){},Ih.prototype.execute=function(){};var kh=null;function Ch(t,e){return(e=Ah(e))&&t.a[e]||null}function Ah(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function xh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=le(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():hn(this.f,"click",this.i)}function Oh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Nh(){}function Dh(){}Sh.prototype.render=function(t,e){return this.a[this.b.toString()]=new xh(t,e),this.b++},Sh.prototype.reset=function(t){var e=Ch(this,t);t=Ah(t),e&&t&&(e.delete(),delete this.a[t])},Sh.prototype.getResponse=function(t){return(t=Ch(this,t))?t.getResponse():null},Sh.prototype.execute=function(t){(t=Ch(this,t))&&t.execute()},xh.prototype.getResponse=function(){return Oh(this),this.b},xh.prototype.execute=function(){Oh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(r){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(r){}t.h&&t.execute()}),6e4)}),500))},xh.prototype.delete=function(){Oh(this),this.g=!0,clearTimeout(this.a),this.a=null,pn(this.f,"click",this.i)},$r(Nh,"FACTOR_ID","phone"),Dh.prototype.g=function(){return kh||(kh=new Sh),xe(kh)},Dh.prototype.c=function(){};var Rh=null;function Ph(){this.b=u.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var Lh=new wt(It,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Fh=new Hr(3e4,6e4);Ph.prototype.g=function(t){var e=this;return new Ee((function(n,r){var i=setTimeout((function(){r(new C("network-request-failed"))}),Fh.get());!u.grecaptcha||t!==e.f&&!e.b?(u[e.a]=function(){if(u.grecaptcha){e.f=t;var o=u.grecaptcha.render;u.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(u.grecaptcha)}else clearTimeout(i),r(new C("internal-error"));delete u[e.a]},xe(za(At(Lh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new C("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(u.grecaptcha))}))},Ph.prototype.c=function(){this.b--};var Mh=null;function jh(t,e,n,r,i,o,a){if($r(this,"type","recaptcha"),this.c=this.f=null,this.J=!1,this.v=e,this.g=null,a?(Rh||(Rh=new Dh),a=Rh):(Mh||(Mh=new Ph),a=Mh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Vh])throw new C("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[qh],!u.document)throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!le(e)||!this.i&&le(e).hasChildNodes())throw new C("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Qa(t,o||null,i||null),this.u=r||function(){return null};var s=this;this.l=[];var c=this.a[Uh];this.a[Uh]=function(t){if(Gh(s,t),"function"===typeof c)c(t);else if("string"===typeof c){var e=Dr(c,u);"function"===typeof e&&e(t)}};var l=this.a[Bh];this.a[Bh]=function(){if(Gh(s,null),"function"===typeof l)l();else if("string"===typeof l){var t=Dr(l,u);"function"===typeof t&&t()}}}var Uh="callback",Bh="expired-callback",Vh="sitekey",qh="size";function Gh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(r){}}function Hh(t,e){return t.h.push(e),e.oa((function(){X(t.h,e)})),e}function Kh(t){if(t.J)throw new C("internal-error","RecaptchaVerifier instance has been destroyed.")}function zh(t,e,n){var i=!1;try{this.b=n||r.Z.app()}catch(s){throw new C("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new C("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().Ga()}catch(s){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=r.Z.SDK_VERSION?Or(r.Z.SDK_VERSION,a):null,jh.call(this,n,t,e,(function(){try{var t=o.b.auth().la()}catch(e){t=null}return t}),a,R(x),i)}function Wh(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new C("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=Zh.length)throw new C("internal-error","Argument validator received an unsupported number of arguments.");n=Zh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new C("argument-error",t+" failed: "+r)}(t=jh.prototype).Ia=function(){var t=this;return this.f?this.f:this.f=Hh(this,xe().then((function(){if(Lr()&&!Tr())return wr();throw new C("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.u())})).then((function(e){return t.g=e,au(t.s,Gs,{})})).then((function(e){t.a[Vh]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){Kh(this);var t=this;return Hh(this,this.Ia().then((function(){if(null===t.c){var e=t.v;if(!t.i){var n=le(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),a=r[1];if(!ce&&a&&(a.name||a.type)){if(o=["<",o],a.name&&o.push(' name="',Kt(a.name),'"'),a.type){o.push(' type="',Kt(a.type),'"');var s={};yt(s,a),delete s.type,a=s}o.push(">"),o=o.join("")}return o=ve(i,o),a&&("string"===typeof a?o.className=a:Array.isArray(a)?o.className=a.join(" "):he(o,a)),2<r.length&&me(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){Kh(this);var t=this;return Hh(this,this.render().then((function(e){return new Ee((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){Y(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){Kh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Kh(this),this.J=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=le(this.v);for(var e;e=t.firstChild;)t.removeChild(e)}},S(zh,jh);var Zh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Jh(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:function(t){return"string"===typeof t}}}function Xh(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:function(t){return"boolean"===typeof t}}}function Yh(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:v}}function $h(t,e){return{name:t||"",K:"a function",optional:!!e,M:function(t){return"function"===typeof t}}}function Qh(t,e){return{name:t||"",K:"null",optional:!!e,M:function(t){return null===t}}}function tf(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ka||!n)}}}function ef(t,e){return v(t)&&"string"===typeof t.type&&t.type===e&&"function"===typeof t.Ha}function nf(t){return v(t)&&"string"===typeof t.uid}function rf(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function of(t,e){for(var n in e){var r=e[n].name;t[r]=uf(r,t[n],e[n].j)}}function af(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:T((function(t){return this[t]}),n),set:T((function(t,e,n,r){Wh(t,[n],[r],!0),this[e]=r}),r,n,e[n].lb),enumerable:!0})}}function sf(t,e,n,r){t[e]=uf(e,n,r)}function uf(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Wh(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}of(lh.prototype,{kb:{name:"applyActionCode",j:[Jh("code")]},Sa:{name:"checkActionCode",j:[Jh("code")]},ob:{name:"confirmPasswordReset",j:[Jh("code"),Jh("newPassword")]},dc:{name:"createUserWithEmailAndPassword",j:[Jh("email"),Jh("password")]},hc:{name:"fetchSignInMethodsForEmail",j:[Jh("email")]},ra:{name:"getRedirectResult",j:[]},Bc:{name:"isSignInWithEmailLink",j:[Jh("emailLink")]},Hc:{name:"onAuthStateChanged",j:[rf(Yh(),$h(),"nextOrObserver"),$h("opt_error",!0),$h("opt_completed",!0)]},Ic:{name:"onIdTokenChanged",j:[rf(Yh(),$h(),"nextOrObserver"),$h("opt_error",!0),$h("opt_completed",!0)]},wb:{name:"sendPasswordResetEmail",j:[Jh("email"),rf(Yh("opt_actionCodeSettings",!0),Qh(null,!0),"opt_actionCodeSettings",!0)]},xb:{name:"sendSignInLinkToEmail",j:[Jh("email"),Yh("actionCodeSettings")]},yb:{name:"setPersistence",j:[Jh("persistence")]},Sc:{name:"signInAndRetrieveDataWithCredential",j:[tf()]},Ab:{name:"signInAnonymously",j:[]},ab:{name:"signInWithCredential",j:[tf()]},Tc:{name:"signInWithCustomToken",j:[Jh("token")]},Uc:{name:"signInWithEmailAndPassword",j:[Jh("email"),Jh("password")]},Vc:{name:"signInWithEmailLink",j:[Jh("email"),Jh("emailLink",!0)]},Wc:{name:"signInWithPhoneNumber",j:[Jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Xc:{name:"signInWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Yc:{name:"signInWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},dd:{name:"updateCurrentUser",j:[rf({name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof Tl)}},Qh(),"user")]},Bb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Jh(null,!0)]},fd:{name:"useDeviceLanguage",j:[]},gd:{name:"useEmulator",j:[Jh("url"),Yh("options",!0)]},jd:{name:"verifyPasswordResetCode",j:[Jh("code")]}}),af(lh.prototype,{lc:{name:"languageCode",lb:rf(Jh(),Qh(),"languageCode")},ti:{name:"tenantId",lb:rf(Jh(),Qh(),"tenantId")}}),lh.Persistence=nc,lh.Persistence.LOCAL="local",lh.Persistence.SESSION="session",lh.Persistence.NONE="none",of(Tl.prototype,{delete:{name:"delete",j:[]},oc:{name:"getIdTokenResult",j:[Xh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Xh("opt_forceRefresh",!0)]},Cc:{name:"linkAndRetrieveDataWithCredential",j:[tf()]},rb:{name:"linkWithCredential",j:[tf()]},Dc:{name:"linkWithPhoneNumber",j:[Jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Ec:{name:"linkWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Fc:{name:"linkWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Lc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[tf()]},ub:{name:"reauthenticateWithCredential",j:[tf()]},Mc:{name:"reauthenticateWithPhoneNumber",j:[Jh("phoneNumber"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]},Nc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Oc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},vb:{name:"sendEmailVerification",j:[rf(Yh("opt_actionCodeSettings",!0),Qh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Jh(null,!0)]},cd:{name:"unlink",j:[Jh("provider")]},Cb:{name:"updateEmail",j:[Jh("email")]},Db:{name:"updatePassword",j:[Jh("password")]},ed:{name:"updatePhoneNumber",j:[tf("phone")]},Eb:{name:"updateProfile",j:[Yh("profile")]},Fb:{name:"verifyBeforeUpdateEmail",j:[Jh("email"),rf(Yh("opt_actionCodeSettings",!0),Qh(null,!0),"opt_actionCodeSettings",!0)]}}),of(Sh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),of(Ih.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),of(Ee.prototype,{oa:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),af(tl.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",lb:Xh("appVerificationDisabledForTesting")}}),of(el.prototype,{confirm:{name:"confirm",j:[Jh("verificationCode")]}}),sf(ho,"fromJSON",(function(t){t="string"===typeof t?JSON.parse(t):t;for(var e,n=[bo,Do,Mo,vo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[rf(Jh(),Yh(),"json")]),sf(Ro,"credential",(function(t,e){return new No(t,e)}),[Jh("email"),Jh("password")]),of(No.prototype,{w:{name:"toJSON",j:[Jh(null,!0)]}}),of(To.prototype,{Ca:{name:"addScope",j:[Jh("scope")]},Ka:{name:"setCustomParameters",j:[Yh("customOAuthParameters")]}}),sf(To,"credential",Io,[rf(Jh(),Yh(),"token")]),sf(Ro,"credentialWithLink",Po,[Jh("email"),Jh("emailLink")]),of(So.prototype,{Ca:{name:"addScope",j:[Jh("scope")]},Ka:{name:"setCustomParameters",j:[Yh("customOAuthParameters")]}}),sf(So,"credential",ko,[rf(Jh(),Yh(),"token")]),of(Co.prototype,{Ca:{name:"addScope",j:[Jh("scope")]},Ka:{name:"setCustomParameters",j:[Yh("customOAuthParameters")]}}),sf(Co,"credential",Ao,[rf(Jh(),rf(Yh(),Qh()),"idToken"),rf(Jh(),Qh(),"accessToken",!0)]),of(xo.prototype,{Ka:{name:"setCustomParameters",j:[Yh("customOAuthParameters")]}}),sf(xo,"credential",Oo,[rf(Jh(),Yh(),"token"),Jh("secret",!0)]),of(Eo.prototype,{Ca:{name:"addScope",j:[Jh("scope")]},credential:{name:"credential",j:[rf(Jh(),rf(Yh(),Qh()),"optionsOrIdToken"),rf(Jh(),Qh(),"accessToken",!0)]},Ka:{name:"setCustomParameters",j:[Yh("customOAuthParameters")]}}),of(go.prototype,{w:{name:"toJSON",j:[Jh(null,!0)]}}),of(po.prototype,{w:{name:"toJSON",j:[Jh(null,!0)]}}),sf(Uo,"credential",Bo,[Jh("verificationId"),Jh("verificationCode")]),of(Uo.prototype,{gb:{name:"verifyPhoneNumber",j:[rf(Jh(),{name:"phoneInfoOptions",K:"valid phone info options",optional:!1,M:function(t){return!!t&&(t.session&&t.phoneNumber?ef(t.session,co)&&"string"===typeof t.phoneNumber:t.session&&t.multiFactorHint?ef(t.session,lo)&&nf(t.multiFactorHint):t.session&&t.multiFactorUid?ef(t.session,lo)&&"string"===typeof t.multiFactorUid:!!t.phoneNumber&&"string"===typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!(!t||"string"!==typeof t.type||"function"!==typeof t.verify)}}]}}),of(Fo.prototype,{w:{name:"toJSON",j:[Jh(null,!0)]}}),of(C.prototype,{toJSON:{name:"toJSON",j:[Jh(null,!0)]}}),of(Jo.prototype,{toJSON:{name:"toJSON",j:[Jh(null,!0)]}}),of(Zo.prototype,{toJSON:{name:"toJSON",j:[Jh(null,!0)]}}),of(sl.prototype,{toJSON:{name:"toJSON",j:[Jh(null,!0)]}}),of(il.prototype,{Rc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}}]}}),of(dl.prototype,{Sb:{name:"getSession",j:[]},fc:{name:"enroll",j:[{name:"multiFactorAssertion",K:"a valid multiFactorAssertion",optional:!1,M:function(t){return!!t&&!!t.tb}},Jh("displayName",!0)]},bd:{name:"unenroll",j:[rf({name:"multiFactorInfo",K:"a valid multiFactorInfo",optional:!1,M:nf},Jh(),"multiFactorInfoIdentifier")]}}),of(zh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),sf(Ti,"parseLink",Ni,[Jh("link")]),sf(Nh,"assertion",(function(t){return new hl(t)}),[tf("phone")]),function(){if("undefined"===typeof r.Z||!r.Z.INTERNAL||!r.Z.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:hi,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:li,VERIFY_AND_CHANGE_EMAIL:fi,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:lh,AuthCredential:ho,Error:C};sf(t,"EmailAuthProvider",Ro,[]),sf(t,"FacebookAuthProvider",To,[]),sf(t,"GithubAuthProvider",So,[]),sf(t,"GoogleAuthProvider",Co,[]),sf(t,"TwitterAuthProvider",xo,[]),sf(t,"OAuthProvider",Eo,[Jh("providerId")]),sf(t,"SAMLAuthProvider",_o,[Jh("providerId")]),sf(t,"PhoneAuthProvider",Uo,[{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof lh)}}]),sf(t,"RecaptchaVerifier",zh,[rf(Jh(),{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Yh("recaptchaParameters",!0),{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r.Z.app.App)}}]),sf(t,"ActionCodeURL",Ti,[]),sf(t,"PhoneMultiFactorGenerator",Nh,[]),r.Z.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new lh(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC",onInstanceCreated:function(t){t.getProvider("auth-internal").initialize()}}),r.Z.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:E((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:E(t.nc,t),addAuthTokenListener:E(t.cc,t),removeAuthTokenListener:E(t.Pc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),r.Z.registerVersion("@firebase/auth","0.16.8"),r.Z.INTERNAL.extendNamespace({User:Tl})}()}).apply("undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},3334:function(t,e,n){"use strict";n.r(e);var r=n(2475),i=n(5163),o=n(6765),a=n(3936),s=function(t,e){return s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},s(t,e)};function u(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var c,l="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},h=h||{},f=l||self;function d(){}function p(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function m(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var v="closure_uid_"+(1e9*Math.random()>>>0),g=0;function y(t,e,n){return t.call.apply(t.bind,arguments)}function b(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function w(t,e,n){return(w=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?y:b).apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function E(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function T(){this.s=this.s,this.o=this.o}var I={};T.prototype.s=!1,T.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,v)&&t[v]||(t[v]=++g)}(this);delete I[t]}},T.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var S=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"===typeof t)return"string"!==typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},k=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"===typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function C(t){return Array.prototype.concat.apply([],arguments)}function A(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function x(t){return/^[\s\xa0]*$/.test(t)}var O,N=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function D(t,e){return-1!=t.indexOf(e)}function R(t,e){return t<e?-1:t>e?1:0}t:{var P=f.navigator;if(P){var L=P.userAgent;if(L){O=L;break t}}O=""}function F(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function M(t){var e={};for(var n in t)e[n]=t[n];return e}var j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function U(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<j.length;o++)n=j[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function B(t){return B[" "](t),t}B[" "]=d;var V,q=D(O,"Opera"),G=D(O,"Trident")||D(O,"MSIE"),H=D(O,"Edge"),K=H||G,z=D(O,"Gecko")&&!(D(O.toLowerCase(),"webkit")&&!D(O,"Edge"))&&!(D(O,"Trident")||D(O,"MSIE"))&&!D(O,"Edge"),W=D(O.toLowerCase(),"webkit")&&!D(O,"Edge");function Z(){var t=f.document;return t?t.documentMode:void 0}t:{var J="",X=function(){var t=O;return z?/rv:([^\);]+)(\)|;)/.exec(t):H?/Edge\/([\d\.]+)/.exec(t):G?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):W?/WebKit\/(\S+)/.exec(t):q?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(X&&(J=X?X[1]:""),G){var Y=Z();if(null!=Y&&Y>parseFloat(J)){V=String(Y);break t}}V=J}var $,Q={};function tt(){return function(t){var e=Q;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}((function(){for(var t=0,e=N(String(V)).split("."),n=N("9").split("."),r=Math.max(e.length,n.length),i=0;0==t&&i<r;i++){var o=e[i]||"",a=n[i]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;t=R(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||R(0==o[2].length,0==a[2].length)||R(o[2],a[2]),o=o[3],a=a[3]}while(0==t)}return 0<=t}))}if(f.document&&G){var et=Z();$=et||(parseInt(V,10)||void 0)}else $=void 0;var nt=$,rt=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{f.addEventListener("test",d,e),f.removeEventListener("test",d,e)}catch(n){}return t}();function it(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function ot(t,e){if(it.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(z){t:{try{B(e.nodeName);var i=!0;break t}catch(o){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"===typeof t.pointerType?t.pointerType:at[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&ot.Z.h.call(this)}}it.prototype.h=function(){this.defaultPrevented=!0},E(ot,it);var at={2:"touch",3:"pen",4:"mouse"};ot.prototype.h=function(){ot.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var st="closure_listenable_"+(1e6*Math.random()|0),ut=0;function ct(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++ut,this.ca=this.fa=!1}function lt(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function ht(t){this.src=t,this.g={},this.h=0}function ft(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=S(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(lt(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function dt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ca&&o.listener==e&&o.capture==!!n&&o.ia==r)return i}return-1}ht.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var a=dt(t,e,r,i);return-1<a?(e=t[a],n||(e.fa=!1)):((e=new ct(e,this.src,o,!!r,i)).fa=n,t.push(e)),e};var pt="closure_lm_"+(1e6*Math.random()|0),mt={};function vt(t,e,n,r,i){if(r&&r.once)return yt(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)vt(t,e[o],n,r,i);return null}return n=St(n),t&&t[st]?t.N(e,n,m(r)?!!r.capture:!!r,i):gt(t,e,n,!1,r,i)}function gt(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=m(i)?!!i.capture:!!i,s=Tt(t);if(s||(t[pt]=s=new ht(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){function t(n){return e.call(t.src,t.listener,n)}var e=Et;return t}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)rt||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_t(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function yt(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)yt(t,e[o],n,r,i);return null}return n=St(n),t&&t[st]?t.O(e,n,m(r)?!!r.capture:!!r,i):gt(t,e,n,!0,r,i)}function bt(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)bt(t,e[o],n,r,i);else r=m(r)?!!r.capture:!!r,n=St(n),t&&t[st]?(t=t.i,(e=String(e).toString())in t.g&&(-1<(n=dt(o=t.g[e],n,r,i))&&(lt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--)))):t&&(t=Tt(t))&&(e=t.g[e.toString()],t=-1,e&&(t=dt(e,n,r,i)),(n=-1<t?e[t]:null)&&wt(n))}function wt(t){if("number"!==typeof t&&t&&!t.ca){var e=t.src;if(e&&e[st])ft(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_t(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Tt(e))?(ft(n,t),0==n.h&&(n.src=null,e[pt]=null)):lt(t)}}}function _t(t){return t in mt?mt[t]:mt[t]="on"+t}function Et(t,e){if(t.ca)t=!0;else{e=new ot(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&wt(t),t=n.call(r,e)}return t}function Tt(t){return(t=t[pt])instanceof ht?t:null}var It="__closure_events_fn_"+(1e9*Math.random()>>>0);function St(t){return"function"===typeof t?t:(t[It]||(t[It]=function(e){return t.handleEvent(e)}),t[It])}function kt(){T.call(this),this.i=new ht(this),this.P=this,this.I=null}function Ct(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"===typeof e)e=new it(e,t);else if(e instanceof it)e.target=e.target||t;else{var i=e;U(e=new it(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=At(a,r,!0,e)&&i}if(i=At(a=e.g=t,r,!0,e)&&i,i=At(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=At(a=e.g=n[o],r,!1,e)&&i}function At(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ca&&a.capture==n){var s=a.listener,u=a.ia||a.src;a.fa&&ft(t.i,a),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}E(kt,T),kt.prototype[st]=!0,kt.prototype.removeEventListener=function(t,e,n,r){bt(this,t,e,n,r)},kt.prototype.M=function(){if(kt.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)lt(n[r]);delete e.g[t],e.h--}}this.I=null},kt.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},kt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var xt=f.JSON.stringify;function Ot(){var t=jt,e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var Nt,Dt=function(){function t(){this.h=this.g=null}return t.prototype.add=function(t,e){var n=Rt.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n},t}(),Rt=new(function(){function t(t,e){this.i=t,this.j=e,this.h=0,this.g=null}return t.prototype.get=function(){var t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t},t}())((function(){return new Pt}),(function(t){return t.reset()})),Pt=function(){function t(){this.next=this.g=this.h=null}return t.prototype.set=function(t,e){this.h=t,this.g=e,this.next=null},t.prototype.reset=function(){this.next=this.g=this.h=null},t}();function Lt(t){f.setTimeout((function(){throw t}),0)}function Ft(t,e){Nt||function(){var t=f.Promise.resolve(void 0);Nt=function(){t.then(Ut)}}(),Mt||(Nt(),Mt=!0),jt.add(t,e)}var Mt=!1,jt=new Dt;function Ut(){for(var t;t=Ot();){try{t.h.call(t.g)}catch(n){Lt(n)}var e=Rt;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Mt=!1}function Bt(t,e){kt.call(this),this.h=t||1,this.g=e||f,this.j=w(this.kb,this),this.l=Date.now()}function Vt(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function qt(t,e,n){if("function"===typeof t)n&&(t=w(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=w(t.handleEvent,t)}return 2147483647<Number(e)?-1:f.setTimeout(t,e||0)}function Gt(t){t.g=qt((function(){t.g=null,t.i&&(t.i=!1,Gt(t))}),t.j);var e=t.h;t.h=null,t.m.apply(null,e)}E(Bt,kt),(c=Bt.prototype).da=!1,c.S=null,c.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ct(this,"tick"),this.da&&(Vt(this),this.start()))}},c.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},c.M=function(){Bt.Z.M.call(this),Vt(this),delete this.g};var Ht=function(t){function e(e,n){var r=t.call(this)||this;return r.m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.l=function(t){this.h=arguments,this.g?this.i=!0:Gt(this)},e.prototype.M=function(){t.prototype.M.call(this),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)},e}(T);function Kt(t){T.call(this),this.h=t,this.g={}}E(Kt,T);var zt=[];function Wt(t,e,n,r){Array.isArray(n)||(n&&(zt[0]=n.toString()),n=zt);for(var i=0;i<n.length;i++){var o=vt(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function Zt(t){F(t.g,(function(t,e){this.g.hasOwnProperty(e)&&wt(t)}),t),t.g={}}function Jt(){this.g=!0}function Xt(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return xt(n)}catch(s){return e}}(t,n)+(r?" "+r:"")}))}Kt.prototype.M=function(){Kt.Z.M.call(this),Zt(this)},Kt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Jt.prototype.Aa=function(){this.g=!1},Jt.prototype.info=function(){};var Yt={},$t=null;function Qt(){return $t=$t||new kt}function te(t){it.call(this,Yt.Ma,t)}function ee(t){var e=Qt();Ct(e,new te(e,t))}function ne(t,e){it.call(this,Yt.STAT_EVENT,t),this.stat=e}function re(t){var e=Qt();Ct(e,new ne(e,t))}function ie(t,e){it.call(this,Yt.Na,t),this.size=e}function oe(t,e){if("function"!==typeof t)throw Error("Fn must not be null and must be a function");return f.setTimeout((function(){t()}),e)}Yt.Ma="serverreachability",E(te,it),Yt.STAT_EVENT="statevent",E(ne,it),Yt.Na="timingevent",E(ie,it);var ae={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},se={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function ue(){}function ce(t){return t.h||(t.h=t.i())}function le(){}ue.prototype.h=null;var he,fe={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function de(){it.call(this,"d")}function pe(){it.call(this,"c")}function me(){}function ve(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new Kt(this),this.P=ye,t=K?125:void 0,this.W=new Bt(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new ge}function ge(){this.i=null,this.g="",this.h=!1}E(de,it),E(pe,it),E(me,ue),me.prototype.g=function(){return new XMLHttpRequest},me.prototype.i=function(){return{}},he=new me;var ye=45e3,be={},we={};function _e(t,e,n){t.K=1,t.v=He(je(e)),t.s=n,t.U=!0,Ee(t,null)}function Ee(t,e){t.F=Date.now(),ke(t),t.A=je(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),rn(n.h,"t",r),t.C=0,n=t.l.H,t.h=new ge,t.g=or(t.l,n?e:null,!t.s),0<t.O&&(t.L=new Ht(w(t.Ia,t,t.g),t.O)),Wt(t.V,t.g,"readystatechange",t.gb),e=t.H?M(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),ee(1),function(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var a="",s=o.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+c+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.j,t.u,t.A,t.m,t.X,t.s)}function Te(t){return!!t.g&&("GET"==t.u&&2!=t.K&&t.l.Ba)}function Ie(t,e,n){for(var r,i=!0;!t.I&&t.C<n.length;){if((r=Se(t,n))==we){4==e&&(t.o=4,re(14),i=!1),Xt(t.j,t.m,null,"[Incomplete Response]");break}if(r==be){t.o=4,re(15),Xt(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}Xt(t.j,t.m,r,null),Ne(t,r)}Te(t)&&r!=we&&r!=be&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,re(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),Yn(e),e.L=!0,re(11))):(Xt(t.j,t.m,n,"[Invalid Chunked Response]"),Oe(t),xe(t))}function Se(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?we:(n=Number(e.substring(n,r)),isNaN(n)?be:(r+=1)+n>e.length?we:(e=e.substr(r,n),t.C=r+n,e))}function ke(t){t.Y=Date.now()+t.P,Ce(t,t.P)}function Ce(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=oe(w(t.eb,t),e)}function Ae(t){t.B&&(f.clearTimeout(t.B),t.B=null)}function xe(t){0==t.l.G||t.I||tr(t.l,t)}function Oe(t){Ae(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,Vt(t.W),Zt(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Ne(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||hn(n.i,t)))if(n.I=t.N,!t.J&&hn(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(o){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;Qn(n),qn(n)}Xn(n),re(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=oe(w(n.ab,n),6e3));if(1>=ln(n.i)&&n.ka){try{n.ka()}catch(o){}n.ka=void 0}}else nr(n,11)}else if((t.J||n.g==t)&&Qn(n),!x(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){var o=i[e];if(n.U=o[0],o=o[1],2==n.G)if("c"==o[0]){n.J=o[1],n.la=o[2];var a=o[3];null!=a&&(n.ma=a,n.h.info("VER="+n.ma));var s=o[4];null!=s&&(n.za=s,n.h.info("SVER="+n.za));var u=o[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=t.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=r.i;!h.g&&(D(l,"spdy")||D(l,"quic")||D(l,"h2"))&&(h.j=h.l,h.g=new Set,h.h&&(fn(h,h.h),h.h=null))}if(r.D){var f=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;f&&(r.sa=f,Ge(r.F,r.D,f))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=t;if((r=n).oa=ir(r,r.H?r.la:null,r.W),d.J){dn(r.i,d);var p=d,m=r.K;m&&p.setTimeout(m),p.B&&(Ae(p),ke(p)),r.g=d}else Jn(r);0<n.l.length&&Kn(n)}else"stop"!=o[0]&&"close"!=o[0]||nr(n,7);else 3==n.G&&("stop"==o[0]||"close"==o[0]?"stop"==o[0]?nr(n,7):Vn(n):"noop"!=o[0]&&n.j&&n.j.wa(o),n.A=0)}ee(4)}catch(o){}}function De(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(p(t)||"string"===typeof t)k(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(p(t)||"string"===typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"===typeof t)return t.split("");if(p(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function Re(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Re)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Pe(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];Le(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)Le(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function Le(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(c=ve.prototype).setTimeout=function(t){this.P=t},c.gb=function(t){t=t.target;var e=this.L;e&&3==Fn(t)?e.l():this.Ia(t)},c.Ia=function(t){try{if(t==this.g)t:{var e=Fn(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>e)&&(3!=e||K||this.g&&(this.h.h||this.g.ga()||Mn(this.g)))){this.I||4!=e||7==n||ee(8==n||0>=r?3:2),Ae(this);var i=this.g.ba();this.N=i;e:if(Te(this)){var o=Mn(this.g);t="";var a=o.length,s=4==Fn(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Oe(this),xe(this);var u="";break e}this.h.i=new f.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,t+=this.h.i.decode(o[n],{stream:s&&n==a-1});o.splice(0,a),this.h.g+=t,this.C=0,u=this.h.g}else u=this.g.ga();if(this.i=200==i,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.X,e,i),this.i){if(this.$&&!this.J){e:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(c)){var h=c;break e}}h=null}if(!(i=h)){this.i=!1,this.o=3,re(12),Oe(this),xe(this);break t}Xt(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ne(this,i)}this.U?(Ie(this,e,u),K&&this.i&&3==e&&(Wt(this.V,this.W,"tick",this.fb),this.W.start())):(Xt(this.j,this.m,u,null),Ne(this,u)),4==e&&Oe(this),this.i&&!this.I&&(4==e?tr(this.l,this):(this.i=!1,ke(this)))}else 400==i&&0<u.indexOf("Unknown SID")?(this.o=3,re(12)):(this.o=0,re(13)),Oe(this),xe(this)}}}catch(e){}},c.fb=function(){if(this.g){var t=Fn(this.g),e=this.g.ga();this.C<e.length&&(Ae(this),Ie(this,t,e),this.i&&4!=t&&ke(this))}},c.cancel=function(){this.I=!0,Oe(this)},c.eb=function(){this.B=null;var t=Date.now();0<=t-this.Y?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(ee(3),re(17)),Oe(this),this.o=2,xe(this)):Ce(this,this.Y-t)},(c=Re.prototype).R=function(){Pe(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},c.T=function(){return Pe(this),this.g.concat()},c.get=function(t,e){return Le(this.h,t)?this.h[t]:e},c.set=function(t,e){Le(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},c.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Fe=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Me(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof Me){this.g=void 0!==e?e:t.g,Ue(this,t.j),this.s=t.s,Be(this,t.i),Ve(this,t.m),this.l=t.l,e=t.h;var n=new Qe;n.i=e.i,e.g&&(n.g=new Re(e.g),n.h=e.h),qe(this,n),this.o=t.o}else t&&(n=String(t).match(Fe))?(this.g=!!e,Ue(this,n[1]||"",!0),this.s=Ke(n[2]||""),Be(this,n[3]||"",!0),Ve(this,n[4]),this.l=Ke(n[5]||"",!0),qe(this,n[6]||"",!0),this.o=Ke(n[7]||"")):(this.g=!!e,this.h=new Qe(null,this.g))}function je(t){return new Me(t)}function Ue(t,e,n){t.j=n?Ke(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Be(t,e,n){t.i=n?Ke(e,!0):e}function Ve(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function qe(t,e,n){e instanceof Qe?(t.h=e,function(t,e){e&&!t.j&&(tn(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(en(this,e),rn(this,n,t))}),t)),t.j=e}(t.h,t.g)):(n||(e=ze(e,Ye)),t.h=new Qe(e,t.g))}function Ge(t,e,n){t.h.set(e,n)}function He(t){return Ge(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ke(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ze(t,e,n){return"string"===typeof t?(t=encodeURI(t).replace(e,We),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function We(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Me.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ze(e,Ze,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(ze(e,Ze,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(ze(n,"/"==n.charAt(0)?Xe:Je,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ze(n,$e)),t.join("")};var Ze=/[#\/\?@]/g,Je=/[#\?:]/g,Xe=/[#\?]/g,Ye=/[#\?@]/g,$e=/#/g;function Qe(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function tn(t){t.g||(t.g=new Re,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function en(t,e){tn(t),e=on(t,e),Le(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,Le((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&Pe(t)))}function nn(t,e){return tn(t),e=on(t,e),Le(t.g.h,e)}function rn(t,e,n){en(t,e),0<n.length&&(t.i=null,t.g.set(on(t,e),A(n)),t.h+=n.length)}function on(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}(c=Qe.prototype).add=function(t,e){tn(this),this.i=null,t=on(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},c.forEach=function(t,e){tn(this),this.g.forEach((function(n,r){k(n,(function(n){t.call(e,n,r,this)}),this)}),this)},c.T=function(){tn(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},c.R=function(t){tn(this);var e=[];if("string"===typeof t)nn(this,t)&&(e=C(e,this.g.get(on(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=C(e,t[n])}return e},c.set=function(t,e){return tn(this),this.i=null,nn(this,t=on(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},c.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},c.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.i=t.join("&")};var an=function(t,e){this.h=t,this.g=e};function sn(t){this.l=t||un,f.PerformanceNavigationTiming?t=0<(t=f.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(f.g&&f.g.Ea&&f.g.Ea()&&f.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var un=10;function cn(t){return!!t.h||!!t.g&&t.g.size>=t.j}function ln(t){return t.h?1:t.g?t.g.size:0}function hn(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function fn(t,e){t.g?t.g.add(e):t.h=e}function dn(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function pn(t){var e,n;if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){var r=t.i;try{for(var i=u(t.g.values()),o=i.next();!o.done;o=i.next()){var a=o.value;r=r.concat(a.D)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return A(t.i)}function mn(){}function vn(){this.g=new mn}function gn(t,e,n){var r=n||"";try{De(t,(function(t,n){var i=t;m(t)&&(i=xt(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function yn(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(o){}}function bn(t){this.l=t.$b||null,this.j=t.ib||!1}function wn(t,e){kt.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=_n,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}sn.prototype.cancel=function(){var t,e;if(this.i=pn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){try{for(var n=u(this.g.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.g.clear()}},mn.prototype.stringify=function(t){return f.JSON.stringify(t,void 0)},mn.prototype.parse=function(t){return f.JSON.parse(t,void 0)},E(bn,ue),bn.prototype.g=function(){return new wn(this.l,this.j)},bn.prototype.i=function(t){return function(){return t}}({}),E(wn,kt);var _n=0;function En(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Tn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,In(t)}function In(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(c=wn.prototype).open=function(t,e){if(this.readyState!=_n)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,In(this)},c.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||f).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},c.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Tn(this)),this.readyState=_n},c.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,In(this)),this.g&&(this.readyState=3,In(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof f.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;En(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},c.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Tn(this):In(this),3==this.readyState&&En(this)}},c.Ua=function(t){this.g&&(this.response=this.responseText=t,Tn(this))},c.Ta=function(t){this.g&&(this.response=t,Tn(this))},c.ha=function(){this.g&&Tn(this)},c.setRequestHeader=function(t,e){this.v.append(t,e)},c.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},c.getAllResponseHeaders=function(){if(!this.h)return"";for(var t=[],e=this.h.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(wn.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Sn=f.JSON.parse;function kn(t){kt.call(this),this.headers=new Re,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Cn,this.K=this.L=!1}E(kn,kt);var Cn="",An=/^https?$/i,xn=["POST","PUT"];function On(t){return"content-type"==t.toLowerCase()}function Nn(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Dn(t),Pn(t)}function Dn(t){t.D||(t.D=!0,Ct(t,"complete"),Ct(t,"error"))}function Rn(t){if(t.h&&"undefined"!=typeof h&&(!t.C[1]||4!=Fn(t)||2!=t.ba()))if(t.v&&4==Fn(t))qt(t.Fa,0,t);else if(Ct(t,"readystatechange"),4==Fn(t)){t.h=!1;try{var e,n=t.ba();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.H).match(Fe)[1]||null;if(!o&&f.self&&f.self.location){var a=f.self.location.protocol;o=a.substr(0,a.length-1)}i=!An.test(o?o.toLowerCase():"")}e=i}if(e)Ct(t,"complete"),Ct(t,"success");else{t.m=6;try{var s=2<Fn(t)?t.g.statusText:""}catch(u){s=""}t.j=s+" ["+t.ba()+"]",Dn(t)}}finally{Pn(t)}}}function Pn(t,e){if(t.g){Ln(t);var n=t.g,r=t.C[0]?d:null;t.g=null,t.C=null,e||Ct(t,"ready");try{n.onreadystatechange=r}catch(i){}}}function Ln(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(f.clearTimeout(t.A),t.A=null)}function Fn(t){return t.g?t.g.readyState:0}function Mn(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Cn:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function jn(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return F(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"===typeof t?null!=n&&encodeURIComponent(String(n)):Ge(t,e,n))}function Un(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Bn(t){this.za=0,this.l=[],this.h=new Jt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Un("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Un("baseRetryDelayMs",5e3,t),this.$a=Un("retryDelaySeedMs",1e4,t),this.Ya=Un("forwardChannelMaxRetries",2,t),this.ra=Un("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new sn(t&&t.concurrentRequestLimit),this.Ca=new vn,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function Vn(t){if(Gn(t),3==t.G){var e=t.V++,n=je(t.F);Ge(n,"SID",t.J),Ge(n,"RID",e),Ge(n,"TYPE","terminate"),Wn(t,n),(e=new ve(t,t.h,e,void 0)).K=2,e.v=He(je(n)),n=!1,f.navigator&&f.navigator.sendBeacon&&(n=f.navigator.sendBeacon(e.v.toString(),"")),!n&&f.Image&&((new Image).src=e.v,n=!0),n||(e.g=or(e.l,null),e.g.ea(e.v)),e.F=Date.now(),ke(e)}rr(t)}function qn(t){t.g&&(Yn(t),t.g.cancel(),t.g=null)}function Gn(t){qn(t),t.u&&(f.clearTimeout(t.u),t.u=null),Qn(t),t.i.cancel(),t.m&&("number"===typeof t.m&&f.clearTimeout(t.m),t.m=null)}function Hn(t,e){t.l.push(new an(t.Za++,e)),3==t.G&&Kn(t)}function Kn(t){cn(t.i)||t.m||(t.m=!0,Ft(t.Ha,t),t.C=0)}function zn(t,e){var n;n=e?e.m:t.V++;var r=je(t.F);Ge(r,"SID",t.J),Ge(r,"RID",n),Ge(r,"AID",t.U),Wn(t,r),t.o&&t.s&&jn(r,t.o,t.s),n=new ve(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=Zn(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),fn(t.i,n),_e(n,r,e)}function Wn(t,e){t.j&&De({},(function(t,n){Ge(e,n,t)}))}function Zn(t,e,n){n=Math.min(t.l.length,n);var r=t.j?w(t.j.Oa,t.j,t):null;t:for(var i=t.l,o=-1;;){var a=["count="+n];-1==o?0<n?(o=i[0].h,a.push("ofs="+o)):o=0:a.push("ofs="+o);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=o))o=Math.max(0,i[u].h-100),s=!1;else try{gn(l,a,"req"+c+"_")}catch(Vr){r&&r(l)}}if(s){r=a.join("&");break t}}return t=t.l.splice(0,n),e.D=t,r}function Jn(t){t.g||t.u||(t.Y=1,Ft(t.Ga,t),t.A=0)}function Xn(t){return!(t.g||t.u||3<=t.A)&&(t.Y++,t.u=oe(w(t.Ga,t),er(t,t.A)),t.A++,!0)}function Yn(t){null!=t.B&&(f.clearTimeout(t.B),t.B=null)}function $n(t){t.g=new ve(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=je(t.oa);Ge(e,"RID","rpc"),Ge(e,"SID",t.J),Ge(e,"CI",t.N?"0":"1"),Ge(e,"AID",t.U),Wn(t,e),Ge(e,"TYPE","xmlhttp"),t.o&&t.s&&jn(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=He(je(e)),n.s=null,n.U=!0,Ee(n,t)}function Qn(t){null!=t.v&&(f.clearTimeout(t.v),t.v=null)}function tr(t,e){var n=null;if(t.g==e){Qn(t),Yn(t),t.g=null;var r=2}else{if(!hn(t.i,e))return;n=e.D,dn(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Ct(r=Qt(),new ie(r,n,e,i)),Kn(t)}else Jn(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(ln(t.i)>=t.i.j-(t.m?1:0))&&(t.m?(t.l=e.D.concat(t.l),!0):!(1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya))&&(t.m=oe(w(t.Ha,t,e),er(t,t.C)),t.C++,!0))}(t,e)||2==r&&Xn(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:nr(t,5);break;case 4:nr(t,10);break;case 3:nr(t,6);break;default:nr(t,2)}}function er(t,e){var n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function nr(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=w(t.jb,t);n||(n=new Me("//www.google.com/images/cleardot.gif"),f.location&&"http"==f.location.protocol||Ue(n,"https"),He(n)),function(t,e){var n=new Jt;if(f.Image){var r=new Image;r.onload=_(yn,n,r,"TestLoadImage: loaded",!0,e),r.onerror=_(yn,n,r,"TestLoadImage: error",!1,e),r.onabort=_(yn,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=_(yn,n,r,"TestLoadImage: timeout",!1,e),f.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else re(2);t.G=0,t.j&&t.j.va(e),rr(t),Gn(t)}function rr(t){t.G=0,t.I=-1,t.j&&(0==pn(t.i).length&&0==t.l.length||(t.i.i.length=0,A(t.l),t.l.length=0),t.j.ua())}function ir(t,e,n){var r=function(t){return t instanceof Me?je(t):new Me(t,void 0)}(n);if(""!=r.i)e&&Be(r,e+"."+r.i),Ve(r,r.m);else{var i=f.location;r=function(t,e,n,r){var i=new Me(null,void 0);return t&&Ue(i,t),e&&Be(i,e),n&&Ve(i,n),r&&(i.l=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.aa&&F(t.aa,(function(t,e){Ge(r,e,t)})),e=t.D,n=t.sa,e&&n&&Ge(r,e,n),Ge(r,"VER",t.ma),Wn(t,r),r}function or(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Ba&&!t.qa?new kn(new bn({ib:!0})):new kn(t.qa)).L=t.H,e}function ar(){}function sr(){if(G&&!(10<=Number(nt)))throw Error("Environmental error: no available transport.")}function ur(t,e){kt.call(this),this.g=new Bn(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!x(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!x(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&(e in(t=this.h)&&delete t[e])),this.j=new hr(this)}function cr(t){de.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function lr(){pe.call(this),this.status=1}function hr(t){this.g=t}(c=kn.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():he.g(),this.C=this.u?ce(this.u):ce(he),this.g.onreadystatechange=w(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(o){return void Nn(this,o)}t=n||"";var i=new Re(this.headers);r&&De(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=On,n=t.length,r="string"===typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"===typeof t?t.charAt(e):t[e]}(i.T()),n=f.FormData&&t instanceof f.FormData,!(0<=S(xn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.g.setRequestHeader(e,t)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ln(this),0<this.B&&((this.K=function(t){return G&&tt()&&"number"===typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=w(this.pa,this)):this.A=qt(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(o){Nn(this,o)}},c.pa=function(){"undefined"!=typeof h&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ct(this,"timeout"),this.abort(8))},c.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ct(this,"complete"),Ct(this,"abort"),Pn(this))},c.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Pn(this,!0)),kn.Z.M.call(this)},c.Fa=function(){this.s||(this.F||this.v||this.l?Rn(this):this.cb())},c.cb=function(){Rn(this)},c.ba=function(){try{return 2<Fn(this)?this.g.status:-1}catch(t){return-1}},c.ga=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},c.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Sn(e)}},c.Da=function(){return this.m},c.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(c=Bn.prototype).ma=8,c.G=1,c.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},c.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;var e=new ve(this,this.h,t,void 0),n=this.s;if(this.P&&(n?U(n=M(n),this.P):n=this.P),null===this.o&&(e.H=n),this.ja)t:{for(var r=0,i=0;i<this.l.length;i++){var o=this.l[i];if(void 0===(o="__data__"in o.g&&"string"===typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(r+=o)){r=i;break t}if(4096===r||i===this.l.length-1){r=i+1;break t}}r=1e3}else r=1e3;r=Zn(this,e,r),Ge(i=je(this.F),"RID",t),Ge(i,"CVER",22),this.D&&Ge(i,"X-HTTP-Session-Id",this.D),Wn(this,i),this.o&&n&&jn(i,this.o,n),fn(this.i,e),this.Ra&&Ge(i,"TYPE","init"),this.ja?(Ge(i,"$req",r),Ge(i,"SID","null"),e.$=!0,_e(e,i,null)):_e(e,i,r),this.G=2}}else 3==this.G&&(t?zn(this,t):0==this.l.length||cn(this.i)||zn(this))},c.Ga=function(){if(this.u=null,$n(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=oe(w(this.bb,this),t)}},c.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,re(10),qn(this),$n(this))},c.ab=function(){null!=this.v&&(this.v=null,qn(this),Xn(this),re(19))},c.jb=function(t){t?(this.h.info("Successfully pinged google.com"),re(2)):(this.h.info("Failed to ping google.com"),re(1))},(c=ar.prototype).xa=function(){},c.wa=function(){},c.va=function(){},c.ua=function(){},c.Oa=function(){},sr.prototype.g=function(t,e){return new ur(t,e)},E(ur,kt),ur.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),Ft(w(t.hb,t,e))),re(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=ir(t,null,t.W),Kn(t)},ur.prototype.close=function(){Vn(this.g)},ur.prototype.u=function(t){if("string"===typeof t){var e={};e.__data__=t,Hn(this.g,e)}else this.v?((e={}).__data__=xt(t),Hn(this.g,e)):Hn(this.g,t)},ur.prototype.M=function(){this.g.j=null,delete this.j,Vn(this.g),delete this.g,ur.Z.M.call(this)},E(cr,de),E(lr,pe),E(hr,ar),hr.prototype.xa=function(){Ct(this.g,"a")},hr.prototype.wa=function(t){Ct(this.g,new cr(t))},hr.prototype.va=function(t){Ct(this.g,new lr(t))},hr.prototype.ua=function(){Ct(this.g,"b")},sr.prototype.createWebChannel=sr.prototype.g,ur.prototype.send=ur.prototype.u,ur.prototype.open=ur.prototype.m,ur.prototype.close=ur.prototype.close,ae.NO_ERROR=0,ae.TIMEOUT=8,ae.HTTP_ERROR=6,se.COMPLETE="complete",le.EventType=fe,fe.OPEN="a",fe.CLOSE="b",fe.ERROR="c",fe.MESSAGE="d",kt.prototype.listen=kt.prototype.N,kn.prototype.listenOnce=kn.prototype.O,kn.prototype.getLastError=kn.prototype.La,kn.prototype.getLastErrorCode=kn.prototype.Da,kn.prototype.getStatus=kn.prototype.ba,kn.prototype.getResponseJson=kn.prototype.Qa,kn.prototype.getResponseText=kn.prototype.ga,kn.prototype.send=kn.prototype.ea;var fr=function(){return new sr},dr=function(){return Qt()},pr=ae,mr=se,vr=Yt,gr={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},yr=bn,br=le,wr=kn,_r=n(3542),Er=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.t(t)},this.i=function(t){return e.writeSequenceNumber(t)})}return t.prototype.t=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.i&&this.i(t),t},t}();Er.o=-1;var Tr={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Ir=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return(0,i.ZT)(e,t),e}(Error),Sr=new a.Yd("@firebase/firestore");function kr(){return Sr.logLevel}function Cr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Sr.logLevel<=a.in.DEBUG){var r=e.map(Or);Sr.debug.apply(Sr,(0,i.ev)(["Firestore (8.10.1): "+t],r))}}function Ar(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Sr.logLevel<=a.in.ERROR){var r=e.map(Or);Sr.error.apply(Sr,(0,i.ev)(["Firestore (8.10.1): "+t],r))}}function xr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Sr.logLevel<=a.in.WARN){var r=e.map(Or);Sr.warn.apply(Sr,(0,i.ev)(["Firestore (8.10.1): "+t],r))}}function Or(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function Nr(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.10.1) INTERNAL ASSERTION FAILED: "+t;throw Ar(e),new Error(e)}function Dr(t,e){t||Nr()}function Rr(t,e){return t}function Pr(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Lr=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Pr(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function Fr(t,e){return t<e?-1:t>e?1:0}function Mr(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function jr(t){return t+"\0"}var Ur=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Ir(Tr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Ir(Tr.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Ir(Tr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ir(Tr.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,Math.floor(1e6*(e-1e3*n)))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?Fr(this.nanoseconds,t.nanoseconds):Fr(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Br=function(){function t(t){this.timestamp=t}return t.fromTimestamp=function(e){return new t(e)},t.min=function(){return new t(new Ur(0,0))},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t}();function Vr(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qr(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Gr(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Hr=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Nr(),void 0===n?n=t.length-e:n>t.length-e&&Nr(),this.segments=t,this.offset=e,this.len=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return this.segments[this.offset]},t.prototype.lastSegment=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Kr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,o=t;i<o.length;i++){var a=o[i];if(a.indexOf("//")>=0)throw new Ir(Tr.INVALID_ARGUMENT,"Invalid segment ("+a+"). Paths must not contain // in them.");r.push.apply(r,a.split("/").filter((function(t){return t.length>0})))}return new e(r)},e.emptyPath=function(){return new e([])},e}(Hr),zr=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Wr=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.construct=function(t,n,r){return new e(t,n,r)},e.isValidIdentifier=function(t){return zr.test(t)},e.prototype.canonicalString=function(){return this.toArray().map((function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Ir(Tr.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new Ir(Tr.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Ir(Tr.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Ir(Tr.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.emptyPath=function(){return new e([])},e}(Hr),Zr=function(){function t(t){this.fields=t,t.sort(Wr.comparator)}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].isPrefixOf(t))return!0;return!1},t.prototype.isEqual=function(t){return Mr(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),Jr=function(){function t(t){this.binaryString=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.binaryString,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)},t.prototype.approximateByteSize=function(){return 2*this.binaryString.length},t.prototype.compareTo=function(t){return Fr(this.binaryString,t.binaryString)},t.prototype.isEqual=function(t){return this.binaryString===t.binaryString},t}();Jr.EMPTY_BYTE_STRING=new Jr("");var Xr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(t){if(Dr(!!t),"string"==typeof t){var e=0,n=Xr.exec(t);if(Dr(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:$r(t.seconds),nanos:$r(t.nanos)}}function $r(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Qr(t){return"string"==typeof t?Jr.fromBase64String(t):Jr.fromUint8Array(t)}function ti(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ei(t){var e=t.mapValue.fields.__previous_value__;return ti(e)?ei(e):e}function ni(t){var e=Yr(t.mapValue.fields.__local_write_time__.timestampValue);return new Ur(e.seconds,e.nanos)}function ri(t){return null==t}function ii(t){return 0===t&&1/t==-1/0}function oi(t){return"number"==typeof t&&Number.isInteger(t)&&!ii(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var ai=function(){function t(t){this.path=t}return t.fromPath=function(e){return new t(Kr.fromString(e))},t.fromName=function(e){return new t(Kr.fromString(e).popFirst(5))},t.prototype.hasCollectionId=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Kr.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Kr.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2==0},t.fromSegments=function(e){return new t(new Kr(e.slice()))},t}();function si(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ti(t)?4:10:Nr()}function ui(t,e){var n=si(t);if(n!==si(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ni(t).isEqual(ni(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Yr(t.timestampValue),r=Yr(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Qr(t.bytesValue).isEqual(Qr(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return $r(t.geoPointValue.latitude)===$r(e.geoPointValue.latitude)&&$r(t.geoPointValue.longitude)===$r(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return $r(t.integerValue)===$r(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=$r(t.doubleValue),r=$r(e.doubleValue);return n===r?ii(n)===ii(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Mr(t.arrayValue.values||[],e.arrayValue.values||[],ui);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Vr(n)!==Vr(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ui(n[i],r[i])))return!1;return!0}(t,e);default:return Nr()}}function ci(t,e){return void 0!==(t.values||[]).find((function(t){return ui(t,e)}))}function li(t,e){var n=si(t),r=si(e);if(n!==r)return Fr(n,r);switch(n){case 0:return 0;case 1:return Fr(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=$r(t.integerValue||t.doubleValue),r=$r(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return hi(t.timestampValue,e.timestampValue);case 4:return hi(ni(t),ni(e));case 5:return Fr(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Qr(t),r=Qr(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=Fr(n[i],r[i]);if(0!==o)return o}return Fr(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=Fr($r(t.latitude),$r(e.latitude));return 0!==n?n:Fr($r(t.longitude),$r(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=li(n[i],r[i]);if(o)return o}return Fr(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var a=0;a<r.length&&a<o.length;++a){var s=Fr(r[a],o[a]);if(0!==s)return s;var u=li(n[r[a]],i[o[a]]);if(0!==u)return u}return Fr(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Nr()}}function hi(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return Fr(t,e);var n=Yr(t),r=Yr(e),i=Fr(n.seconds,r.seconds);return 0!==i?i:Fr(n.nanos,r.nanos)}function fi(t){return di(t)}function di(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Yr(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Qr(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ai.fromName(n).toString()):"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=di(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var o=i[r];n?n=!1:e+=",",e+=o+":"+di(t.fields[o])}return e+"}"}(t.mapValue):Nr();var e,n}function pi(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.canonicalString()}}function mi(t){return!!t&&"integerValue"in t}function vi(t){return!!t&&"arrayValue"in t}function gi(t){return!!t&&"nullValue"in t}function yi(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function bi(t){return!!t&&"mapValue"in t}function wi(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){var e={mapValue:{fields:{}}};return qr(t.mapValue.fields,(function(t,n){return e.mapValue.fields[t]=wi(n)})),e}if(t.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(t.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=wi(t.arrayValue.values[r]);return n}return Object.assign({},t)}var _i=function(){function t(t){this.value=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.isEmpty())return this.value;for(var e=this.value,n=0;n<t.length-1;++n)if(!bi(e=(e.mapValue.fields||{})[t.get(n)]))return null;return(e=(e.mapValue.fields||{})[t.lastSegment()])||null},t.prototype.set=function(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=wi(e)},t.prototype.setAll=function(t){var e=this,n=Wr.emptyPath(),r={},i=[];t.forEach((function(t,o){if(!n.isImmediateParentOf(o)){var a=e.getFieldsMap(n);e.applyChanges(a,r,i),r={},i=[],n=o.popLast()}t?r[o.lastSegment()]=wi(t):i.push(o.lastSegment())}));var o=this.getFieldsMap(n);this.applyChanges(o,r,i)},t.prototype.delete=function(t){var e=this.field(t.popLast());bi(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]},t.prototype.isEqual=function(t){return ui(this.value,t.value)},t.prototype.getFieldsMap=function(t){var e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(var n=0;n<t.length;++n){var r=e.mapValue.fields[t.get(n)];bi(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields},t.prototype.applyChanges=function(t,e,n){qr(e,(function(e,n){return t[e]=n}));for(var r=0,i=n;r<i.length;r++){var o=i[r];delete t[o]}},t.prototype.clone=function(){return new t(wi(this.value))},t}();function Ei(t){var e=[];return qr(t.fields,(function(t,n){var r=new Wr([t]);if(bi(n)){var i=Ei(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,a=i;o<a.length;o++){var s=a[o];e.push(r.child(s))}}else e.push(r)})),new Zr(e)}var Ti=function(){function t(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}return t.newInvalidDocument=function(e){return new t(e,0,Br.min(),_i.empty(),0)},t.newFoundDocument=function(e,n,r){return new t(e,1,n,r,0)},t.newNoDocument=function(e,n){return new t(e,2,n,_i.empty(),0)},t.newUnknownDocument=function(e,n){return new t(e,3,n,_i.empty(),2)},t.prototype.convertToFoundDocument=function(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this},t.prototype.convertToNoDocument=function(t){return this.version=t,this.documentType=2,this.data=_i.empty(),this.documentState=0,this},t.prototype.convertToUnknownDocument=function(t){return this.version=t,this.documentType=3,this.data=_i.empty(),this.documentState=2,this},t.prototype.setHasCommittedMutations=function(){return this.documentState=2,this},t.prototype.setHasLocalMutations=function(){return this.documentState=1,this},Object.defineProperty(t.prototype,"hasLocalMutations",{get:function(){return 1===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCommittedMutations",{get:function(){return 2===this.documentState},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!1,configurable:!0}),t.prototype.isValidDocument=function(){return 0!==this.documentType},t.prototype.isFoundDocument=function(){return 1===this.documentType},t.prototype.isNoDocument=function(){return 2===this.documentType},t.prototype.isUnknownDocument=function(){return 3===this.documentType},t.prototype.isEqual=function(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)},t.prototype.clone=function(){return new t(this.key,this.documentType,this.version,this.data.clone(),this.documentState)},t.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+JSON.stringify(this.data.value)+", {documentType: "+this.documentType+"}), {documentState: "+this.documentState+"})"},t}(),Ii=function(t,e,n,r,i,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.h=null};function Si(t,e,n,r,i,o,a){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===a&&(a=null),new Ii(t,e,n,r,i,o,a)}function ki(t){var e=Rr(t);if(null===e.h){var n=e.path.canonicalString();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.canonicalString()+t.op.toString()+fi(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return function(t){return t.field.canonicalString()+t.dir}(t)})).join(","),ri(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Ui(e.startAt)),e.endAt&&(n+="|ub:",n+=Ui(e.endAt)),e.h=n}return e.h}function Ci(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Vi(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!ui(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Gi(t.startAt,e.startAt)&&Gi(t.endAt,e.endAt)}function Ai(t){return ai.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}var xi=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return(0,i.ZT)(e,t),e.create=function(t,n,r){return t.isKeyField()?"in"===n||"not-in"===n?this.l(t,n,r):new Oi(t,n,r):"array-contains"===n?new Pi(t,r):"in"===n?new Li(t,r):"not-in"===n?new Fi(t,r):"array-contains-any"===n?new Mi(t,r):new e(t,n,r)},e.l=function(t,e,n){return"in"===e?new Ni(t,n):new Di(t,n)},e.prototype.matches=function(t){var e=t.data.field(this.field);return"!="===this.op?null!==e&&this.m(li(e,this.value)):null!==e&&si(this.value)===si(e)&&this.m(li(e,this.value))},e.prototype.m=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Nr()}},e.prototype.g=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}((function(){})),Oi=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=ai.fromName(r.referenceValue),i}return(0,i.ZT)(e,t),e.prototype.matches=function(t){var e=ai.comparator(t.key,this.key);return this.m(e)},e}(xi),Ni=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ri("in",n),r}return(0,i.ZT)(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(xi),Di=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ri("not-in",n),r}return(0,i.ZT)(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(xi);function Ri(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return ai.fromName(t.referenceValue)}))}var Pi=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return(0,i.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return vi(e)&&ci(e.arrayValue,this.value)},e}(xi),Li=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return(0,i.ZT)(e,t),e.prototype.matches=function(t){var e=t.data.field(this.field);return null!==e&&ci(this.value.arrayValue,e)},e}(xi),Fi=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return(0,i.ZT)(e,t),e.prototype.matches=function(t){if(ci(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.data.field(this.field);return null!==e&&!ci(this.value.arrayValue,e)},e}(xi),Mi=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return(0,i.ZT)(e,t),e.prototype.matches=function(t){var e=this,n=t.data.field(this.field);return!(!vi(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return ci(e.value.arrayValue,t)}))},e}(xi),ji=function(t,e){this.position=t,this.before=e};function Ui(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return fi(t)})).join(",")}var Bi=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Vi(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function qi(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],a=t.position[i];if(r=o.field.isKeyField()?ai.comparator(ai.fromName(a.referenceValue),n.key):li(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Gi(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!ui(t.position[n],e.position[n]))return!1;return!0}var Hi=function(t,e,n,r,i,o,a,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===a&&(a=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this.p=null,this.T=null,this.startAt,this.endAt};function Ki(t,e,n,r,i,o,a,s){return new Hi(t,e,n,r,i,o,a,s)}function zi(t){return new Hi(t)}function Wi(t){return!ri(t.limit)&&"F"===t.limitType}function Zi(t){return!ri(t.limit)&&"L"===t.limitType}function Ji(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Xi(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.g())return r.field}return null}function Yi(t){return null!==t.collectionGroup}function $i(t){var e=Rr(t);if(null===e.p){e.p=[];var n=Xi(e),r=Ji(e);if(null!==n&&null===r)n.isKeyField()||e.p.push(new Bi(n)),e.p.push(new Bi(Wr.keyField(),"asc"));else{for(var i=!1,o=0,a=e.explicitOrderBy;o<a.length;o++){var s=a[o];e.p.push(s),s.field.isKeyField()&&(i=!0)}if(!i){var u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.p.push(new Bi(Wr.keyField(),u))}}}return e.p}function Qi(t){var e=Rr(t);if(!e.T)if("F"===e.limitType)e.T=Si(e.path,e.collectionGroup,$i(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=$i(e);r<i.length;r++){var o=i[r],a="desc"===o.dir?"asc":"desc";n.push(new Bi(o.field,a))}var s=e.endAt?new ji(e.endAt.position,!e.endAt.before):null,u=e.startAt?new ji(e.startAt.position,!e.startAt.before):null;e.T=Si(e.path,e.collectionGroup,n,e.filters,e.limit,s,u)}return e.T}function to(t,e,n){return new Hi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function eo(t,e){return Ci(Qi(t),Qi(e))&&t.limitType===e.limitType}function no(t){return ki(Qi(t))+"|lt:"+t.limitType}function ro(t){return"Query(target="+function(t){var e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.canonicalString()+" "+e.op+" "+fi(e.value);var e})).join(", ")+"]"),ri(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return function(t){return t.field.canonicalString()+" ("+t.dir+")"}(t)})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Ui(t.startAt)),t.endAt&&(e+=", endAt: "+Ui(t.endAt)),"Target("+e+")"}(Qi(t))+"; limitType="+t.limitType+")"}function io(t,e){return e.isFoundDocument()&&function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):ai.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(var n=0,r=t.explicitOrderBy;n<r.length;n++){var i=r[n];if(!i.field.isKeyField()&&null===e.data.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!qi(t.startAt,$i(t),e))&&(!t.endAt||!qi(t.endAt,$i(t),e))}(t,e)}function oo(t){return function(e,n){for(var r=!1,i=0,o=$i(t);i<o.length;i++){var a=o[i],s=ao(a,e,n);if(0!==s)return s;r=r||a.field.isKeyField()}return 0}}function ao(t,e,n){var r=t.field.isKeyField()?ai.comparator(e.key,n.key):function(t,e,n){var r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?li(r,i):Nr()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Nr()}}function so(t,e){if(t.I){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ii(e)?"-0":e}}function uo(t){return{integerValue:""+t}}function co(t,e){return oi(e)?uo(e):so(t,e)}var lo=function(){this._=void 0};function ho(t,e,n){return t instanceof mo?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof vo?go(t,e):t instanceof yo?bo(t,e):function(t,e){var n=po(t,e),r=_o(n)+_o(t.A);return mi(n)&&mi(t.A)?uo(r):so(t.R,r)}(t,e)}function fo(t,e,n){return t instanceof vo?go(t,e):t instanceof yo?bo(t,e):n}function po(t,e){return t instanceof wo?mi(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var mo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e}(lo),vo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,i.ZT)(e,t),e}(lo);function go(t,e){for(var n=Eo(e),r=function(t){n.some((function(e){return ui(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var yo=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return(0,i.ZT)(e,t),e}(lo);function bo(t,e){for(var n=Eo(e),r=function(t){n=n.filter((function(e){return!ui(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var wo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).R=e,r.A=n,r}return(0,i.ZT)(e,t),e}(lo);function _o(t){return $r(t.integerValue||t.doubleValue)}function Eo(t){return vi(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var To=function(t,e){this.field=t,this.transform=e},Io=function(t,e){this.version=t,this.transformResults=e},So=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.none=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function ko(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}var Co=function(){};function Ao(t,e,n){t instanceof Ro?function(t,e,n){var r=t.value.clone(),i=Fo(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof Po?function(t,e,n){if(ko(t.precondition,e)){var r=Fo(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(Lo(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else e.convertToUnknownDocument(n.version)}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function xo(t,e,n){t instanceof Ro?function(t,e,n){if(ko(t.precondition,e)){var r=t.value.clone(),i=Mo(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(Do(e),r).setHasLocalMutations()}}(t,e,n):t instanceof Po?function(t,e,n){if(ko(t.precondition,e)){var r=Mo(t.fieldTransforms,n,e),i=e.data;i.setAll(Lo(t)),i.setAll(r),e.convertToFoundDocument(Do(e),i).setHasLocalMutations()}}(t,e,n):function(t,e){ko(t.precondition,e)&&e.convertToNoDocument(Br.min())}(t,e)}function Oo(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],a=e.data.field(o.field),s=po(o.transform,a||null);null!=s&&(null==n&&(n=_i.empty()),n.set(o.field,s))}return n||null}function No(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&Mr(t,e,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof vo&&e instanceof vo||t instanceof yo&&e instanceof yo?Mr(t.elements,e.elements,ui):t instanceof wo&&e instanceof wo?ui(t.A,e.A):t instanceof mo&&e instanceof mo}(t.transform,e.transform)}(t,e)}))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}function Do(t){return t.isFoundDocument()?t.version:Br.min()}var Ro=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var o=this;return(o=t.call(this)||this).key=e,o.value=n,o.precondition=r,o.fieldTransforms=i,o.type=0,o}return(0,i.ZT)(e,t),e}(Co),Po=function(t){function e(e,n,r,i,o){void 0===o&&(o=[]);var a=this;return(a=t.call(this)||this).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return(0,i.ZT)(e,t),e}(Co);function Lo(t){var e=new Map;return t.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=t.data.field(n);e.set(n,r)}})),e}function Fo(t,e,n){var r=new Map;Dr(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,fo(a,s,n[i]))}return r}function Mo(t,e,n){for(var r=new Map,i=0,o=t;i<o.length;i++){var a=o[i],s=a.transform,u=n.data.field(a.field);r.set(a.field,ho(s,u,e))}return r}var jo,Uo,Bo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return(0,i.ZT)(e,t),e}(Co),Vo=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return(0,i.ZT)(e,t),e}(Co),qo=function(t){this.count=t};function Go(t){switch(t){case Tr.OK:return Nr();case Tr.CANCELLED:case Tr.UNKNOWN:case Tr.DEADLINE_EXCEEDED:case Tr.RESOURCE_EXHAUSTED:case Tr.INTERNAL:case Tr.UNAVAILABLE:case Tr.UNAUTHENTICATED:return!1;case Tr.INVALID_ARGUMENT:case Tr.NOT_FOUND:case Tr.ALREADY_EXISTS:case Tr.PERMISSION_DENIED:case Tr.FAILED_PRECONDITION:case Tr.ABORTED:case Tr.OUT_OF_RANGE:case Tr.UNIMPLEMENTED:case Tr.DATA_LOSS:return!0;default:return Nr()}}function Ho(t){if(void 0===t)return Ar("GRPC error has no .code"),Tr.UNKNOWN;switch(t){case jo.OK:return Tr.OK;case jo.CANCELLED:return Tr.CANCELLED;case jo.UNKNOWN:return Tr.UNKNOWN;case jo.DEADLINE_EXCEEDED:return Tr.DEADLINE_EXCEEDED;case jo.RESOURCE_EXHAUSTED:return Tr.RESOURCE_EXHAUSTED;case jo.INTERNAL:return Tr.INTERNAL;case jo.UNAVAILABLE:return Tr.UNAVAILABLE;case jo.UNAUTHENTICATED:return Tr.UNAUTHENTICATED;case jo.INVALID_ARGUMENT:return Tr.INVALID_ARGUMENT;case jo.NOT_FOUND:return Tr.NOT_FOUND;case jo.ALREADY_EXISTS:return Tr.ALREADY_EXISTS;case jo.PERMISSION_DENIED:return Tr.PERMISSION_DENIED;case jo.FAILED_PRECONDITION:return Tr.FAILED_PRECONDITION;case jo.ABORTED:return Tr.ABORTED;case jo.OUT_OF_RANGE:return Tr.OUT_OF_RANGE;case jo.UNIMPLEMENTED:return Tr.UNIMPLEMENTED;case jo.DATA_LOSS:return Tr.DATA_LOSS;default:return Nr()}}(Uo=jo||(jo={}))[Uo.OK=0]="OK",Uo[Uo.CANCELLED=1]="CANCELLED",Uo[Uo.UNKNOWN=2]="UNKNOWN",Uo[Uo.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Uo[Uo.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Uo[Uo.NOT_FOUND=5]="NOT_FOUND",Uo[Uo.ALREADY_EXISTS=6]="ALREADY_EXISTS",Uo[Uo.PERMISSION_DENIED=7]="PERMISSION_DENIED",Uo[Uo.UNAUTHENTICATED=16]="UNAUTHENTICATED",Uo[Uo.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Uo[Uo.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Uo[Uo.ABORTED=10]="ABORTED",Uo[Uo.OUT_OF_RANGE=11]="OUT_OF_RANGE",Uo[Uo.UNIMPLEMENTED=12]="UNIMPLEMENTED",Uo[Uo.INTERNAL=13]="INTERNAL",Uo[Uo.UNAVAILABLE=14]="UNAVAILABLE",Uo[Uo.DATA_LOSS=15]="DATA_LOSS";var Ko=function(){function t(t,e){this.comparator=t,this.root=e||Wo.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Wo.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wo.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.inorderTraversal((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new zo(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new zo(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new zo(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new zo(this.root,t,this.comparator,!0)},t}(),zo=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Wo=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),(e=e.copy(null,null,null,e.left.removeMin(),null)).fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight())).rotateLeft()).colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=(t=t.rotateRight()).colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw Nr();if(this.right.isRed())throw Nr();var t=this.left.check();if(t!==this.right.check())throw Nr();return t+(this.isRed()?0:1)},t}();Wo.EMPTY=null,Wo.RED=!0,Wo.BLACK=!1,Wo.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Nr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Nr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Nr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Nr()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Nr()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Wo(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}());var Zo=function(){function t(t){this.comparator=t,this.data=new Ko(this.comparator)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.getIterator=function(){return new Jo(this.data.getIterator())},t.prototype.getIteratorFrom=function(t){return new Jo(this.data.getIteratorFrom(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),Jo=function(){function t(t){this.iter=t}return t.prototype.getNext=function(){return this.iter.getNext().key},t.prototype.hasNext=function(){return this.iter.hasNext()},t}(),Xo=new Ko(ai.comparator);function Yo(){return Xo}var $o=new Ko(ai.comparator);function Qo(){return $o}var ta=new Ko(ai.comparator);function ea(){return ta}var na=new Zo(ai.comparator);function ra(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=na,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var ia=new Zo(Fr);function oa(){return ia}var aa=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=new Map;return r.set(e,sa.createSynthesizedTargetChangeForCurrentChange(e,n)),new t(Br.min(),r,oa(),Yo(),ra())},t}(),sa=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(Jr.EMPTY_BYTE_STRING,n,ra(),ra(),ra())},t}(),ua=function(t,e,n,r){this.v=t,this.removedTargetIds=e,this.key=n,this.P=r},ca=function(t,e){this.targetId=t,this.V=e},la=function(t,e,n,r){void 0===n&&(n=Jr.EMPTY_BYTE_STRING),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},ha=function(){function t(){this.S=0,this.D=pa(),this.C=Jr.EMPTY_BYTE_STRING,this.N=!1,this.k=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this.N},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.C},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"F",{get:function(){return 0!==this.S},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"$",{get:function(){return this.k},enumerable:!1,configurable:!0}),t.prototype.O=function(t){t.approximateByteSize()>0&&(this.k=!0,this.C=t)},t.prototype.M=function(){var t=ra(),e=ra(),n=ra();return this.D.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Nr()}})),new sa(this.C,this.N,t,e,n)},t.prototype.L=function(){this.k=!1,this.D=pa()},t.prototype.B=function(t,e){this.k=!0,this.D=this.D.insert(t,e)},t.prototype.q=function(t){this.k=!0,this.D=this.D.remove(t)},t.prototype.U=function(){this.S+=1},t.prototype.K=function(){this.S-=1},t.prototype.j=function(){this.k=!0,this.N=!0},t}(),fa=function(){function t(t){this.W=t,this.G=new Map,this.H=Yo(),this.J=da(),this.Y=new Zo(Fr)}return t.prototype.X=function(t){for(var e=0,n=t.v;e<n.length;e++){var r=n[e];t.P&&t.P.isFoundDocument()?this.Z(r,t.P):this.tt(r,t.key,t.P)}for(var i=0,o=t.removedTargetIds;i<o.length;i++)r=o[i],this.tt(r,t.key,t.P)},t.prototype.et=function(t){var e=this;this.forEachTarget(t,(function(n){var r=e.nt(n);switch(t.state){case 0:e.st(n)&&r.O(t.resumeToken);break;case 1:r.K(),r.F||r.L(),r.O(t.resumeToken);break;case 2:r.K(),r.F||e.removeTarget(n);break;case 3:e.st(n)&&(r.j(),r.O(t.resumeToken));break;case 4:e.st(n)&&(e.it(n),r.O(t.resumeToken));break;default:Nr()}}))},t.prototype.forEachTarget=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.G.forEach((function(t,r){n.st(r)&&e(r)}))},t.prototype.rt=function(t){var e=t.targetId,n=t.V.count,r=this.ot(e);if(r){var i=r.target;if(Ai(i))if(0===n){var o=new ai(i.path);this.tt(e,o,Ti.newNoDocument(o,Br.min()))}else Dr(1===n);else this.ct(e)!==n&&(this.it(e),this.Y=this.Y.add(e))}},t.prototype.ut=function(t){var e=this,n=new Map;this.G.forEach((function(r,i){var o=e.ot(i);if(o){if(r.current&&Ai(o.target)){var a=new ai(o.target.path);null!==e.H.get(a)||e.at(i,a)||e.tt(i,a,Ti.newNoDocument(a,t))}r.$&&(n.set(i,r.M()),r.L())}}));var r=ra();this.J.forEach((function(t,n){var i=!0;n.forEachWhile((function(t){var n=e.ot(t);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new aa(t,n,this.Y,this.H,r);return this.H=Yo(),this.J=da(),this.Y=new Zo(Fr),i},t.prototype.Z=function(t,e){if(this.st(t)){var n=this.at(t,e.key)?2:0;this.nt(t).B(e.key,n),this.H=this.H.insert(e.key,e),this.J=this.J.insert(e.key,this.ht(e.key).add(t))}},t.prototype.tt=function(t,e,n){if(this.st(t)){var r=this.nt(t);this.at(t,e)?r.B(e,1):r.q(e),this.J=this.J.insert(e,this.ht(e).delete(t)),n&&(this.H=this.H.insert(e,n))}},t.prototype.removeTarget=function(t){this.G.delete(t)},t.prototype.ct=function(t){var e=this.nt(t).M();return this.W.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size},t.prototype.U=function(t){this.nt(t).U()},t.prototype.nt=function(t){var e=this.G.get(t);return e||(e=new ha,this.G.set(t,e)),e},t.prototype.ht=function(t){var e=this.J.get(t);return e||(e=new Zo(Fr),this.J=this.J.insert(t,e)),e},t.prototype.st=function(t){var e=null!==this.ot(t);return e||Cr("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.ot=function(t){var e=this.G.get(t);return e&&e.F?null:this.W.lt(t)},t.prototype.it=function(t){var e=this;this.G.set(t,new ha),this.W.getRemoteKeysForTarget(t).forEach((function(n){e.tt(t,n,null)}))},t.prototype.at=function(t,e){return this.W.getRemoteKeysForTarget(t).has(e)},t}();function da(){return new Ko(ai.comparator)}function pa(){return new Ko(ai.comparator)}var ma={asc:"ASCENDING",desc:"DESCENDING"},va={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ga=function(t,e){this.databaseId=t,this.I=e};function ya(t,e){return t.I?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function ba(t,e){return t.I?e.toBase64():e.toUint8Array()}function wa(t,e){return ya(t,e.toTimestamp())}function _a(t){return Dr(!!t),Br.fromTimestamp(function(t){var e=Yr(t);return new Ur(e.seconds,e.nanos)}(t))}function Ea(t,e){return function(t){return new Kr(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Ta(t){var e=Kr.fromString(t);return Dr(Wa(e)),e}function Ia(t,e){return Ea(t.databaseId,e.path)}function Sa(t,e){var n=Ta(e);if(n.get(1)!==t.databaseId.projectId)throw new Ir(Tr.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Ir(Tr.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ai(xa(n))}function ka(t,e){return Ea(t.databaseId,e)}function Ca(t){var e=Ta(t);return 4===e.length?Kr.emptyPath():xa(e)}function Aa(t){return new Kr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function xa(t){return Dr(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function Oa(t,e,n){return{name:Ia(t,e),fields:n.value.mapValue.fields}}function Na(t,e,n){var r=Sa(t,e.name),i=_a(e.updateTime),o=new _i({mapValue:{fields:e.fields}}),a=Ti.newFoundDocument(r,i,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function Da(t,e){var n;if(e instanceof Ro)n={update:Oa(t,e.key,e.value)};else if(e instanceof Bo)n={delete:Ia(t,e.key)};else if(e instanceof Po)n={update:Oa(t,e.key,e.data),updateMask:za(e.fieldMask)};else{if(!(e instanceof Vo))return Nr();n={verify:Ia(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof mo)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof vo)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof yo)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof wo)return{fieldPath:e.field.canonicalString(),increment:n.A};throw Nr()}(0,t)}))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:wa(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Nr()}(t,e.precondition)),n}function Ra(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?So.updateTime(_a(t.updateTime)):void 0!==t.exists?So.exists(t.exists):So.none()}(e.currentDocument):So.none(),r=e.updateTransforms?e.updateTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Dr("REQUEST_TIME"===e.setToServerValue),n=new mo;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new vo(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new yo(i)}else"increment"in e?n=new wo(t,e.increment):Nr();var o=Wr.fromServerFormat(e.fieldPath);return new To(o,n)}(t,e)})):[];if(e.update){e.update.name;var i=Sa(t,e.update.name),o=new _i({mapValue:{fields:e.update.fields}});if(e.updateMask){var a=function(t){var e=t.fieldPaths||[];return new Zr(e.map((function(t){return Wr.fromServerFormat(t)})))}(e.updateMask);return new Po(i,o,a,n,r)}return new Ro(i,o,n,r)}if(e.delete){var s=Sa(t,e.delete);return new Bo(s,n)}if(e.verify){var u=Sa(t,e.verify);return new Vo(u,n)}return Nr()}function Pa(t,e){return{documents:[ka(t,e.path)]}}function La(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=ka(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=ka(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(yi(t.value))return{unaryFilter:{field:qa(t.field),op:"IS_NAN"}};if(gi(t.value))return{unaryFilter:{field:qa(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(yi(t.value))return{unaryFilter:{field:qa(t.field),op:"IS_NOT_NAN"}};if(gi(t.value))return{unaryFilter:{field:qa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(t.field),op:Va(t.op),value:t.value}}}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return function(t){return{field:qa(t.field),direction:Ba(t.dir)}}(t)}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var a=function(t,e){return t.I||ri(e)?e:{value:e}}(t,e.limit);return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=ja(e.startAt)),e.endAt&&(n.structuredQuery.endAt=ja(e.endAt)),n}function Fa(t){var e=Ca(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Dr(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var a=[];n.where&&(a=Ma(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(t){return function(t){return new Bi(Ga(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)})));var u=null;n.limit&&(u=function(t){var e;return ri(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Ua(n.startAt));var l=null;return n.endAt&&(l=Ua(n.endAt)),Ki(e,i,s,a,u,"F",c,l)}function Ma(t){return t?void 0!==t.unaryFilter?[Ka(t)]:void 0!==t.fieldFilter?[Ha(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((function(t){return Ma(t)})).reduce((function(t,e){return t.concat(e)})):Nr():[]}function ja(t){return{before:t.before,values:t.position}}function Ua(t){var e=!!t.before,n=t.values||[];return new ji(n,e)}function Ba(t){return ma[t]}function Va(t){return va[t]}function qa(t){return{fieldPath:t.canonicalString()}}function Ga(t){return Wr.fromServerFormat(t.fieldPath)}function Ha(t){return xi.create(Ga(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nr()}}(t.fieldFilter.op),t.fieldFilter.value)}function Ka(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Ga(t.unaryFilter.field);return xi.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Ga(t.unaryFilter.field);return xi.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Ga(t.unaryFilter.field);return xi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Ga(t.unaryFilter.field);return xi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Nr()}}function za(t){var e=[];return t.fields.forEach((function(t){return e.push(t.canonicalString())})),{fieldPaths:e}}function Wa(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function Za(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=Xa(e)),e=Ja(t.get(n),e);return Xa(e)}function Ja(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=o}}return n}function Xa(t){return t+"\x01\x01"}function Ya(t){var e=t.length;if(Dr(e>=2),2===e)return Dr("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Kr.emptyPath();for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf("\x01",o);switch((a<0||a>n)&&Nr(),t.charAt(a+1)){case"\x01":var s=t.substring(o,a),u=void 0;0===i.length?u=s:(u=i+=s,i=""),r.push(u);break;case"\x10":i+=t.substring(o,a),i+="\0";break;case"\x11":i+=t.substring(o,a+1);break;default:Nr()}o=a+2}return new Kr(r)}var $a=function(t,e){this.seconds=t,this.nanoseconds=e},Qa=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};Qa.store="owner",Qa.key="owner";var ts=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};ts.store="mutationQueues",ts.keyPath="userId";var es=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};es.store="mutations",es.keyPath="batchId",es.userMutationsIndex="userMutationsIndex",es.userMutationsKeyPath=["userId","batchId"];var ns=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,Za(e)]},t.key=function(t,e,n){return[t,Za(e),n]},t}();ns.store="documentMutations",ns.PLACEHOLDER=new ns;var rs=function(t,e){this.path=t,this.readTime=e},is=function(t,e){this.path=t,this.version=e},os=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};os.store="remoteDocuments",os.readTimeIndex="readTimeIndex",os.readTimeIndexPath="readTime",os.collectionReadTimeIndex="collectionReadTimeIndex",os.collectionReadTimeIndexPath=["parentPath","readTime"];var as=function(t){this.byteSize=t};as.store="remoteDocumentGlobal",as.key="remoteDocumentGlobalKey";var ss=function(t,e,n,r,i,o,a){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=a};ss.store="targets",ss.keyPath="targetId",ss.queryTargetsIndexName="queryTargetsIndex",ss.queryTargetsKeyPath=["canonicalId","targetId"];var us=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};us.store="targetDocuments",us.keyPath=["targetId","path"],us.documentTargetsIndex="documentTargetsIndex",us.documentTargetsKeyPath=["path","targetId"];var cs=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};cs.key="targetGlobalKey",cs.store="targetGlobal";var ls=function(t,e){this.collectionId=t,this.parent=e};ls.store="collectionParents",ls.keyPath=["collectionId","parent"];var hs=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};hs.store="clientMetadata",hs.keyPath="clientId";var fs=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};fs.store="bundles",fs.keyPath="bundleId";var ds=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};ds.store="namedQueries",ds.keyPath="name";var ps=(0,i.ev)((0,i.ev)([],(0,i.ev)((0,i.ev)([],(0,i.ev)((0,i.ev)([],(0,i.ev)((0,i.ev)([],[ts.store,es.store,ns.store,os.store,ss.store,Qa.store,cs.store,us.store]),[hs.store])),[as.store])),[ls.store])),[fs.store,ds.store]),ms="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",vs=function(){function t(){this.onCommittedListeners=[]}return t.prototype.addOnCommittedListener=function(t){this.onCommittedListeners.push(t)},t.prototype.raiseOnCommittedEvent=function(){this.onCommittedListeners.forEach((function(t){return t()}))},t}(),gs=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},ys=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)}),(function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&Nr(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}}))},t.prototype.toPromise=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.waitFor=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.or=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.waitFor(r)},t}(),bs=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.ft=new gs,this.transaction.oncomplete=function(){n.ft.resolve()},this.transaction.onabort=function(){e.error?n.ft.reject(new Es(t,e.error)):n.ft.resolve()},this.transaction.onerror=function(e){var r=Cs(e.target.error);n.ft.reject(new Es(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new Es(n,e)}},Object.defineProperty(t.prototype,"dt",{get:function(){return this.ft.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.ft.reject(t),this.aborted||(Cr("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new Is(e)},t}(),ws=function(){function t(e,n,r){this.name=e,this.version=n,this.wt=r,12.2===t._t((0,o.z$)())&&Ar("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Cr("SimpleDb","Removing database:",t),Ss(window.indexedDB.deleteDatabase(t)).toPromise()},t.yt=function(){if("undefined"==typeof indexedDB)return!1;if(t.gt())return!0;var e=(0,o.z$)(),n=t._t(e),r=0<n&&n<10,i=t.Et(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)},t.gt=function(){var t;return"undefined"!=typeof _r&&"YES"===(null===(t=_r.env)||void 0===t?void 0:t.Tt)},t.It=function(t,e){return t.store(e)},t._t=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.Et=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.At=function(t){return(0,i.mG)(this,void 0,void 0,(function(){var e,n=this;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return this.db?[3,2]:(Cr("SimpleDb","Opening database:",this.name),e=this,[4,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new Es(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Ir(Tr.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):r(new Es(t,n))},i.onupgradeneeded=function(t){Cr("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion);var e=t.target.result;n.wt.Rt(e,i.transaction,t.oldVersion,n.version).next((function(){Cr("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}))]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.bt&&(this.db.onversionchange=function(t){return n.bt(t)}),this.db)]}}))}))},t.prototype.vt=function(t){this.bt=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return(0,i.mG)(this,void 0,void 0,(function(){var o,a,s,u,c;return(0,i.Jh)(this,(function(l){switch(l.label){case 0:o="readonly"===e,a=0,s=function(){var e,s,c,l,h;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:++a,i.label=1;case 1:return i.trys.push([1,4,,5]),[4,u.At(t)];case 2:return u.db=i.sent(),e=bs.open(u.db,t,o?"readonly":"readwrite",n),s=r(e).catch((function(t){return e.abort(t),ys.reject(t)})).toPromise(),c={},s.catch((function(){})),[4,e.dt];case 3:return[2,(c.value=(i.sent(),s),c)];case 4:return l=i.sent(),h="FirebaseError"!==l.name&&a<3,Cr("SimpleDb","Transaction failed with error:",l.message,"Retrying:",h),u.close(),h?[3,5]:[2,{value:Promise.reject(l)}];case 5:return[2]}}))},u=this,l.label=1;case 1:return[5,s()];case 2:if("object"==typeof(c=l.sent()))return[2,c.value];l.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),_s=function(){function t(t){this.Pt=t,this.Vt=!1,this.St=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.Vt},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Dt",{get:function(){return this.St},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Pt=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Vt=!0},t.prototype.Ct=function(t){this.St=t},t.prototype.delete=function(){return Ss(this.Pt.delete())},t}(),Es=function(t){function e(e,n){var r=this;return(r=t.call(this,Tr.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return(0,i.ZT)(e,t),e}(Ir);function Ts(t){return"IndexedDbTransactionError"===t.name}var Is=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Cr("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Cr("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Ss(n)},t.prototype.add=function(t){return Cr("SimpleDb","ADD",this.store.name,t,t),Ss(this.store.add(t))},t.prototype.get=function(t){var e=this;return Ss(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Cr("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Cr("SimpleDb","DELETE",this.store.name,t),Ss(this.store.delete(t))},t.prototype.count=function(){return Cr("SimpleDb","COUNT",this.store.name),Ss(this.store.count())},t.prototype.Nt=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.xt(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.kt=function(t,e){Cr("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Ft=!1;var r=this.cursor(n);return this.xt(r,(function(t,e,n){return n.delete()}))},t.prototype.$t=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.xt(r,e)},t.prototype.Ot=function(t){var e=this.cursor({});return new ys((function(n,r){e.onerror=function(t){var e=Cs(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.xt=function(t,e){var n=[];return new ys((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new _s(i),a=e(i.primaryKey,i.value,o);if(a instanceof ys){var s=a.catch((function(t){return o.done(),ys.reject(t)}));n.push(s)}o.isDone?r():null===o.Dt?i.continue():i.continue(o.Dt)}else r()}})).next((function(){return ys.waitFor(n)}))},t.prototype.options=function(t,e){var n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Ft?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function Ss(t){return new ys((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=Cs(t.target.error);n(e)}}))}var ks=!1;function Cs(t){var e=ws._t((0,o.z$)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Ir("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return ks||(ks=!0,setTimeout((function(){throw r}),0)),r}}return t}var As=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Mt=e,r.currentSequenceNumber=n,r}return(0,i.ZT)(e,t),e}(vs);function xs(t,e){var n=Rr(t);return ws.It(n.Mt,e)}var Os=function(){function t(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}return t.prototype.applyToRemoteDocument=function(t,e){for(var n=e.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t.key)&&Ao(i,t,n[r])}},t.prototype.applyToLocalView=function(t){for(var e=0,n=this.baseMutations;e<n.length;e++)(o=n[e]).key.isEqual(t.key)&&xo(o,t,this.localWriteTime);for(var r=0,i=this.mutations;r<i.length;r++){var o;(o=i[r]).key.isEqual(t.key)&&xo(o,t,this.localWriteTime)}},t.prototype.applyToLocalDocumentSet=function(t){var e=this;this.mutations.forEach((function(n){var r=t.get(n.key),i=r;e.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(Br.min())}))},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),ra())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Mr(this.mutations,t.mutations,(function(t,e){return No(t,e)}))&&Mr(this.baseMutations,t.baseMutations,(function(t,e){return No(t,e)}))},t}(),Ns=function(){function t(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}return t.from=function(e,n,r){Dr(e.mutations.length===r.length);for(var i=ea(),o=e.mutations,a=0;a<o.length;a++)i=i.insert(o[a].key,r[a].version);return new t(e,n,r,i)},t}(),Ds=function(){function t(t,e,n,r,i,o,a){void 0===i&&(i=Br.min()),void 0===o&&(o=Br.min()),void 0===a&&(a=Jr.EMPTY_BYTE_STRING),this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}return t.prototype.withSequenceNumber=function(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.withResumeToken=function(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.withLastLimboFreeSnapshotVersion=function(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)},t}(),Rs=function(t){this.Lt=t};function Ps(t,e){if(e.document)return Na(t.Lt,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=ai.fromSegments(e.noDocument.path),r=Us(e.noDocument.readTime),i=Ti.newNoDocument(n,r);return e.hasCommittedMutations?i.setHasCommittedMutations():i}if(e.unknownDocument){var o=ai.fromSegments(e.unknownDocument.path);return r=Us(e.unknownDocument.version),Ti.newUnknownDocument(o,r)}return Nr()}function Ls(t,e,n){var r=Fs(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){var o=function(t,e){return{name:Ia(t,e.key),fields:e.data.value.mapValue.fields,updateTime:ya(t,e.version.toTimestamp())}}(t.Lt,e),a=e.hasCommittedMutations;return new os(null,null,o,a,r,i)}if(e.isNoDocument()){var s=e.key.path.toArray(),u=js(e.version);return a=e.hasCommittedMutations,new os(null,new rs(s,u),null,a,r,i)}if(e.isUnknownDocument()){var c=e.key.path.toArray(),l=js(e.version);return new os(new is(c,l),null,null,!0,r,i)}return Nr()}function Fs(t){var e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Ms(t){var e=new Ur(t[0],t[1]);return Br.fromTimestamp(e)}function js(t){var e=t.toTimestamp();return new $a(e.seconds,e.nanoseconds)}function Us(t){var e=new Ur(t.seconds,t.nanoseconds);return Br.fromTimestamp(e)}function Bs(t,e){for(var n=(e.baseMutations||[]).map((function(e){return Ra(t.Lt,e)})),r=0;r<e.mutations.length-1;++r){var i=e.mutations[r];if(r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform){var o=e.mutations[r+1];i.updateTransforms=o.transform.fieldTransforms,e.mutations.splice(r+1,1),++r}}var a=e.mutations.map((function(e){return Ra(t.Lt,e)})),s=Ur.fromMillis(e.localWriteTimeMs);return new Os(e.batchId,s,n,a)}function Vs(t){var e,n,r=Us(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?Us(t.lastLimboFreeSnapshotVersion):Br.min();return void 0!==t.query.documents?(Dr(1===(n=t.query).documents.length),e=Qi(zi(Ca(n.documents[0])))):e=function(t){return Qi(Fa(t))}(t.query),new Ds(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Jr.fromBase64String(t.resumeToken))}function qs(t,e){var n,r=js(e.snapshotVersion),i=js(e.lastLimboFreeSnapshotVersion);n=Ai(e.target)?Pa(t.Lt,e.target):La(t.Lt,e.target);var o=e.resumeToken.toBase64();return new ss(e.targetId,ki(e.target),r,o,e.sequenceNumber,i,n)}function Gs(t){var e=Fa({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?to(e,e.limit,"L"):e}var Hs=function(){function t(){}return t.prototype.getBundleMetadata=function(t,e){return Ks(t).get(e).next((function(t){if(t)return{id:(e=t).bundleId,createTime:Us(e.createTime),version:e.version};var e}))},t.prototype.saveBundleMetadata=function(t,e){return Ks(t).put({bundleId:(n=e).id,createTime:js(_a(n.createTime)),version:n.version});var n},t.prototype.getNamedQuery=function(t,e){return zs(t).get(e).next((function(t){if(t)return{name:(e=t).name,query:Gs(e.bundledQuery),readTime:Us(e.readTime)};var e}))},t.prototype.saveNamedQuery=function(t,e){return zs(t).put(function(t){return{name:t.name,readTime:js(_a(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Ks(t){return xs(t,fs.store)}function zs(t){return xs(t,ds.store)}var Ws=function(){function t(){this.Bt=new Zs}return t.prototype.addToCollectionParentIndex=function(t,e){return this.Bt.add(e),ys.resolve()},t.prototype.getCollectionParents=function(t,e){return ys.resolve(this.Bt.getEntries(e))},t}(),Zs=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Zo(Kr.comparator),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Zo(Kr.comparator)).toArray()},t}(),Js=function(){function t(){this.qt=new Zs}return t.prototype.addToCollectionParentIndex=function(t,e){var n=this;if(!this.qt.has(e)){var r=e.lastSegment(),i=e.popLast();t.addOnCommittedListener((function(){n.qt.add(e)}));var o={collectionId:r,parent:Za(i)};return Xs(t).put(o)}return ys.resolve()},t.prototype.getCollectionParents=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[jr(e),""],!1,!0);return Xs(t).Nt(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Ya(o.parent))}return n}))},t}();function Xs(t){return xs(t,ls.store)}var Ys={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},$s=function(){function t(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}return t.withCacheSize=function(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)},t}();function Qs(t,e,n){var r=t.store(es.store),i=t.store(ns.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.$t({range:a},(function(t,e,n){return s++,n.delete()}));o.push(u.next((function(){Dr(1===s)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=ns.key(e,f.key.path,n.batchId);o.push(i.delete(d)),c.push(f.key)}return ys.waitFor(o).next((function(){return c}))}function tu(t){if(!t)return 0;var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Nr();e=t.noDocument}return JSON.stringify(e).length}$s.DEFAULT_COLLECTION_PERCENTILE=10,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$s.DEFAULT=new $s(41943040,$s.DEFAULT_COLLECTION_PERCENTILE,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$s.DISABLED=new $s(-1,0,0);var eu=function(){function t(t,e,n,r){this.userId=t,this.R=e,this.Ut=n,this.referenceDelegate=r,this.Kt={}}return t.Qt=function(e,n,r,i){return Dr(""!==e.uid),new t(e.isAuthenticated()?e.uid:"",n,r,i)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return ru(t).$t({index:es.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.addMutationBatch=function(t,e,n,r){var i=this,o=iu(t),a=ru(t);return a.add({}).next((function(s){Dr("number"==typeof s);for(var u=new Os(s,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Da(t.Lt,e)})),i=n.mutations.map((function(e){return Da(t.Lt,e)}));return new es(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(i.R,i.userId,u),l=[],h=new Zo((function(t,e){return Fr(t.canonicalString(),e.canonicalString())})),f=0,d=r;f<d.length;f++){var p=d[f],m=ns.key(i.userId,p.key.path,s);h=h.add(p.key.path.popLast()),l.push(a.put(c)),l.push(o.put(m,ns.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Ut.addToCollectionParentIndex(t,e))})),t.addOnCommittedListener((function(){i.Kt[s]=u.keys()})),ys.waitFor(l).next((function(){return u}))}))},t.prototype.lookupMutationBatch=function(t,e){var n=this;return ru(t).get(e).next((function(t){return t?(Dr(t.userId===n.userId),Bs(n.R,t)):null}))},t.prototype.jt=function(t,e){var n=this;return this.Kt[e]?ys.resolve(this.Kt[e]):this.lookupMutationBatch(t,e).next((function(t){if(t){var r=t.keys();return n.Kt[e]=r,r}return null}))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return ru(t).$t({index:es.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Dr(e.batchId>=r),o=Bs(n.R,e)),i.done()})).next((function(){return o}))},t.prototype.getHighestUnacknowledgedBatchId=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return ru(t).$t({index:es.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return ru(t).Nt(es.userMutationsIndex,n).next((function(t){return t.map((function(t){return Bs(e.R,t)}))}))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=ns.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return iu(t).$t({range:i},(function(r,i,a){var s=r[0],u=r[1],c=r[2],l=Ya(u);if(s===n.userId&&e.path.isEqual(l))return ru(t).get(c).next((function(t){if(!t)throw Nr();Dr(t.userId===n.userId),o.push(Bs(n.R,t))}));a.done()})).next((function(){return o}))},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Zo(Fr),i=[];return e.forEach((function(e){var o=ns.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=iu(t).$t({range:a},(function(t,i,o){var a=t[0],s=t[1],u=t[2],c=Ya(s);a===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(s)})),ys.waitFor(i).next((function(){return n.Wt(t,r)}))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this,r=e.path,i=r.length+1,o=ns.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Zo(Fr);return iu(t).$t({range:a},(function(t,e,o){var a=t[0],u=t[1],c=t[2],l=Ya(u);a===n.userId&&r.isPrefixOf(l)?l.length===i&&(s=s.add(c)):o.done()})).next((function(){return n.Wt(t,s)}))},t.prototype.Wt=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(ru(t).get(e).next((function(t){if(null===t)throw Nr();Dr(t.userId===n.userId),r.push(Bs(n.R,t))})))})),ys.waitFor(i).next((function(){return r}))},t.prototype.removeMutationBatch=function(t,e){var n=this;return Qs(t.Mt,this.userId,e).next((function(r){return t.addOnCommittedListener((function(){n.Gt(e.batchId)})),ys.forEach(r,(function(e){return n.referenceDelegate.markPotentiallyOrphaned(t,e)}))}))},t.prototype.Gt=function(t){delete this.Kt[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next((function(n){if(!n)return ys.resolve();var r=IDBKeyRange.lowerBound(ns.prefixForUser(e.userId)),i=[];return iu(t).$t({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Ya(t[1]);i.push(o)}else r.done()})).next((function(){Dr(0===i.length)}))}))},t.prototype.containsKey=function(t,e){return nu(t,this.userId,e)},t.prototype.zt=function(t){var e=this;return ou(t).get(this.userId).next((function(t){return t||new ts(e.userId,-1,"")}))},t}();function nu(t,e,n){var r=ns.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return iu(t).$t({range:o,Ft:!0},(function(t,n,r){var o=t[0],s=t[1];t[2],o===e&&s===i&&(a=!0),r.done()})).next((function(){return a}))}function ru(t){return xs(t,es.store)}function iu(t){return xs(t,ns.store)}function ou(t){return xs(t,ts.store)}var au=function(){function t(t){this.Ht=t}return t.prototype.next=function(){return this.Ht+=2,this.Ht},t.Jt=function(){return new t(0)},t.Yt=function(){return new t(-1)},t}(),su=function(){function t(t,e){this.referenceDelegate=t,this.R=e}return t.prototype.allocateTargetId=function(t){var e=this;return this.Xt(t).next((function(n){var r=new au(n.highestTargetId);return n.highestTargetId=r.next(),e.Zt(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.Xt(t).next((function(t){return Br.fromTimestamp(new Ur(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.getHighestSequenceNumber=function(t){return this.Xt(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.Xt(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Zt(t,i)}))},t.prototype.addTargetData=function(t,e){var n=this;return this.te(t,e).next((function(){return n.Xt(t).next((function(r){return r.targetCount+=1,n.ee(e,r),n.Zt(t,r)}))}))},t.prototype.updateTargetData=function(t,e){return this.te(t,e)},t.prototype.removeTargetData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next((function(){return uu(t).delete(e.targetId)})).next((function(){return n.Xt(t)})).next((function(e){return Dr(e.targetCount>0),e.targetCount-=1,n.Zt(t,e)}))},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return uu(t).$t((function(a,s){var u=Vs(s);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r.removeTargetData(t,u)))})).next((function(){return ys.waitFor(o)})).next((function(){return i}))},t.prototype.forEachTarget=function(t,e){return uu(t).$t((function(t,n){var r=Vs(n);e(r)}))},t.prototype.Xt=function(t){return cu(t).get(cs.key).next((function(t){return Dr(null!==t),t}))},t.prototype.Zt=function(t,e){return cu(t).put(cs.key,e)},t.prototype.te=function(t,e){return uu(t).put(qs(this.R,e))},t.prototype.ee=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getTargetCount=function(t){return this.Xt(t).next((function(t){return t.targetCount}))},t.prototype.getTargetData=function(t,e){var n=ki(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return uu(t).$t({range:r,index:ss.queryTargetsIndexName},(function(t,n,r){var o=Vs(n);Ci(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=lu(t);return e.forEach((function(e){var a=Za(e.path);i.push(o.put(new us(n,a))),i.push(r.referenceDelegate.addReference(t,n,e))})),ys.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=lu(t);return ys.forEach(e,(function(e){var o=Za(e.path);return ys.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,n,e)])}))},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=lu(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=lu(t),i=ra();return r.$t({range:n,Ft:!0},(function(t,e,n){var r=Ya(t[1]),o=new ai(r);i=i.add(o)})).next((function(){return i}))},t.prototype.containsKey=function(t,e){var n=Za(e.path),r=IDBKeyRange.bound([n],[jr(n)],!1,!0),i=0;return lu(t).$t({index:us.documentTargetsIndex,Ft:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.lt=function(t,e){return uu(t).get(e).next((function(t){return t?Vs(t):null}))},t}();function uu(t){return xs(t,ss.store)}function cu(t){return xs(t,cs.store)}function lu(t){return xs(t,us.store)}function hu(t){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){if(t.code!==Tr.FAILED_PRECONDITION||t.message!==ms)throw t;return Cr("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}function fu(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=Fr(n,i);return 0===a?Fr(r,o):a}var du=function(){function t(t){this.ne=t,this.buffer=new Zo(fu),this.se=0}return t.prototype.ie=function(){return++this.se},t.prototype.re=function(t){var e=[t,this.ie()];if(this.buffer.size<this.ne)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();fu(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),pu=function(){function t(t,e){this.garbageCollector=t,this.asyncQueue=e,this.oe=!1,this.ce=null}return t.prototype.start=function(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.ue(t)},t.prototype.stop=function(){this.ce&&(this.ce.cancel(),this.ce=null)},Object.defineProperty(t.prototype,"started",{get:function(){return null!==this.ce},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){var e=this,n=this.oe?3e5:6e4;Cr("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.ce=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(function(){return(0,i.mG)(e,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:this.ce=null,this.oe=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.collectGarbage(this.garbageCollector)];case 2:return n.sent(),[3,7];case 3:return Ts(e=n.sent())?(Cr("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,hu(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.ue(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),mu=function(){function t(t,e){this.ae=t,this.params=e}return t.prototype.calculateTargetCount=function(t,e){return this.ae.he(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return ys.resolve(Er.o);var r=new du(e);return this.ae.forEachTarget(t,(function(t){return r.re(t.sequenceNumber)})).next((function(){return n.ae.le(t,(function(t){return r.re(t)}))})).next((function(){return r.maxValue}))},t.prototype.removeTargets=function(t,e,n){return this.ae.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.ae.removeOrphanedDocuments(t,e)},t.prototype.collect=function(t,e){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Cr("LruGarbageCollector","Garbage collection skipped; disabled"),ys.resolve(Ys)):this.getCacheSize(t).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Cr("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.cacheSizeCollectionThreshold),Ys):n.fe(t,e)}))},t.prototype.getCacheSize=function(t){return this.ae.getCacheSize(t)},t.prototype.fe=function(t,e){var n,r,i,o,s,u,c,l=this,h=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((function(e){return e>l.params.maximumSequenceNumbersToCollect?(Cr("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+l.params.maximumSequenceNumbersToCollect+" from "+e),r=l.params.maximumSequenceNumbersToCollect):r=e,o=Date.now(),l.nthSequenceNumber(t,r)})).next((function(r){return n=r,s=Date.now(),l.removeTargets(t,n,e)})).next((function(e){return i=e,u=Date.now(),l.removeOrphanedDocuments(t,n)})).next((function(t){return c=Date.now(),kr()<=a.in.DEBUG&&Cr("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-h)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(u-s)+"ms\n\tRemoved "+t+" documents in "+(c-u)+"ms\nTotal Duration: "+(c-h)+"ms"),ys.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})}))},t}(),vu=function(){function t(t,e){this.db=t,this.garbageCollector=function(t,e){return new mu(t,e)}(this,e)}return t.prototype.he=function(t){var e=this.de(t);return this.db.getTargetCache().getTargetCount(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype.de=function(t){var e=0;return this.le(t,(function(t){e++})).next((function(){return e}))},t.prototype.forEachTarget=function(t,e){return this.db.getTargetCache().forEachTarget(t,e)},t.prototype.le=function(t,e){return this.we(t,(function(t,n){return e(n)}))},t.prototype.addReference=function(t,e,n){return gu(t,n)},t.prototype.removeReference=function(t,e,n){return gu(t,n)},t.prototype.removeTargets=function(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)},t.prototype.markPotentiallyOrphaned=function(t,e){return gu(t,e)},t.prototype._e=function(t,e){return function(t,e){var n=!1;return ou(t).Ot((function(r){return nu(t,r,e).next((function(t){return t&&(n=!0),ys.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],o=0;return this.we(t,(function(a,s){if(s<=e){var u=n._e(t,a).next((function(e){if(!e)return o++,r.getEntry(t,a).next((function(){return r.removeEntry(a),lu(t).delete([0,Za(a.path)])}))}));i.push(u)}})).next((function(){return ys.waitFor(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)},t.prototype.updateLimboDocument=function(t,e){return gu(t,e)},t.prototype.we=function(t,e){var n,r=lu(t),i=Er.o;return r.$t({index:us.documentTargetsIndex},(function(t,r){var o=t[0];t[1];var a=r.path,s=r.sequenceNumber;0===o?(i!==Er.o&&e(new ai(Ya(n)),i),i=s,n=a):i=Er.o})).next((function(){i!==Er.o&&e(new ai(Ya(n)),i)}))},t.prototype.getCacheSize=function(t){return this.db.getRemoteDocumentCache().getSize(t)},t}();function gu(t,e){return lu(t).put(function(t,e){return new us(0,Za(t.path),e)}(e,t.currentSequenceNumber))}var yu=function(){function t(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(this.equalsFn(a,t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){qr(this.inner,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}}))},t.prototype.isEmpty=function(){return Gr(this.inner)},t}(),bu=function(){function t(){this.changes=new yu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.changesApplied=!1}return t.prototype.getReadTime=function(t){var e=this.changes.get(t);return e?e.readTime:Br.min()},t.prototype.addEntry=function(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})},t.prototype.removeEntry=function(t,e){void 0===e&&(e=null),this.assertNotApplied(),this.changes.set(t,{document:Ti.newInvalidDocument(t),readTime:e})},t.prototype.getEntry=function(t,e){this.assertNotApplied();var n=this.changes.get(e);return void 0!==n?ys.resolve(n.document):this.getFromCache(t,e)},t.prototype.getEntries=function(t,e){return this.getAllFromCache(t,e)},t.prototype.apply=function(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)},t.prototype.assertNotApplied=function(){},t}(),wu=function(){function t(t,e){this.R=t,this.Ut=e}return t.prototype.addEntry=function(t,e,n){return Tu(t).put(Iu(e),n)},t.prototype.removeEntry=function(t,e){var n=Tu(t),r=Iu(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.me(t,r)}))},t.prototype.getEntry=function(t,e){var n=this;return Tu(t).get(Iu(e)).next((function(t){return n.ye(e,t)}))},t.prototype.ge=function(t,e){var n=this;return Tu(t).get(Iu(e)).next((function(t){return{document:n.ye(e,t),size:tu(t)}}))},t.prototype.getEntries=function(t,e){var n=this,r=Yo();return this.pe(t,e,(function(t,e){var i=n.ye(t,e);r=r.insert(t,i)})).next((function(){return r}))},t.prototype.Ee=function(t,e){var n=this,r=Yo(),i=new Ko(ai.comparator);return this.pe(t,e,(function(t,e){var o=n.ye(t,e);r=r.insert(t,o),i=i.insert(t,tu(e))})).next((function(){return{documents:r,Te:i}}))},t.prototype.pe=function(t,e,n){if(e.isEmpty())return ys.resolve();var r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator(),o=i.getNext();return Tu(t).$t({range:r},(function(t,e,r){for(var a=ai.fromSegments(t);o&&ai.comparator(o,a)<0;)n(o,null),o=i.getNext();o&&o.isEqual(a)&&(n(o,e),o=i.hasNext()?i.getNext():null),o?r.Ct(o.path.toArray()):r.done()})).next((function(){for(;o;)n(o,null),o=i.hasNext()?i.getNext():null}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){var r=this,i=Yo(),o=e.path.length+1,a={};if(n.isEqual(Br.min())){var s=e.path.toArray();a.range=IDBKeyRange.lowerBound(s)}else{var u=e.path.toArray(),c=Fs(n);a.range=IDBKeyRange.lowerBound([u,c],!0),a.index=os.collectionReadTimeIndex}return Tu(t).$t(a,(function(t,n,a){if(t.length===o){var s=Ps(r.R,n);e.path.isPrefixOf(s.key.path)?io(e,s)&&(i=i.insert(s.key,s)):a.done()}})).next((function(){return i}))},t.prototype.newChangeBuffer=function(t){return new _u(this,!!t&&t.trackRemovals)},t.prototype.getSize=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return Eu(t).get(as.key).next((function(t){return Dr(!!t),t}))},t.prototype.me=function(t,e){return Eu(t).put(as.key,e)},t.prototype.ye=function(t,e){if(e){var n=Ps(this.R,e);if(!n.isNoDocument()||!n.version.isEqual(Br.min()))return n}return Ti.newInvalidDocument(t)},t}(),_u=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Ie=e,r.trackRemovals=n,r.Ae=new yu((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return(0,i.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[],r=0,i=new Zo((function(t,e){return Fr(t.canonicalString(),e.canonicalString())}));return this.changes.forEach((function(o,a){var s=e.Ae.get(o);if(a.document.isValidDocument()){var u=Ls(e.Ie.R,a.document,e.getReadTime(o));i=i.add(o.path.popLast());var c=tu(u);r+=c-s,n.push(e.Ie.addEntry(t,o,u))}else if(r-=s,e.trackRemovals){var l=Ls(e.Ie.R,Ti.newNoDocument(o,Br.min()),e.getReadTime(o));n.push(e.Ie.addEntry(t,o,l))}else n.push(e.Ie.removeEntry(t,o))})),i.forEach((function(r){n.push(e.Ie.Ut.addToCollectionParentIndex(t,r))})),n.push(this.Ie.updateMetadata(t,r)),ys.waitFor(n)},e.prototype.getFromCache=function(t,e){var n=this;return this.Ie.ge(t,e).next((function(t){return n.Ae.set(e,t.size),t.document}))},e.prototype.getAllFromCache=function(t,e){var n=this;return this.Ie.Ee(t,e).next((function(t){var e=t.documents;return t.Te.forEach((function(t,e){n.Ae.set(t,e)})),e}))},e}(bu);function Eu(t){return xs(t,as.store)}function Tu(t){return xs(t,os.store)}function Iu(t){return t.path.toArray()}var Su=function(){function t(t){this.R=t}return t.prototype.Rt=function(t,e,n,r){var i=this;Dr(n<r&&n>=0&&r<=11);var o=new bs("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(Qa.store)}(t),function(t){t.createObjectStore(ts.store,{keyPath:ts.keyPath}),t.createObjectStore(es.store,{keyPath:es.keyPath,autoIncrement:!0}).createIndex(es.userMutationsIndex,es.userMutationsKeyPath,{unique:!0}),t.createObjectStore(ns.store)}(t),ku(t),function(t){t.createObjectStore(os.store)}(t));var a=ys.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(us.store),t.deleteObjectStore(ss.store),t.deleteObjectStore(cs.store)}(t),ku(t)),a=a.next((function(){return function(t){var e=t.store(cs.store),n=new cs(0,0,Br.min().toTimestamp(),0);return e.put(cs.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(a=a.next((function(){return function(t,e){return e.store(es.store).Nt().next((function(n){t.deleteObjectStore(es.store),t.createObjectStore(es.store,{keyPath:es.keyPath,autoIncrement:!0}).createIndex(es.userMutationsIndex,es.userMutationsKeyPath,{unique:!0});var r=e.store(es.store),i=n.map((function(t){return r.put(t)}));return ys.waitFor(i)}))}(t,o)}))),a=a.next((function(){!function(t){t.createObjectStore(hs.store,{keyPath:hs.keyPath})}(t)}))),n<5&&r>=5&&(a=a.next((function(){return i.Re(o)}))),n<6&&r>=6&&(a=a.next((function(){return function(t){t.createObjectStore(as.store)}(t),i.be(o)}))),n<7&&r>=7&&(a=a.next((function(){return i.ve(o)}))),n<8&&r>=8&&(a=a.next((function(){return i.Pe(t,o)}))),n<9&&r>=9&&(a=a.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(os.store);e.createIndex(os.readTimeIndex,os.readTimeIndexPath,{unique:!1}),e.createIndex(os.collectionReadTimeIndex,os.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(a=a.next((function(){return i.Ve(o)}))),n<11&&r>=11&&(a=a.next((function(){!function(t){t.createObjectStore(fs.store,{keyPath:fs.keyPath})}(t),function(t){t.createObjectStore(ds.store,{keyPath:ds.keyPath})}(t)}))),a},t.prototype.be=function(t){var e=0;return t.store(os.store).$t((function(t,n){e+=tu(n)})).next((function(){var n=new as(e);return t.store(as.store).put(as.key,n)}))},t.prototype.Re=function(t){var e=this,n=t.store(ts.store),r=t.store(es.store);return n.Nt().next((function(n){return ys.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.Nt(es.userMutationsIndex,i).next((function(r){return ys.forEach(r,(function(r){Dr(r.userId===n.userId);var i=Bs(e.R,r);return Qs(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ve=function(t){var e=t.store(us.store),n=t.store(os.store);return t.store(cs.store).get(cs.key).next((function(t){var r=[];return n.$t((function(n,i){var o=new Kr(n),a=function(t){return[0,Za(t)]}(o);r.push(e.get(a).next((function(n){return n?ys.resolve():function(n){return e.put(new us(0,Za(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return ys.waitFor(r)}))}))},t.prototype.Pe=function(t,e){t.createObjectStore(ls.store,{keyPath:ls.keyPath});var n=e.store(ls.store),r=new Zs,i=function(t){if(r.add(t)){var e=t.lastSegment(),i=t.popLast();return n.put({collectionId:e,parent:Za(i)})}};return e.store(os.store).$t({Ft:!0},(function(t,e){var n=new Kr(t);return i(n.popLast())})).next((function(){return e.store(ns.store).$t({Ft:!0},(function(t,e){t[0];var n=t[1];t[2];var r=Ya(n);return i(r.popLast())}))}))},t.prototype.Ve=function(t){var e=this,n=t.store(ss.store);return n.$t((function(t,r){var i=Vs(r),o=qs(e.R,i);return n.put(o)}))},t}();function ku(t){t.createObjectStore(us.store,{keyPath:us.keyPath}).createIndex(us.documentTargetsIndex,us.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(ss.store,{keyPath:ss.keyPath}).createIndex(ss.queryTargetsIndexName,ss.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(cs.store)}var Cu="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Au=function(){function t(e,n,r,i,o,a,s,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Se=o,this.window=a,this.document=s,this.De=c,this.Ce=l,this.Ne=null,this.xe=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ke=null,this.inForeground=!1,this.Fe=null,this.$e=null,this.Oe=Number.NEGATIVE_INFINITY,this.Me=function(t){return Promise.resolve()},!t.yt())throw new Ir(Tr.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new vu(this,i),this.Le=n+"main",this.R=new Rs(u),this.Be=new ws(this.Le,11,new Su(this.R)),this.qe=new su(this.referenceDelegate,this.R),this.Ut=new Js,this.Ue=function(t,e){return new wu(t,e)}(this.R,this.Ut),this.Ke=new Hs,this.window&&this.window.localStorage?this.Qe=this.window.localStorage:(this.Qe=null,!1===l&&Ar("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.je().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Ir(Tr.FAILED_PRECONDITION,Cu);return t.We(),t.Ge(),t.ze(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.qe.getHighestSequenceNumber(e)}))})).then((function(e){t.Ne=new Er(e,t.De)})).then((function(){t.xe=!0})).catch((function(e){return t.Be&&t.Be.close(),Promise.reject(e)}))},t.prototype.He=function(t){var e=this;return this.Me=function(n){return(0,i.mG)(e,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){return this.started?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.setDatabaseDeletedListener=function(t){var e=this;this.Be.vt((function(n){return(0,i.mG)(e,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Se.enqueueAndForget((function(){return(0,i.mG)(e,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return this.started?[4,this.je()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.je=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return Ou(e).put(new hs(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Je(e).next((function(e){e||(t.isPrimary=!1,t.Se.enqueueRetryable((function(){return t.Me(!1)})))}))})).next((function(){return t.Ye(e)})).next((function(n){return t.isPrimary&&!n?t.Xe(e).next((function(){return!1})):!!n&&t.Ze(e).next((function(){return!0}))}))})).catch((function(e){if(Ts(e))return Cr("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Cr("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Se.enqueueRetryable((function(){return t.Me(e)})),t.isPrimary=e}))},t.prototype.Je=function(t){var e=this;return xu(t).get(Qa.key).next((function(t){return ys.resolve(e.tn(t))}))},t.prototype.en=function(t){return Ou(t).delete(this.clientId)},t.prototype.nn=function(){return(0,i.mG)(this,void 0,void 0,(function(){var t,e,n,r,o=this;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return!this.isPrimary||this.sn(this.Oe,18e5)?[3,2]:(this.Oe=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(t){var e=xs(t,hs.store);return e.Nt().next((function(t){var n=o.rn(t,18e5),r=t.filter((function(t){return-1===n.indexOf(t)}));return ys.forEach(r,(function(t){return e.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(t=i.sent(),this.Qe)for(e=0,n=t;e<n.length;e++)r=n[e],this.Qe.removeItem(this.on(r.clientId));i.label=2;case 2:return[2]}}))}))},t.prototype.ze=function(){var t=this;this.$e=this.Se.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return t.je().then((function(){return t.nn()})).then((function(){return t.ze()}))}))},t.prototype.tn=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Ye=function(t){var e=this;return this.Ce?ys.resolve(!0):xu(t).get(Qa.key).next((function(n){if(null!==n&&e.sn(n.leaseTimestampMs,5e3)&&!e.cn(n.ownerId)){if(e.tn(n)&&e.networkEnabled)return!0;if(!e.tn(n)){if(!n.allowTabSynchronization)throw new Ir(Tr.FAILED_PRECONDITION,Cu);return!1}}return!(!e.networkEnabled||!e.inForeground)||Ou(t).Nt().next((function(t){return void 0===e.rn(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Cr("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.shutdown=function(){return(0,i.mG)(this,void 0,void 0,(function(){var t=this;return(0,i.Jh)(this,(function(e){switch(e.label){case 0:return this.xe=!1,this.un(),this.$e&&(this.$e.cancel(),this.$e=null),this.an(),this.hn(),[4,this.Be.runTransaction("shutdown","readwrite",[Qa.store,hs.store],(function(e){var n=new As(e,Er.o);return t.Xe(n).next((function(){return t.en(n)}))}))];case 1:return e.sent(),this.Be.close(),this.ln(),[2]}}))}))},t.prototype.rn=function(t,e){var n=this;return t.filter((function(t){return n.sn(t.updateTimeMs,e)&&!n.cn(t.clientId)}))},t.prototype.fn=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return Ou(e).Nt().next((function(e){return t.rn(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.getMutationQueue=function(t){return eu.Qt(t,this.R,this.Ut,this.referenceDelegate)},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Cr("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Be.runTransaction(t,o,ps,(function(o){return i=new As(o,r.Ne?r.Ne.next():Er.o),"readwrite-primary"===e?r.Je(i).next((function(t){return!!t||r.Ye(i)})).next((function(e){if(!e)throw Ar("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Se.enqueueRetryable((function(){return r.Me(!1)})),new Ir(Tr.FAILED_PRECONDITION,ms);return n(i)})).next((function(t){return r.Ze(i).next((function(){return t}))})):r.dn(i).next((function(){return n(i)}))})).then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.dn=function(t){var e=this;return xu(t).get(Qa.key).next((function(t){if(null!==t&&e.sn(t.leaseTimestampMs,5e3)&&!e.cn(t.ownerId)&&!e.tn(t)&&!(e.Ce||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Ir(Tr.FAILED_PRECONDITION,Cu)}))},t.prototype.Ze=function(t){var e=new Qa(this.clientId,this.allowTabSynchronization,Date.now());return xu(t).put(Qa.key,e)},t.yt=function(){return ws.yt()},t.prototype.Xe=function(t){var e=this,n=xu(t);return n.get(Qa.key).next((function(t){return e.tn(t)?(Cr("IndexedDbPersistence","Releasing primary lease."),n.delete(Qa.key)):ys.resolve()}))},t.prototype.sn=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Ar("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.We=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Fe=function(){t.Se.enqueueAndForget((function(){return t.inForeground="visible"===t.document.visibilityState,t.je()}))},this.document.addEventListener("visibilitychange",this.Fe),this.inForeground="visible"===this.document.visibilityState)},t.prototype.an=function(){this.Fe&&(this.document.removeEventListener("visibilitychange",this.Fe),this.Fe=null)},t.prototype.Ge=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ke=function(){e.un(),(0,o.G6)()&&navigator.appVersion.match("Version/14")&&e.Se.enterRestrictedMode(!0),e.Se.enqueueAndForget((function(){return e.shutdown()}))},this.window.addEventListener("pagehide",this.ke))},t.prototype.hn=function(){this.ke&&(this.window.removeEventListener("pagehide",this.ke),this.ke=null)},t.prototype.cn=function(t){var e;try{var n=null!==(null===(e=this.Qe)||void 0===e?void 0:e.getItem(this.on(t)));return Cr("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Ar("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.un=function(){if(this.Qe)try{this.Qe.setItem(this.on(this.clientId),String(Date.now()))}catch(t){Ar("Failed to set zombie client id.",t)}},t.prototype.ln=function(){if(this.Qe)try{this.Qe.removeItem(this.on(this.clientId))}catch(t){}},t.prototype.on=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function xu(t){return xs(t,Qa.store)}function Ou(t){return xs(t,hs.store)}function Nu(t,e){var n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Du=function(t,e){this.progress=t,this.wn=e},Ru=function(){function t(t,e,n){this.Ue=t,this._n=e,this.Ut=n}return t.prototype.mn=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKey(t,e).next((function(r){return n.yn(t,e,r)}))},t.prototype.yn=function(t,e,n){return this.Ue.getEntry(t,e).next((function(t){for(var e=0,r=n;e<r.length;e++)r[e].applyToLocalView(t);return t}))},t.prototype.gn=function(t,e){t.forEach((function(t,n){for(var r=0,i=e;r<i.length;r++)i[r].applyToLocalView(n)}))},t.prototype.pn=function(t,e){var n=this;return this.Ue.getEntries(t,e).next((function(e){return n.En(t,e).next((function(){return e}))}))},t.prototype.En=function(t,e){var n=this;return this._n.getAllMutationBatchesAffectingDocumentKeys(t,e).next((function(t){return n.gn(e,t)}))},t.prototype.getDocumentsMatchingQuery=function(t,e,n){return function(t){return ai.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.Tn(t,e.path):Yi(e)?this.In(t,e,n):this.An(t,e,n)},t.prototype.Tn=function(t,e){return this.mn(t,new ai(e)).next((function(t){var e=Qo();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))},t.prototype.In=function(t,e,n){var r=this,i=e.collectionGroup,o=Qo();return this.Ut.getCollectionParents(t,i).next((function(a){return ys.forEach(a,(function(a){var s=function(t,e){return new Hi(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,a.child(i));return r.An(t,s,n).next((function(t){t.forEach((function(t,e){o=o.insert(t,e)}))}))})).next((function(){return o}))}))},t.prototype.An=function(t,e,n){var r,i,o=this;return this.Ue.getDocumentsMatchingQuery(t,e,n).next((function(n){return r=n,o._n.getAllMutationBatchesAffectingQuery(t,e)})).next((function(e){return i=e,o.Rn(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key,l=r.get(c);null==l&&(l=Ti.newInvalidDocument(c),r=r.insert(c,l)),xo(u,l,o.localWriteTime),l.isFoundDocument()||(r=r.remove(c))}}))})).next((function(){return r.forEach((function(t,n){io(e,n)||(r=r.remove(t))})),r}))},t.prototype.Rn=function(t,e,n){for(var r=ra(),i=0,o=e;i<o.length;i++)for(var a=0,s=o[i].mutations;a<s.length;a++){var u=s[a];u instanceof Po&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.Ue.getEntries(t,r).next((function(t){return t.forEach((function(t,e){e.isFoundDocument()&&(c=c.insert(t,e))})),c}))},t}(),Pu=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.bn=n,this.vn=r}return t.Pn=function(e,n){for(var r=ra(),i=ra(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Lu=function(){function t(){}return t.prototype.Vn=function(t){this.Sn=t},t.prototype.getDocumentsMatchingQuery=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}(e)||n.isEqual(Br.min())?this.Dn(t,e):this.Sn.pn(t,r).next((function(o){var s=i.Cn(e,o);return(Wi(e)||Zi(e))&&i.Nn(e.limitType,s,r,n)?i.Dn(t,e):(kr()<=a.in.DEBUG&&Cr("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),ro(e)),i.Sn.getDocumentsMatchingQuery(t,e,n).next((function(t){return s.forEach((function(e){t=t.insert(e.key,e)})),t})))}))},t.prototype.Cn=function(t,e){var n=new Zo(oo(t));return e.forEach((function(e,r){io(t,r)&&(n=n.add(r))})),n},t.prototype.Nn=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)},t.prototype.Dn=function(t,e){return kr()<=a.in.DEBUG&&Cr("QueryEngine","Using full collection scan to execute query:",ro(e)),this.Sn.getDocumentsMatchingQuery(t,e,Br.min())},t}(),Fu=function(){function t(t,e,n,r){this.persistence=t,this.xn=e,this.R=r,this.kn=new Ko(Fr),this.Fn=new yu((function(t){return ki(t)}),Ci),this.$n=Br.min(),this._n=t.getMutationQueue(n),this.On=t.getRemoteDocumentCache(),this.qe=t.getTargetCache(),this.Mn=new Ru(this.On,this._n,this.persistence.getIndexManager()),this.Ke=t.getBundleCache(),this.xn.Vn(this.Mn)}return t.prototype.collectGarbage=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.collect(n,e.kn)}))},t}();function Mu(t,e,n,r){return new Fu(t,e,n,r)}function ju(t,e){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o,a;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return n=Rr(t),r=n._n,o=n.Mn,[4,n.persistence.runTransaction("Handle user change","readonly",(function(t){var i;return n._n.getAllMutationBatches(t).next((function(a){return i=a,r=n.persistence.getMutationQueue(e),o=new Ru(n.On,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t)})).next((function(e){for(var n=[],r=[],a=ra(),s=0,u=i;s<u.length;s++){var c=u[s];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];a=a.add(f.key)}}for(var d=0,p=e;d<p.length;d++){var m=p[d];r.push(m.batchId);for(var v=0,g=m.mutations;v<g.length;v++){var y=g[v];a=a.add(y.key)}}return o.pn(t,a).next((function(t){return{Ln:t,removedBatchIds:n,addedBatchIds:r}}))}))}))];case 1:return a=i.sent(),[2,(n._n=r,n.Mn=o,n.xn.Vn(n.Mn),a)]}}))}))}function Uu(t,e){var n=Rr(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(t){var r=e.batch.keys(),i=n.On.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){var i=n.batch,o=i.keys(),a=ys.resolve();return o.forEach((function(t){a=a.next((function(){return r.getEntry(e,t)})).next((function(e){var o=n.docVersions.get(t);Dr(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))}))})),a.next((function(){return t._n.removeMutationBatch(e,i)}))}(n,t,e,i).next((function(){return i.apply(t)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}function Bu(t){var e=Rr(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(function(t){return e.qe.getLastRemoteSnapshotVersion(t)}))}function Vu(t,e){var n=Rr(t),r=e.snapshotVersion,i=n.kn;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(t){var o=n.On.newChangeBuffer({trackRemovals:!0});i=n.kn;var a=[];e.targetChanges.forEach((function(e,o){var s=i.get(o);if(s){a.push(n.qe.removeMatchingKeys(t,e.removedDocuments,o).next((function(){return n.qe.addMatchingKeys(t,e.addedDocuments,o)})));var u=e.resumeToken;if(u.approximateByteSize()>0){var c=s.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(o,c),function(t,e,n){return Dr(e.resumeToken.approximateByteSize()>0),0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(s,c,e)&&a.push(n.qe.updateTargetData(t,c))}}}));var s=Yo();if(e.documentUpdates.forEach((function(r,i){e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(qu(t,o,e.documentUpdates,r,void 0).next((function(t){s=t}))),!r.isEqual(Br.min())){var u=n.qe.getLastRemoteSnapshotVersion(t).next((function(e){return n.qe.setTargetsMetadata(t,t.currentSequenceNumber,r)}));a.push(u)}return ys.waitFor(a).next((function(){return o.apply(t)})).next((function(){return n.Mn.En(t,s)})).next((function(){return s}))})).then((function(t){return n.kn=i,t}))}function qu(t,e,n,r,i){var o=ra();return n.forEach((function(t){return o=o.add(t)})),e.getEntries(t,o).next((function(t){var o=Yo();return n.forEach((function(n,a){var s=t.get(n),u=(null==i?void 0:i.get(n))||r;a.isNoDocument()&&a.version.isEqual(Br.min())?(e.removeEntry(n,u),o=o.insert(n,a)):!s.isValidDocument()||a.version.compareTo(s.version)>0||0===a.version.compareTo(s.version)&&s.hasPendingWrites?(e.addEntry(a,u),o=o.insert(n,a)):Cr("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",a.version)})),o}))}function Gu(t,e){var n=Rr(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(t){return void 0===e&&(e=-1),n._n.getNextMutationBatchAfterBatchId(t,e)}))}function Hu(t,e){var n=Rr(t);return n.persistence.runTransaction("Allocate target","readwrite",(function(t){var r;return n.qe.getTargetData(t,e).next((function(i){return i?(r=i,ys.resolve(r)):n.qe.allocateTargetId(t).next((function(i){return r=new Ds(e,i,0,t.currentSequenceNumber),n.qe.addTargetData(t,r).next((function(){return r}))}))}))})).then((function(t){var r=n.kn.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.kn=n.kn.insert(t.targetId,t),n.Fn.set(e,t.targetId)),t}))}function Ku(t,e,n){return(0,i.mG)(this,void 0,void 0,(function(){var r,o,a,s;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:r=Rr(t),o=r.kn.get(e),a=n?"readwrite":"readwrite-primary",i.label=1;case 1:return i.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",a,(function(t){return r.persistence.referenceDelegate.removeTarget(t,o)}))];case 2:i.sent(),i.label=3;case 3:return[3,5];case 4:if(!Ts(s=i.sent()))throw s;return Cr("LocalStore","Failed to update sequence numbers for target "+e+": "+s),[3,5];case 5:return r.kn=r.kn.remove(e),r.Fn.delete(o.target),[2]}}))}))}function zu(t,e,n){var r=Rr(t),i=Br.min(),o=ra();return r.persistence.runTransaction("Execute query","readonly",(function(t){return function(t,e,n){var r=Rr(t),i=r.Fn.get(n);return void 0!==i?ys.resolve(r.kn.get(i)):r.qe.getTargetData(e,n)}(r,t,Qi(e)).next((function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r.qe.getMatchingKeysForTargetId(t,e.targetId).next((function(t){o=t}))})).next((function(){return r.xn.getDocumentsMatchingQuery(t,e,n?i:Br.min(),n?o:ra())})).next((function(t){return{documents:t,Bn:o}}))}))}function Wu(t,e){var n=Rr(t),r=Rr(n.qe),i=n.kn.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.lt(t,e).next((function(t){return t?t.target:null}))}))}function Zu(t){var e=Rr(t);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return function(t,e,n){var r=Rr(t),i=Yo(),o=Fs(n),a=Tu(e),s=IDBKeyRange.lowerBound(o,!0);return a.$t({index:os.readTimeIndex,range:s},(function(t,e){var n=Ps(r.R,e);i=i.insert(n.key,n),o=e.readTime})).next((function(){return{wn:i,readTime:Ms(o)}}))}(e.On,t,e.$n)})).then((function(t){var n=t.wn,r=t.readTime;return e.$n=r,n}))}function Ju(t){return(0,i.mG)(this,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(n){return[2,(e=Rr(t)).persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return function(t){var e=Tu(t),n=Br.min();return e.$t({index:os.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=Ms(e.readTime)),r.done()})).next((function(){return n}))}(t)})).then((function(t){e.$n=t}))]}))}))}function Xu(t,e,n,r){return(0,i.mG)(this,void 0,void 0,(function(){var o,a,s,u,c,l,h,f,d,p;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:for(o=Rr(t),a=ra(),s=Yo(),u=ea(),c=0,l=n;c<l.length;c++)h=l[c],f=e.qn(h.metadata.name),h.document&&(a=a.add(f)),s=s.insert(f,e.Un(h)),u=u.insert(f,e.Kn(h.metadata.readTime));return d=o.On.newChangeBuffer({trackRemovals:!0}),[4,Hu(o,function(t){return Qi(zi(Kr.fromString("__bundle__/docs/"+t)))}(r))];case 1:return p=i.sent(),[2,o.persistence.runTransaction("Apply bundle documents","readwrite",(function(t){return qu(t,d,s,Br.min(),u).next((function(e){return d.apply(t),e})).next((function(e){return o.qe.removeMatchingKeysForTargetId(t,p.targetId).next((function(){return o.qe.addMatchingKeys(t,a,p.targetId)})).next((function(){return o.Mn.En(t,e)})).next((function(){return e}))}))}))]}}))}))}function Yu(t,e,n){return void 0===n&&(n=ra()),(0,i.mG)(this,void 0,void 0,(function(){var r,o;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return[4,Hu(t,Qi(Gs(e.bundledQuery)))];case 1:return r=i.sent(),[2,(o=Rr(t)).persistence.runTransaction("Save named query","readwrite",(function(t){var i=_a(e.readTime);if(r.snapshotVersion.compareTo(i)>=0)return o.Ke.saveNamedQuery(t,e);var a=r.withResumeToken(Jr.EMPTY_BYTE_STRING,i);return o.kn=o.kn.insert(a.targetId,a),o.qe.updateTargetData(t,a).next((function(){return o.qe.removeMatchingKeysForTargetId(t,r.targetId)})).next((function(){return o.qe.addMatchingKeys(t,n,r.targetId)})).next((function(){return o.Ke.saveNamedQuery(t,e)}))}))]}}))}))}var $u=function(){function t(t){this.R=t,this.Qn=new Map,this.jn=new Map}return t.prototype.getBundleMetadata=function(t,e){return ys.resolve(this.Qn.get(e))},t.prototype.saveBundleMetadata=function(t,e){var n;return this.Qn.set(e.id,{id:(n=e).id,version:n.version,createTime:_a(n.createTime)}),ys.resolve()},t.prototype.getNamedQuery=function(t,e){return ys.resolve(this.jn.get(e))},t.prototype.saveNamedQuery=function(t,e){return this.jn.set(e.name,function(t){return{name:t.name,query:Gs(t.bundledQuery),readTime:_a(t.readTime)}}(e)),ys.resolve()},t}(),Qu=function(){function t(){this.Wn=new Zo(tc.Gn),this.zn=new Zo(tc.Hn)}return t.prototype.isEmpty=function(){return this.Wn.isEmpty()},t.prototype.addReference=function(t,e){var n=new tc(t,e);this.Wn=this.Wn.add(n),this.zn=this.zn.add(n)},t.prototype.Jn=function(t,e){var n=this;t.forEach((function(t){return n.addReference(t,e)}))},t.prototype.removeReference=function(t,e){this.Yn(new tc(t,e))},t.prototype.Xn=function(t,e){var n=this;t.forEach((function(t){return n.removeReference(t,e)}))},t.prototype.Zn=function(t){var e=this,n=new ai(new Kr([])),r=new tc(n,t),i=new tc(n,t+1),o=[];return this.zn.forEachInRange([r,i],(function(t){e.Yn(t),o.push(t.key)})),o},t.prototype.ts=function(){var t=this;this.Wn.forEach((function(e){return t.Yn(e)}))},t.prototype.Yn=function(t){this.Wn=this.Wn.delete(t),this.zn=this.zn.delete(t)},t.prototype.es=function(t){var e=new ai(new Kr([])),n=new tc(e,t),r=new tc(e,t+1),i=ra();return this.zn.forEachInRange([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.containsKey=function(t){var e=new tc(t,0),n=this.Wn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),tc=function(){function t(t,e){this.key=t,this.ns=e}return t.Gn=function(t,e){return ai.comparator(t.key,e.key)||Fr(t.ns,e.ns)},t.Hn=function(t,e){return Fr(t.ns,e.ns)||ai.comparator(t.key,e.key)},t}(),ec=function(){function t(t,e){this.Ut=t,this.referenceDelegate=e,this._n=[],this.ss=1,this.rs=new Zo(tc.Gn)}return t.prototype.checkEmpty=function(t){return ys.resolve(0===this._n.length)},t.prototype.addMutationBatch=function(t,e,n,r){var i=this.ss;this.ss++,this._n.length>0&&this._n[this._n.length-1];var o=new Os(i,e,n,r);this._n.push(o);for(var a=0,s=r;a<s.length;a++){var u=s[a];this.rs=this.rs.add(new tc(u.key,i)),this.Ut.addToCollectionParentIndex(t,u.key.path.popLast())}return ys.resolve(o)},t.prototype.lookupMutationBatch=function(t,e){return ys.resolve(this.os(e))},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=e+1,r=this.cs(n),i=r<0?0:r;return ys.resolve(this._n.length>i?this._n[i]:null)},t.prototype.getHighestUnacknowledgedBatchId=function(){return ys.resolve(0===this._n.length?-1:this.ss-1)},t.prototype.getAllMutationBatches=function(t){return ys.resolve(this._n.slice())},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new tc(e,0),i=new tc(e,Number.POSITIVE_INFINITY),o=[];return this.rs.forEachInRange([r,i],(function(t){var e=n.os(t.ns);o.push(e)})),ys.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Zo(Fr);return e.forEach((function(t){var e=new tc(t,0),i=new tc(t,Number.POSITIVE_INFINITY);n.rs.forEachInRange([e,i],(function(t){r=r.add(t.ns)}))})),ys.resolve(this.us(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;ai.isDocumentKey(i)||(i=i.child(""));var o=new tc(new ai(i),0),a=new Zo(Fr);return this.rs.forEachWhile((function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.ns)),!0)}),o),ys.resolve(this.us(a))},t.prototype.us=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.os(t);null!==r&&n.push(r)})),n},t.prototype.removeMutationBatch=function(t,e){var n=this;Dr(0===this.hs(e.batchId,"removed")),this._n.shift();var r=this.rs;return ys.forEach(e.mutations,(function(i){var o=new tc(i.key,e.batchId);return r=r.delete(o),n.referenceDelegate.markPotentiallyOrphaned(t,i.key)})).next((function(){n.rs=r}))},t.prototype.Gt=function(t){},t.prototype.containsKey=function(t,e){var n=new tc(e,0),r=this.rs.firstAfterOrEqual(n);return ys.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return this._n.length,ys.resolve()},t.prototype.hs=function(t,e){return this.cs(t)},t.prototype.cs=function(t){return 0===this._n.length?0:t-this._n[0].batchId},t.prototype.os=function(t){var e=this.cs(t);return e<0||e>=this._n.length?null:this._n[e]},t}(),nc=function(){function t(t,e){this.Ut=t,this.ls=e,this.docs=new Ko(ai.comparator),this.size=0}return t.prototype.addEntry=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,a=this.ls(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:a,readTime:n}),this.size+=a-o,this.Ut.addToCollectionParentIndex(t,r.path.popLast())},t.prototype.removeEntry=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return ys.resolve(n?n.document.clone():Ti.newInvalidDocument(e))},t.prototype.getEntries=function(t,e){var n=this,r=Yo();return e.forEach((function(t){var e=n.docs.get(t);r=r.insert(t,e?e.document.clone():Ti.newInvalidDocument(t))})),ys.resolve(r)},t.prototype.getDocumentsMatchingQuery=function(t,e,n){for(var r=Yo(),i=new ai(e.path.child("")),o=this.docs.getIteratorFrom(i);o.hasNext();){var a=o.getNext(),s=a.key,u=a.value,c=u.document,l=u.readTime;if(!e.path.isPrefixOf(s.path))break;l.compareTo(n)<=0||io(e,c)&&(r=r.insert(c.key,c.clone()))}return ys.resolve(r)},t.prototype.fs=function(t,e){return ys.forEach(this.docs,(function(t){return e(t)}))},t.prototype.newChangeBuffer=function(t){return new rc(this)},t.prototype.getSize=function(t){return ys.resolve(this.size)},t}(),rc=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ie=e,n}return(0,i.ZT)(e,t),e.prototype.applyChanges=function(t){var e=this,n=[];return this.changes.forEach((function(r,i){i.document.isValidDocument()?n.push(e.Ie.addEntry(t,i.document,e.getReadTime(r))):e.Ie.removeEntry(r)})),ys.waitFor(n)},e.prototype.getFromCache=function(t,e){return this.Ie.getEntry(t,e)},e.prototype.getAllFromCache=function(t,e){return this.Ie.getEntries(t,e)},e}(bu),ic=function(){function t(t){this.persistence=t,this.ds=new yu((function(t){return ki(t)}),Ci),this.lastRemoteSnapshotVersion=Br.min(),this.highestTargetId=0,this.ws=0,this._s=new Qu,this.targetCount=0,this.ys=au.Jt()}return t.prototype.forEachTarget=function(t,e){return this.ds.forEach((function(t,n){return e(n)})),ys.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return ys.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return ys.resolve(this.ws)},t.prototype.allocateTargetId=function(t){return this.highestTargetId=this.ys.next(),ys.resolve(this.highestTargetId)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.ws&&(this.ws=e),ys.resolve()},t.prototype.te=function(t){this.ds.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.ys=new au(e),this.highestTargetId=e),t.sequenceNumber>this.ws&&(this.ws=t.sequenceNumber)},t.prototype.addTargetData=function(t,e){return this.te(e),this.targetCount+=1,ys.resolve()},t.prototype.updateTargetData=function(t,e){return this.te(e),ys.resolve()},t.prototype.removeTargetData=function(t,e){return this.ds.delete(e.target),this._s.Zn(e.targetId),this.targetCount-=1,ys.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.ds.forEach((function(a,s){s.sequenceNumber<=e&&null===n.get(s.targetId)&&(r.ds.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)})),ys.waitFor(o).next((function(){return i}))},t.prototype.getTargetCount=function(t){return ys.resolve(this.targetCount)},t.prototype.getTargetData=function(t,e){var n=this.ds.get(e)||null;return ys.resolve(n)},t.prototype.addMatchingKeys=function(t,e,n){return this._s.Jn(e,n),ys.resolve()},t.prototype.removeMatchingKeys=function(t,e,n){this._s.Xn(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((function(e){i.push(r.markPotentiallyOrphaned(t,e))})),ys.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this._s.Zn(e),ys.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this._s.es(e);return ys.resolve(n)},t.prototype.containsKey=function(t,e){return ys.resolve(this._s.containsKey(e))},t}(),oc=function(){function t(t,e){var n=this;this.gs={},this.Ne=new Er(0),this.xe=!1,this.xe=!0,this.referenceDelegate=t(this),this.qe=new ic(this),this.Ut=new Ws,this.Ue=function(t,e){return new nc(t,(function(t){return n.referenceDelegate.ps(t)}))}(this.Ut),this.R=new Rs(e),this.Ke=new $u(this.R)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.shutdown=function(){return this.xe=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this.xe},enumerable:!1,configurable:!0}),t.prototype.setDatabaseDeletedListener=function(){},t.prototype.setNetworkEnabled=function(){},t.prototype.getIndexManager=function(){return this.Ut},t.prototype.getMutationQueue=function(t){var e=this.gs[t.toKey()];return e||(e=new ec(this.Ut,this.referenceDelegate),this.gs[t.toKey()]=e),e},t.prototype.getTargetCache=function(){return this.qe},t.prototype.getRemoteDocumentCache=function(){return this.Ue},t.prototype.getBundleCache=function(){return this.Ke},t.prototype.runTransaction=function(t,e,n){var r=this;Cr("MemoryPersistence","Starting transaction:",t);var i=new ac(this.Ne.next());return this.referenceDelegate.Es(),n(i).next((function(t){return r.referenceDelegate.Ts(i).next((function(){return t}))})).toPromise().then((function(t){return i.raiseOnCommittedEvent(),t}))},t.prototype.Is=function(t,e){return ys.or(Object.values(this.gs).map((function(n){return function(){return n.containsKey(t,e)}})))},t}(),ac=function(t){function e(e){var n=this;return(n=t.call(this)||this).currentSequenceNumber=e,n}return(0,i.ZT)(e,t),e}(vs),sc=function(){function t(t){this.persistence=t,this.As=new Qu,this.Rs=null}return t.bs=function(e){return new t(e)},Object.defineProperty(t.prototype,"vs",{get:function(){if(this.Rs)return this.Rs;throw Nr()},enumerable:!1,configurable:!0}),t.prototype.addReference=function(t,e,n){return this.As.addReference(n,e),this.vs.delete(n.toString()),ys.resolve()},t.prototype.removeReference=function(t,e,n){return this.As.removeReference(n,e),this.vs.add(n.toString()),ys.resolve()},t.prototype.markPotentiallyOrphaned=function(t,e){return this.vs.add(e.toString()),ys.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.As.Zn(e.targetId).forEach((function(t){return n.vs.add(t.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,e.targetId).next((function(t){t.forEach((function(t){return n.vs.add(t.toString())}))})).next((function(){return r.removeTargetData(t,e)}))},t.prototype.Es=function(){this.Rs=new Set},t.prototype.Ts=function(t){var e=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ys.forEach(this.vs,(function(r){var i=ai.fromPath(r);return e.Ps(t,i).next((function(t){t||n.removeEntry(i)}))})).next((function(){return e.Rs=null,n.apply(t)}))},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.Ps(t,e).next((function(t){t?n.vs.delete(e.toString()):n.vs.add(e.toString())}))},t.prototype.ps=function(t){return 0},t.prototype.Ps=function(t,e){var n=this;return ys.or([function(){return ys.resolve(n.As.containsKey(e))},function(){return n.persistence.getTargetCache().containsKey(t,e)},function(){return n.persistence.Is(t,e)}])},t}(),uc=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();function cc(t,e){return"firestore_clients_"+t+"_"+e}function lc(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.isAuthenticated()&&(r+="_"+e.uid),r}function hc(t,e){return"firestore_targets_"+t+"_"+e}uc.UNAUTHENTICATED=new uc(null),uc.GOOGLE_CREDENTIALS=new uc("google-credentials-uid"),uc.FIRST_PARTY=new uc("first-party-uid"),uc.MOCK_USER=new uc("mock-user");var fc=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Vs=function(e,n,r){var i,o=JSON.parse(r),a="object"==typeof o&&-1!==["pending","acknowledged","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return a&&o.error&&(a="string"==typeof o.error.message&&"string"==typeof o.error.code)&&(i=new Ir(o.error.code,o.error.message)),a?new t(e,n,o.state,i):(Ar("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),dc=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Vs=function(e,n){var r,i=JSON.parse(n),o="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Ir(i.error.code,i.error.message)),o?new t(e,i.state,r):(Ar("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Ss=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),pc=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Vs=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=oa(),a=0;i&&a<r.activeTargetIds.length;++a)i=oi(r.activeTargetIds[a]),o=o.add(r.activeTargetIds[a]);return i?new t(e,o):(Ar("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),mc=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Vs=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Ar("SharedClientState","Failed to parse online state: "+e),null)},t}(),vc=function(){function t(){this.activeTargetIds=oa()}return t.prototype.Ds=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Cs=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Ss=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),gc=function(){function t(t,e,n,r,i){this.window=t,this.Se=e,this.persistenceKey=n,this.Ns=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.xs=this.ks.bind(this),this.Fs=new Ko(Fr),this.started=!1,this.$s=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Os=cc(this.persistenceKey,this.Ns),this.Ms=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Fs=this.Fs.insert(this.Ns,new vc),this.Ls=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.Bs=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.qs=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.Us=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.Ks=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.xs)}return t.yt=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return(0,i.mG)(this,void 0,void 0,(function(){var t,e,n,r,o,a,s,u,c,l,h,f=this;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return[4,this.syncEngine.fn()];case 1:for(t=i.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Ns&&(o=this.getItem(cc(this.persistenceKey,r)))&&(a=pc.Vs(r,o))&&(this.Fs=this.Fs.insert(a.clientId,a));for(this.Qs(),(s=this.storage.getItem(this.Us))&&(u=this.js(s))&&this.Ws(u),c=0,l=this.$s;c<l.length;c++)h=l[c],this.ks(h);return this.$s=[],this.window.addEventListener("pagehide",(function(){return f.shutdown()})),this.started=!0,[2]}}))}))},t.prototype.writeSequenceNumber=function(t){this.setItem(this.Ms,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){return this.Gs(this.Fs)},t.prototype.isActiveQueryTarget=function(t){var e=!1;return this.Fs.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.addPendingMutation=function(t){this.zs(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.zs(t,e,n),this.Hs(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(hc(this.persistenceKey,t));if(n){var r=dc.Vs(t,n);r&&(e=r.state)}}return this.Js.Ds(t),this.Qs(),e},t.prototype.removeLocalQueryTarget=function(t){this.Js.Cs(t),this.Qs()},t.prototype.isLocalQueryTarget=function(t){return this.Js.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(hc(this.persistenceKey,t))},t.prototype.updateQueryState=function(t,e,n){this.Ys(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach((function(t){r.Hs(t)})),this.currentUser=t,n.forEach((function(t){r.addPendingMutation(t)}))},t.prototype.setOnlineState=function(t){this.Xs(t)},t.prototype.notifyBundleLoaded=function(){this.Zs()},t.prototype.shutdown=function(){this.started&&(this.window.removeEventListener("storage",this.xs),this.removeItem(this.Os),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Cr("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Cr("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Cr("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.ks=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Cr("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Os)return void Ar("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Se.enqueueRetryable((function(){return(0,i.mG)(e,void 0,void 0,(function(){var t,e,r,o,a,s;return(0,i.Jh)(this,(function(i){if(this.started){if(null!==n.key)if(this.Ls.test(n.key)){if(null==n.newValue)return t=this.ti(n.key),[2,this.ei(t,null)];if(e=this.ni(n.key,n.newValue))return[2,this.ei(e.clientId,e)]}else if(this.Bs.test(n.key)){if(null!==n.newValue&&(r=this.si(n.key,n.newValue)))return[2,this.ii(r)]}else if(this.qs.test(n.key)){if(null!==n.newValue&&(o=this.ri(n.key,n.newValue)))return[2,this.oi(o)]}else if(n.key===this.Us){if(null!==n.newValue&&(a=this.js(n.newValue)))return[2,this.Ws(a)]}else if(n.key===this.Ms)(s=function(t){var e=Er.o;if(null!=t)try{var n=JSON.parse(t);Dr("number"==typeof n),e=n}catch(t){Ar("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Er.o&&this.sequenceNumberHandler(s);else if(n.key===this.Ks)return[2,this.syncEngine.ci()]}else this.$s.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Js",{get:function(){return this.Fs.get(this.Ns)},enumerable:!1,configurable:!0}),t.prototype.Qs=function(){this.setItem(this.Os,this.Js.Ss())},t.prototype.zs=function(t,e,n){var r=new fc(this.currentUser,t,e,n),i=lc(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Ss())},t.prototype.Hs=function(t){var e=lc(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Xs=function(t){var e={clientId:this.Ns,onlineState:t};this.storage.setItem(this.Us,JSON.stringify(e))},t.prototype.Ys=function(t,e,n){var r=hc(this.persistenceKey,t),i=new dc(t,e,n);this.setItem(r,i.Ss())},t.prototype.Zs=function(){this.setItem(this.Ks,"value-not-used")},t.prototype.ti=function(t){var e=this.Ls.exec(t);return e?e[1]:null},t.prototype.ni=function(t,e){var n=this.ti(t);return pc.Vs(n,e)},t.prototype.si=function(t,e){var n=this.Bs.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return fc.Vs(new uc(i),r,e)},t.prototype.ri=function(t,e){var n=this.qs.exec(t),r=Number(n[1]);return dc.Vs(r,e)},t.prototype.js=function(t){return mc.Vs(t)},t.prototype.ii=function(t){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.syncEngine.ui(t.batchId,t.state,t.error)]:(Cr("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.oi=function(t){return this.syncEngine.ai(t.targetId,t.state,t.error)},t.prototype.ei=function(t,e){var n=this,r=e?this.Fs.insert(t,e):this.Fs.remove(t),i=this.Gs(this.Fs),o=this.Gs(r),a=[],s=[];return o.forEach((function(t){i.has(t)||a.push(t)})),i.forEach((function(t){o.has(t)||s.push(t)})),this.syncEngine.hi(a,s).then((function(){n.Fs=r}))},t.prototype.Ws=function(t){this.Fs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)},t.prototype.Gs=function(t){var e=oa();return t.forEach((function(t,n){e=e.unionWith(n.activeTargetIds)})),e},t}(),yc=function(){function t(){this.li=new vc,this.fi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.li.Ds(t),this.fi[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.fi[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.li.Cs(t)},t.prototype.isLocalQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.fi[t]},t.prototype.getAllActiveQueryTargets=function(){return this.li.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.li.activeTargetIds.has(t)},t.prototype.start=function(){return this.li=new vc,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t.prototype.notifyBundleLoaded=function(){},t}(),bc=function(){function t(){}return t.prototype.di=function(t){},t.prototype.shutdown=function(){},t}(),wc=function(){function t(){var t=this;this.wi=function(){return t._i()},this.mi=function(){return t.yi()},this.gi=[],this.pi()}return t.prototype.di=function(t){this.gi.push(t)},t.prototype.shutdown=function(){window.removeEventListener("online",this.wi),window.removeEventListener("offline",this.mi)},t.prototype.pi=function(){window.addEventListener("online",this.wi),window.addEventListener("offline",this.mi)},t.prototype._i=function(){Cr("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(0)},t.prototype.yi=function(){Cr("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.gi;t<e.length;t++)(0,e[t])(1)},t.yt=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),_c={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Ec=function(){function t(t){this.Ei=t.Ei,this.Ti=t.Ti}return t.prototype.Ii=function(t){this.Ai=t},t.prototype.Ri=function(t){this.bi=t},t.prototype.onMessage=function(t){this.vi=t},t.prototype.close=function(){this.Ti()},t.prototype.send=function(t){this.Ei(t)},t.prototype.Pi=function(){this.Ai()},t.prototype.Vi=function(t){this.bi(t)},t.prototype.Si=function(t){this.vi(t)},t}(),Tc=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n}return(0,i.ZT)(e,t),e.prototype.Fi=function(t,e,n,r){return new Promise((function(i,o){var a=new wr;a.listenOnce(mr.COMPLETE,(function(){try{switch(a.getLastErrorCode()){case pr.NO_ERROR:var e=a.getResponseJson();Cr("Connection","XHR received:",JSON.stringify(e)),i(e);break;case pr.TIMEOUT:Cr("Connection",'RPC "'+t+'" timed out'),o(new Ir(Tr.DEADLINE_EXCEEDED,"Request time out"));break;case pr.HTTP_ERROR:var n=a.getStatus();if(Cr("Connection",'RPC "'+t+'" failed with status:',n,"response text:",a.getResponseText()),n>0){var r=a.getResponseJson().error;if(r&&r.status&&r.message){var s=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Tr).indexOf(e)>=0?e:Tr.UNKNOWN}(r.status);o(new Ir(s,r.message))}else o(new Ir(Tr.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Ir(Tr.UNAVAILABLE,"Connection failed."));break;default:Nr()}}finally{Cr("Connection",'RPC "'+t+'" completed.')}}));var s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))},e.prototype.Oi=function(t,e){var n=[this.Di,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=fr(),i=dr(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new yr({})),this.ki(a.initMessageHeaders,e),(0,o.uI)()||(0,o.b$)()||(0,o.d)()||(0,o.w1)()||(0,o.Mn)()||(0,o.ru)()||(a.httpHeadersOverwriteParam="$httpHeaders");var s=n.join("");Cr("Connection","Creating WebChannel: "+s,a);var u=r.createWebChannel(s,a),c=!1,l=!1,h=new Ec({Ei:function(t){l?Cr("Connection","Not sending because WebChannel is closed:",t):(c||(Cr("Connection","Opening WebChannel transport."),u.open(),c=!0),Cr("Connection","WebChannel sending:",t),u.send(t))},Ti:function(){return u.close()}}),f=function(t,e,n){t.listen(e,(function(t){try{n(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return f(u,br.EventType.OPEN,(function(){l||Cr("Connection","WebChannel transport opened.")})),f(u,br.EventType.CLOSE,(function(){l||(l=!0,Cr("Connection","WebChannel transport closed"),h.Vi())})),f(u,br.EventType.ERROR,(function(t){l||(l=!0,xr("Connection","WebChannel transport errored:",t),h.Vi(new Ir(Tr.UNAVAILABLE,"The operation could not be completed")))})),f(u,br.EventType.MESSAGE,(function(t){var e;if(!l){var n=t.data[0];Dr(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Cr("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=jo[t];if(void 0!==e)return Ho(e)}(o),s=i.message;void 0===a&&(a=Tr.INTERNAL,s="Unknown error status: "+o+" with message "+i.message),l=!0,h.Vi(new Ir(a,s)),u.close()}else Cr("Connection","WebChannel received:",n),h.Si(n)}})),f(i,vr.STAT_EVENT,(function(t){t.stat===gr.PROXY?Cr("Connection","Detected buffering proxy"):t.stat===gr.NOPROXY&&Cr("Connection","Detected no buffering proxy")})),setTimeout((function(){h.Pi()}),0),h},e}(function(){function t(t){this.databaseInfo=t,this.databaseId=t.databaseId;var e=t.ssl?"https":"http";this.Di=e+"://"+t.host,this.Ci="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return t.prototype.Ni=function(t,e,n,r){var i=this.xi(t,e);Cr("RestConnection","Sending: ",i,n);var o={};return this.ki(o,r),this.Fi(t,i,o,n).then((function(t){return Cr("RestConnection","Received: ",t),t}),(function(e){throw xr("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.$i=function(t,e,n,r){return this.Ni(t,e,n,r)},t.prototype.ki=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.10.1",t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])},t.prototype.xi=function(t,e){var n=_c[t];return this.Di+"/v1/"+e+":"+n},t}());function Ic(){return"undefined"!=typeof window?window:null}function Sc(){return"undefined"!=typeof document?document:null}function kc(t){return new ga(t,!0)}var Cc=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Se=t,this.timerId=e,this.Mi=n,this.Li=r,this.Bi=i,this.qi=0,this.Ui=null,this.Ki=Date.now(),this.reset()}return t.prototype.reset=function(){this.qi=0},t.prototype.Qi=function(){this.qi=this.Bi},t.prototype.ji=function(t){var e=this;this.cancel();var n=Math.floor(this.qi+this.Wi()),r=Math.max(0,Date.now()-this.Ki),i=Math.max(0,n-r);i>0&&Cr("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.qi+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Ui=this.Se.enqueueAfterDelay(this.timerId,i,(function(){return e.Ki=Date.now(),t()})),this.qi*=this.Li,this.qi<this.Mi&&(this.qi=this.Mi),this.qi>this.Bi&&(this.qi=this.Bi)},t.prototype.Gi=function(){null!==this.Ui&&(this.Ui.skipDelay(),this.Ui=null)},t.prototype.cancel=function(){null!==this.Ui&&(this.Ui.cancel(),this.Ui=null)},t.prototype.Wi=function(){return(Math.random()-.5)*this.qi},t}(),Ac=function(){function t(t,e,n,r,i,o){this.Se=t,this.zi=n,this.Hi=r,this.Ji=i,this.listener=o,this.state=0,this.Yi=0,this.Xi=null,this.stream=null,this.Zi=new Cc(t,e)}return t.prototype.tr=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.er=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.nr()},t.prototype.stop=function(){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return this.tr()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.sr=function(){this.state=0,this.Zi.reset()},t.prototype.ir=function(){var t=this;this.er()&&null===this.Xi&&(this.Xi=this.Se.enqueueAfterDelay(this.zi,6e4,(function(){return t.rr()})))},t.prototype.cr=function(t){this.ur(),this.stream.send(t)},t.prototype.rr=function(){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return this.er()?[2,this.close(0)]:[2]}))}))},t.prototype.ur=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},t.prototype.close=function(t,e){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return this.ur(),this.Zi.cancel(),this.Yi++,3!==t?this.Zi.reset():e&&e.code===Tr.RESOURCE_EXHAUSTED?(Ar(e.toString()),Ar("Using maximum backoff delay to prevent overloading the backend."),this.Zi.Qi()):e&&e.code===Tr.UNAUTHENTICATED&&this.Ji.invalidateToken(),null!==this.stream&&(this.ar(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Ri(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.ar=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.hr(this.Yi),n=this.Yi;this.Ji.getToken().then((function(e){t.Yi===n&&t.lr(e)}),(function(n){e((function(){var e=new Ir(Tr.UNKNOWN,"Fetching auth token failed: "+n.message);return t.dr(e)}))}))},t.prototype.lr=function(t){var e=this,n=this.hr(this.Yi);this.stream=this.wr(t),this.stream.Ii((function(){n((function(){return e.state=2,e.listener.Ii()}))})),this.stream.Ri((function(t){n((function(){return e.dr(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.nr=function(){var t=this;this.state=4,this.Zi.ji((function(){return(0,i.mG)(t,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.dr=function(t){return Cr("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.hr=function(t){var e=this;return function(n){e.Se.enqueueAndForget((function(){return e.Yi===t?n():(Cr("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),xc=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).R=i,a}return(0,i.ZT)(e,t),e.prototype.wr=function(t){return this.Hi.Oi("Listen",t)},e.prototype.onMessage=function(t){this.Zi.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Nr()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.I?(Dr(void 0===e||"string"==typeof e),Jr.fromBase64String(e||"")):(Dr(void 0===e||e instanceof Uint8Array),Jr.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=(s=e.targetChange.cause)&&function(t){var e=void 0===t.code?Tr.UNKNOWN:Ho(t.code);return new Ir(e,t.message||"")}(s);n=new la(r,i,o,a||null)}else if("documentChange"in e){e.documentChange,(r=e.documentChange).document,r.document.name,r.document.updateTime,i=Sa(t,r.document.name),o=_a(r.document.updateTime);var s=new _i({mapValue:{fields:r.document.fields}}),u=(a=Ti.newFoundDocument(i,o,s),r.targetIds||[]),c=r.removedTargetIds||[];n=new ua(u,c,a.key,a)}else if("documentDelete"in e)e.documentDelete,(r=e.documentDelete).document,i=Sa(t,r.document),o=r.readTime?_a(r.readTime):Br.min(),s=Ti.newNoDocument(i,o),a=r.removedTargetIds||[],n=new ua([],a,s.key,s);else if("documentRemove"in e)e.documentRemove,(r=e.documentRemove).document,i=Sa(t,r.document),o=r.removedTargetIds||[],n=new ua([],o,i,null);else{if(!("filter"in e))return Nr();e.filter;var l=e.filter;l.targetId,r=l.count||0,i=new qo(r),o=l.targetId,n=new ca(o,i)}return n}(this.R,t),n=function(t){if(!("targetChange"in t))return Br.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Br.min():e.readTime?_a(e.readTime):Br.min()}(t);return this.listener._r(e,n)},e.prototype.mr=function(t){var e={};e.database=Aa(this.R),e.addTarget=function(t,e){var n,r=e.target;return(n=Ai(r)?{documents:Pa(t,r)}:{query:La(t,r)}).targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=ba(t,e.resumeToken):e.snapshotVersion.compareTo(Br.min())>0&&(n.readTime=ya(t,e.snapshotVersion.toTimestamp())),n}(this.R,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Nr()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.R,t);n&&(e.labels=n),this.cr(e)},e.prototype.yr=function(t){var e={};e.database=Aa(this.R),e.removeTarget=t,this.cr(e)},e}(Ac),Oc=function(t){function e(e,n,r,i,o){var a=this;return(a=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).R=i,a.gr=!1,a}return(0,i.ZT)(e,t),Object.defineProperty(e.prototype,"pr",{get:function(){return this.gr},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.gr=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.ar=function(){this.gr&&this.Er([])},e.prototype.wr=function(t){return this.Hi.Oi("Write",t)},e.prototype.onMessage=function(t){if(Dr(!!t.streamToken),this.lastStreamToken=t.streamToken,this.gr){this.Zi.reset();var e=function(t,e){return t&&t.length>0?(Dr(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?_a(t.updateTime):_a(e);return n.isEqual(Br.min())&&(n=_a(e)),new Io(n,t.transformResults||[])}(t,e)}))):[]}(t.writeResults,t.commitTime),n=_a(t.commitTime);return this.listener.Tr(n,e)}return Dr(!t.writeResults||0===t.writeResults.length),this.gr=!0,this.listener.Ir()},e.prototype.Ar=function(){var t={};t.database=Aa(this.R),this.cr(t)},e.prototype.Er=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Da(e.R,t)}))};this.cr(n)},e}(Ac),Nc=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Hi=n,i.R=r,i.Rr=!1,i}return(0,i.ZT)(e,t),e.prototype.br=function(){if(this.Rr)throw new Ir(Tr.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.Ni=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.Ni(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Tr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Ir(Tr.UNKNOWN,t.toString())}))},e.prototype.$i=function(t,e,n){var r=this;return this.br(),this.credentials.getToken().then((function(i){return r.Hi.$i(t,e,n,i)})).catch((function(t){throw"FirebaseError"===t.name?(t.code===Tr.UNAUTHENTICATED&&r.credentials.invalidateToken(),t):new Ir(Tr.UNKNOWN,t.toString())}))},e.prototype.terminate=function(){this.Rr=!0},e}((function(){})),Dc=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.vr=0,this.Pr=null,this.Vr=!0}return t.prototype.Sr=function(){var t=this;0===this.vr&&(this.Dr("Unknown"),this.Pr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return t.Pr=null,t.Cr("Backend didn't respond within 10 seconds."),t.Dr("Offline"),Promise.resolve()})))},t.prototype.Nr=function(t){"Online"===this.state?this.Dr("Unknown"):(this.vr++,this.vr>=1&&(this.kr(),this.Cr("Connection failed 1 times. Most recent error: "+t.toString()),this.Dr("Offline")))},t.prototype.set=function(t){this.kr(),this.vr=0,"Online"===t&&(this.Vr=!1),this.Dr(t)},t.prototype.Dr=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.Cr=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Vr?(Ar(e),this.Vr=!1):Cr("OnlineStateTracker",e)},t.prototype.kr=function(){null!==this.Pr&&(this.Pr.cancel(),this.Pr=null)},t}(),Rc=function(t,e,n,r,o){var a=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Fr=[],this.$r=new Map,this.Or=new Set,this.Mr=[],this.Lr=o,this.Lr.di((function(t){n.enqueueAndForget((function(){return(0,i.mG)(a,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return qc(this)?(Cr("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return(0,i.mG)(this,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return(e=Rr(t)).Or.add(4),[4,Lc(e)];case 1:return n.sent(),e.Br.set("Unknown"),e.Or.delete(4),[4,Pc(e)];case 2:return n.sent(),[2]}}))}))}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this.Br=new Dc(n,r)};function Pc(t){return(0,i.mG)(this,void 0,void 0,(function(){var e,n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:if(!qc(t))return[3,4];e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Lc(t){return(0,i.mG)(this,void 0,void 0,(function(){var e,n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:e=0,n=t.Mr,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}}))}))}function Fc(t,e){var n=Rr(t);n.$r.has(e.targetId)||(n.$r.set(e.targetId,e),Vc(n)?Bc(n):rl(n).er()&&jc(n,e))}function Mc(t,e){var n=Rr(t),r=rl(n);n.$r.delete(e),r.er()&&Uc(n,e),0===n.$r.size&&(r.er()?r.ir():qc(n)&&n.Br.set("Unknown"))}function jc(t,e){t.qr.U(e.targetId),rl(t).mr(e)}function Uc(t,e){t.qr.U(e),rl(t).yr(e)}function Bc(t){t.qr=new fa({getRemoteKeysForTarget:function(e){return t.remoteSyncer.getRemoteKeysForTarget(e)},lt:function(e){return t.$r.get(e)||null}}),rl(t).start(),t.Br.Sr()}function Vc(t){return qc(t)&&!rl(t).tr()&&t.$r.size>0}function qc(t){return 0===Rr(t).Or.size}function Gc(t){t.qr=void 0}function Hc(t){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){return t.$r.forEach((function(e,n){jc(t,e)})),[2]}))}))}function Kc(t,e){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(n){return Gc(t),Vc(t)?(t.Br.Nr(e),Bc(t)):t.Br.set("Unknown"),[2]}))}))}function zc(t,e,n){return(0,i.mG)(this,void 0,void 0,(function(){var r,o,a;return(0,i.Jh)(this,(function(s){switch(s.label){case 0:if(t.Br.set("Online"),!(e instanceof la&&2===e.state&&e.cause))return[3,6];s.label=1;case 1:return s.trys.push([1,3,,5]),[4,function(t,e){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o,a;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:n=e.cause,r=0,o=e.targetIds,i.label=1;case 1:return r<o.length?(a=o[r],t.$r.has(a)?[4,t.remoteSyncer.rejectListen(a,n)]:[3,3]):[3,5];case 2:i.sent(),t.$r.delete(a),t.qr.removeTarget(a),i.label=3;case 3:i.label=4;case 4:return r++,[3,1];case 5:return[2]}}))}))}(t,e)];case 2:return s.sent(),[3,5];case 3:return r=s.sent(),Cr("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Wc(t,r)];case 4:return s.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof ua?t.qr.X(e):e instanceof ca?t.qr.rt(e):t.qr.et(e),n.isEqual(Br.min()))return[3,13];s.label=7;case 7:return s.trys.push([7,11,,13]),[4,Bu(t.localStore)];case 8:return o=s.sent(),n.compareTo(o)>=0?[4,function(t,e){var n=t.qr.ut(e);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=t.$r.get(r);i&&t.$r.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((function(e){var n=t.$r.get(e);if(n){t.$r.set(e,n.withResumeToken(Jr.EMPTY_BYTE_STRING,n.snapshotVersion)),Uc(t,e);var r=new Ds(n.target,e,1,n.sequenceNumber);jc(t,r)}})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)]:[3,10];case 9:s.sent(),s.label=10;case 10:return[3,13];case 11:return Cr("RemoteStore","Failed to raise snapshot:",a=s.sent()),[4,Wc(t,a)];case 12:return s.sent(),[3,13];case 13:return[2]}}))}))}function Wc(t,e,n){return(0,i.mG)(this,void 0,void 0,(function(){var r=this;return(0,i.Jh)(this,(function(o){switch(o.label){case 0:if(!Ts(e))throw e;return t.Or.add(1),[4,Lc(t)];case 1:return o.sent(),t.Br.set("Offline"),n||(n=function(){return Bu(t.localStore)}),t.asyncQueue.enqueueRetryable((function(){return(0,i.mG)(r,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){switch(e.label){case 0:return Cr("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Or.delete(1),[4,Pc(t)];case 2:return e.sent(),[2]}}))}))})),[2]}}))}))}function Zc(t,e){return e().catch((function(n){return Wc(t,n,e)}))}function Jc(t){return(0,i.mG)(this,void 0,void 0,(function(){var e,n,r,o,a;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:e=Rr(t),n=il(e),r=e.Fr.length>0?e.Fr[e.Fr.length-1].batchId:-1,i.label=1;case 1:if(!function(t){return qc(t)&&t.Fr.length<10}(e))return[3,7];i.label=2;case 2:return i.trys.push([2,4,,6]),[4,Gu(e.localStore,r)];case 3:return null===(o=i.sent())?(0===e.Fr.length&&n.ir(),[3,7]):(r=o.batchId,function(t,e){t.Fr.push(e);var n=il(t);n.er()&&n.pr&&n.Er(e.mutations)}(e,o),[3,6]);case 4:return a=i.sent(),[4,Wc(e,a)];case 5:return i.sent(),[3,6];case 6:return[3,1];case 7:return Xc(e)&&Yc(e),[2]}}))}))}function Xc(t){return qc(t)&&!il(t).tr()&&t.Fr.length>0}function Yc(t){il(t).start()}function $c(t){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){return il(t).Ar(),[2]}))}))}function Qc(t){return(0,i.mG)(this,void 0,void 0,(function(){var e,n,r,o;return(0,i.Jh)(this,(function(i){for(e=il(t),n=0,r=t.Fr;n<r.length;n++)o=r[n],e.Er(o.mutations);return[2]}))}))}function tl(t,e,n){return(0,i.mG)(this,void 0,void 0,(function(){var r,o;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return r=t.Fr.shift(),o=Ns.from(r,e,n),[4,Zc(t,(function(){return t.remoteSyncer.applySuccessfulWrite(o)}))];case 1:return i.sent(),[4,Jc(t)];case 2:return i.sent(),[2]}}))}))}function el(t,e){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return e&&il(t).pr?[4,function(t,e){return(0,i.mG)(this,void 0,void 0,(function(){var n,r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return Go(r=e.code)&&r!==Tr.ABORTED?(n=t.Fr.shift(),il(t).sr(),[4,Zc(t,(function(){return t.remoteSyncer.rejectFailedWrite(n.batchId,e)}))]):[3,3];case 1:return i.sent(),[4,Jc(t)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Xc(t)&&Yc(t),[2]}}))}))}function nl(t,e){return(0,i.mG)(this,void 0,void 0,(function(){var n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return n=Rr(t),e?(n.Or.delete(2),[4,Pc(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Or.add(2),[4,Lc(n)]);case 3:r.sent(),n.Br.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}}))}))}function rl(t){var e=this;return t.Ur||(t.Ur=function(t,e,n){var r=Rr(t);return r.br(),new xc(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:Hc.bind(null,t),Ri:Kc.bind(null,t),_r:zc.bind(null,t)}),t.Mr.push((function(n){return(0,i.mG)(e,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){switch(e.label){case 0:return n?(t.Ur.sr(),Vc(t)?Bc(t):t.Br.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Ur.stop()];case 2:e.sent(),Gc(t),e.label=3;case 3:return[2]}}))}))}))),t.Ur}function il(t){var e=this;return t.Kr||(t.Kr=function(t,e,n){var r=Rr(t);return r.br(),new Oc(e,r.Hi,r.credentials,r.R,n)}(t.datastore,t.asyncQueue,{Ii:$c.bind(null,t),Ri:el.bind(null,t),Ir:Qc.bind(null,t),Tr:tl.bind(null,t)}),t.Mr.push((function(n){return(0,i.mG)(e,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){switch(e.label){case 0:return n?(t.Kr.sr(),[4,Jc(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Kr.stop()];case 3:e.sent(),t.Fr.length>0&&(Cr("RemoteStore","Stopping write stream with "+t.Fr.length+" pending writes"),t.Fr=[]),e.label=4;case 4:return[2]}}))}))}))),t.Kr}var ol=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new gs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(t){}))}return t.createAndSchedule=function(e,n,r,i,o){var a=new t(e,n,Date.now()+r,i,o);return a.start(r),a},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout((function(){return e.handleDelayElapsed()}),t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ir(Tr.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget((function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then((function(e){return t.deferred.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}();function al(t,e){if(Ar("AsyncQueue",e+": "+t),Ts(t))return new Ir(Tr.UNAVAILABLE,e+": "+t);throw t}var sl=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||ai.comparator(e.key,n.key)}:function(t,e){return ai.comparator(t.key,e.key)},this.keyedMap=Qo(),this.sortedSet=new Ko(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}(),ul=function(){function t(){this.Qr=new Ko(ai.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.Qr.get(e);n?0!==t.type&&3===n.type?this.Qr=this.Qr.insert(e,t):3===t.type&&1!==n.type?this.Qr=this.Qr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Qr=this.Qr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Qr=this.Qr.remove(e):1===t.type&&2===n.type?this.Qr=this.Qr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Qr=this.Qr.insert(e,{type:2,doc:t.doc}):Nr():this.Qr=this.Qr.insert(e,t)},t.prototype.jr=function(){var t=[];return this.Qr.inorderTraversal((function(e,n){t.push(n)})),t},t}(),cl=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,sl.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&eo(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),ll=function(){this.Wr=void 0,this.listeners=[]},hl=function(){this.queries=new yu((function(t){return no(t)}),eo),this.onlineState="Unknown",this.Gr=new Set};function fl(t,e){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o,a,s,u,c;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:if(n=Rr(t),r=e.query,o=!1,(a=n.queries.get(r))||(o=!0,a=new ll),!o)return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),s=a,[4,n.onListen(r)];case 2:return s.Wr=i.sent(),[3,4];case 3:return u=i.sent(),c=al(u,"Initialization of query '"+ro(e.query)+"' failed"),[2,void e.onError(c)];case 4:return n.queries.set(r,a),a.listeners.push(e),e.zr(n.onlineState),a.Wr&&e.Hr(a.Wr)&&vl(n),[2]}}))}))}function dl(t,e){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o,a,s;return(0,i.Jh)(this,(function(i){return n=Rr(t),r=e.query,o=!1,(a=n.queries.get(r))&&(s=a.listeners.indexOf(e))>=0&&(a.listeners.splice(s,1),o=0===a.listeners.length),o?[2,(n.queries.delete(r),n.onUnlisten(r))]:[2]}))}))}function pl(t,e){for(var n=Rr(t),r=!1,i=0,o=e;i<o.length;i++){var a=o[i],s=a.query,u=n.queries.get(s);if(u){for(var c=0,l=u.listeners;c<l.length;c++)l[c].Hr(a)&&(r=!0);u.Wr=a}}r&&vl(n)}function ml(t,e,n){var r=Rr(t),i=r.queries.get(e);if(i)for(var o=0,a=i.listeners;o<a.length;o++)a[o].onError(n);r.queries.delete(e)}function vl(t){t.Gr.forEach((function(t){t.next()}))}var gl=function(){function t(t,e,n){this.query=t,this.Jr=e,this.Yr=!1,this.Xr=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Hr=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new cl(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}var o=!1;return this.Yr?this.Zr(t)&&(this.Jr.next(t),o=!0):this.eo(t,this.onlineState)&&(this.no(t),o=!0),this.Xr=t,o},t.prototype.onError=function(t){this.Jr.error(t)},t.prototype.zr=function(t){this.onlineState=t;var e=!1;return this.Xr&&!this.Yr&&this.eo(this.Xr,t)&&(this.no(this.Xr),e=!0),e},t.prototype.eo=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.so&&n||t.docs.isEmpty()&&"Offline"!==e)},t.prototype.Zr=function(t){if(t.docChanges.length>0)return!0;var e=this.Xr&&this.Xr.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.no=function(t){t=cl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.Yr=!0,this.Jr.next(t)},t}(),yl=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.io=function(){return"metadata"in this.payload},t}(),bl=function(){function t(t){this.R=t}return t.prototype.qn=function(t){return Sa(this.R,t)},t.prototype.Un=function(t){return t.metadata.exists?Na(this.R,t.document,!1):Ti.newNoDocument(this.qn(t.metadata.name),this.Kn(t.metadata.readTime))},t.prototype.Kn=function(t){return _a(t)},t}();!function(){function t(t,e,n){this.ro=t,this.localStore=e,this.R=n,this.queries=[],this.documents=[],this.progress=wl(t)}t.prototype.oo=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.co=function(t){for(var e=new Map,n=new bl(this.R),r=0,i=t;r<i.length;r++){var o=i[r];if(o.metadata.queries)for(var a=n.qn(o.metadata.name),s=0,u=o.metadata.queries;s<u.length;s++){var c=u[s],l=(e.get(c)||ra()).add(a);e.set(c,l)}}return e},t.prototype.complete=function(){return(0,i.mG)(this,void 0,void 0,(function(){var t,e,n,r,o;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return[4,Xu(this.localStore,new bl(this.R),this.documents,this.ro.id)];case 1:t=i.sent(),e=this.co(this.documents),n=0,r=this.queries,i.label=2;case 2:return n<r.length?(o=r[n],[4,Yu(this.localStore,o,e.get(o.name))]):[3,5];case 3:i.sent(),i.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Du(Object.assign({},this.progress),t))]}}))}))}}();function wl(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}var _l=function(t){this.key=t},El=function(t){this.key=t},Tl=function(){function t(t,e){this.query=t,this.uo=e,this.ao=null,this.current=!1,this.ho=ra(),this.mutatedKeys=ra(),this.lo=oo(t),this.fo=new sl(this.lo)}return Object.defineProperty(t.prototype,"wo",{get:function(){return this.uo},enumerable:!1,configurable:!0}),t.prototype._o=function(t,e){var n=this,r=e?e.mo:new ul,i=e?e.fo:this.fo,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=Wi(this.query)&&i.size===this.query.limit?i.last():null,c=Zi(this.query)&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((function(t,e){var l=i.get(t),h=io(n.query,e)?e:null,f=!!l&&n.mutatedKeys.has(l.key),d=!!h&&(h.hasLocalMutations||n.mutatedKeys.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data.isEqual(h.data)?f!==d&&(r.track({type:3,doc:h}),p=!0):n.yo(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.lo(h,u)>0||c&&n.lo(h,c)<0)&&(s=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(h?(a=a.add(h),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))})),Wi(this.query)||Zi(this.query))for(;a.size>this.query.limit;){var l=Wi(this.query)?a.last():a.first();a=a.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{fo:a,mo:r,Nn:s,mutatedKeys:o}},t.prototype.yo=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this,i=this.fo;this.fo=t.fo,this.mutatedKeys=t.mutatedKeys;var o=t.mo.jr();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nr()}};return n(t)-n(e)}(t.type,e.type)||r.lo(t.doc,e.doc)})),this.po(n);var a=e?this.Eo():[],s=0===this.ho.size&&this.current?1:0,u=s!==this.ao;return this.ao=s,0!==o.length||u?{snapshot:new cl(this.query,t.fo,i,o,t.mutatedKeys,0===s,u,!1),To:a}:{To:a}},t.prototype.zr=function(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({fo:this.fo,mo:new ul,mutatedKeys:this.mutatedKeys,Nn:!1},!1)):{To:[]}},t.prototype.Io=function(t){return!this.uo.has(t)&&!!this.fo.has(t)&&!this.fo.get(t).hasLocalMutations},t.prototype.po=function(t){var e=this;t&&(t.addedDocuments.forEach((function(t){return e.uo=e.uo.add(t)})),t.modifiedDocuments.forEach((function(t){})),t.removedDocuments.forEach((function(t){return e.uo=e.uo.delete(t)})),this.current=t.current)},t.prototype.Eo=function(){var t=this;if(!this.current)return[];var e=this.ho;this.ho=ra(),this.fo.forEach((function(e){t.Io(e.key)&&(t.ho=t.ho.add(e.key))}));var n=[];return e.forEach((function(e){t.ho.has(e)||n.push(new El(e))})),this.ho.forEach((function(t){e.has(t)||n.push(new _l(t))})),n},t.prototype.Ao=function(t){this.uo=t.Bn,this.ho=ra();var e=this._o(t.documents);return this.applyChanges(e,!0)},t.prototype.Ro=function(){return cl.fromInitialDocuments(this.query,this.fo,this.mutatedKeys,0===this.ao)},t}(),Il=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Sl=function(t){this.key=t,this.bo=!1},kl=function(){function t(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.vo={},this.Po=new yu((function(t){return no(t)}),eo),this.Vo=new Map,this.So=new Set,this.Do=new Ko(ai.comparator),this.Co=new Map,this.No=new Qu,this.xo={},this.ko=new Map,this.Fo=au.Yt(),this.onlineState="Unknown",this.$o=void 0}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.$o},enumerable:!1,configurable:!0}),t}();function Cl(t,e){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o,a,s,u;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return n=nh(t),(a=n.Po.get(e))?(r=a.targetId,n.sharedClientState.addLocalQueryTarget(r),o=a.view.Ro(),[3,4]):[3,1];case 1:return[4,Hu(n.localStore,Qi(e))];case 2:return s=i.sent(),u=n.sharedClientState.addLocalQueryTarget(s.targetId),r=s.targetId,[4,Al(n,e,r,"current"===u)];case 3:o=i.sent(),n.isPrimaryClient&&Fc(n.remoteStore,s),i.label=4;case 4:return[2,o]}}))}))}function Al(t,e,n,r){return(0,i.mG)(this,void 0,void 0,(function(){var o,a,s,u,c,l;return(0,i.Jh)(this,(function(h){switch(h.label){case 0:return t.Oo=function(e,n,r){return function(t,e,n,r){return(0,i.mG)(this,void 0,void 0,(function(){var o,a,s;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return(o=e.view._o(n)).Nn?[4,zu(t.localStore,e.query,!1).then((function(t){var n=t.documents;return e.view._o(n,o)}))]:[3,2];case 1:o=i.sent(),i.label=2;case 2:return a=r&&r.targetChanges.get(e.targetId),s=e.view.applyChanges(o,t.isPrimaryClient,a),[2,(Vl(t,e.targetId,s.To),s.snapshot)]}}))}))}(t,e,n,r)},[4,zu(t.localStore,e,!0)];case 1:return o=h.sent(),a=new Tl(e,o.Bn),s=a._o(o.documents),u=sa.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),c=a.applyChanges(s,t.isPrimaryClient,u),Vl(t,n,c.To),l=new Il(e,n,a),[2,(t.Po.set(e,l),t.Vo.has(n)?t.Vo.get(n).push(e):t.Vo.set(n,[e]),c.snapshot)]}}))}))}function xl(t,e){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return n=Rr(t),r=n.Po.get(e),(o=n.Vo.get(r.targetId)).length>1?[2,(n.Vo.set(r.targetId,o.filter((function(t){return!eo(t,e)}))),void n.Po.delete(e))]:n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)?[3,2]:[4,Ku(n.localStore,r.targetId,!1).then((function(){n.sharedClientState.clearQueryState(r.targetId),Mc(n.remoteStore,r.targetId),Ul(n,r.targetId)})).catch(hu)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return Ul(n,r.targetId),[4,Ku(n.localStore,r.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))}function Ol(t,e,n){return(0,i.mG)(this,void 0,void 0,(function(){var r,o,a,s;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:r=rh(t),i.label=1;case 1:return i.trys.push([1,5,,6]),[4,function(t,e){var n,r=Rr(t),i=Ur.now(),o=e.reduce((function(t,e){return t.add(e.key)}),ra());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(t){return r.Mn.pn(t,o).next((function(o){n=o;for(var a=[],s=0,u=e;s<u.length;s++){var c=u[s],l=Oo(c,n.get(c.key));null!=l&&a.push(new Po(c.key,l,Ei(l.value.mapValue),So.exists(!0)))}return r._n.addMutationBatch(t,i,a,e)}))})).then((function(t){return t.applyToLocalDocumentSet(n),{batchId:t.batchId,changes:n}}))}(r.localStore,e)];case 2:return o=i.sent(),r.sharedClientState.addPendingMutation(o.batchId),function(t,e,n){var r=t.xo[t.currentUser.toKey()];r||(r=new Ko(Fr)),r=r.insert(e,n),t.xo[t.currentUser.toKey()]=r}(r,o.batchId,n),[4,Hl(r,o.changes)];case 3:return i.sent(),[4,Jc(r.remoteStore)];case 4:return i.sent(),[3,6];case 5:return a=i.sent(),s=al(a,"Failed to persist write"),n.reject(s),[3,6];case 6:return[2]}}))}))}function Nl(t,e){return(0,i.mG)(this,void 0,void 0,(function(){var n,r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:n=Rr(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Vu(n.localStore,e)];case 2:return r=i.sent(),e.targetChanges.forEach((function(t,e){var r=n.Co.get(e);r&&(Dr(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.bo=!0:t.modifiedDocuments.size>0?Dr(r.bo):t.removedDocuments.size>0&&(Dr(r.bo),r.bo=!1))})),[4,Hl(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,hu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Dl(t,e,n){var r=Rr(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.Po.forEach((function(t,n){var r=n.view.zr(e);r.snapshot&&i.push(r.snapshot)})),function(t,e){var n=Rr(t);n.onlineState=e;var r=!1;n.queries.forEach((function(t,n){for(var i=0,o=n.listeners;i<o.length;i++)o[i].zr(e)&&(r=!0)})),r&&vl(n)}(r.eventManager,e),i.length&&r.vo._r(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Rl(t,e,n){return(0,i.mG)(this,void 0,void 0,(function(){var r,o,a,s,u,c;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return(r=Rr(t)).sharedClientState.updateQueryState(e,"rejected",n),o=r.Co.get(e),(a=o&&o.key)?(s=(s=new Ko(ai.comparator)).insert(a,Ti.newNoDocument(a,Br.min())),u=ra().add(a),c=new aa(Br.min(),new Map,new Zo(Fr),s,u),[4,Nl(r,c)]):[3,2];case 1:return i.sent(),r.Do=r.Do.remove(a),r.Co.delete(e),Gl(r),[3,4];case 2:return[4,Ku(r.localStore,e,!1).then((function(){return Ul(r,e,n)})).catch(hu)];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))}function Pl(t,e){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:n=Rr(t),r=e.batch.batchId,i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Uu(n.localStore,e)];case 2:return o=i.sent(),jl(n,r,null),Ml(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),[4,Hl(n,o)];case 3:return i.sent(),[3,6];case 4:return[4,hu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Ll(t,e,n){return(0,i.mG)(this,void 0,void 0,(function(){var r,o;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:r=Rr(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,function(t,e){var n=Rr(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(t){var r;return n._n.lookupMutationBatch(t,e).next((function(e){return Dr(null!==e),r=e.keys(),n._n.removeMutationBatch(t,e)})).next((function(){return n._n.performConsistencyCheck(t)})).next((function(){return n.Mn.pn(t,r)}))}))}(r.localStore,e)];case 2:return o=i.sent(),jl(r,e,n),Ml(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),[4,Hl(r,o)];case 3:return i.sent(),[3,6];case 4:return[4,hu(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}}))}))}function Fl(t,e){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o,a,s;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:qc((n=Rr(t)).remoteStore)||Cr("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,function(t){var e=Rr(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(t){return e._n.getHighestUnacknowledgedBatchId(t)}))}(n.localStore)];case 2:return-1===(r=i.sent())?[2,void e.resolve()]:((o=n.ko.get(r)||[]).push(e),n.ko.set(r,o),[3,4]);case 3:return a=i.sent(),s=al(a,"Initialization of waitForPendingWrites() operation failed"),e.reject(s),[3,4];case 4:return[2]}}))}))}function Ml(t,e){(t.ko.get(e)||[]).forEach((function(t){t.resolve()})),t.ko.delete(e)}function jl(t,e,n){var r=Rr(t),i=r.xo[r.currentUser.toKey()];if(i){var o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.xo[r.currentUser.toKey()]=i}}function Ul(t,e,n){void 0===n&&(n=null),t.sharedClientState.removeLocalQueryTarget(e);for(var r=0,i=t.Vo.get(e);r<i.length;r++){var o=i[r];t.Po.delete(o),n&&t.vo.Mo(o,n)}t.Vo.delete(e),t.isPrimaryClient&&t.No.Zn(e).forEach((function(e){t.No.containsKey(e)||Bl(t,e)}))}function Bl(t,e){t.So.delete(e.path.canonicalString());var n=t.Do.get(e);null!==n&&(Mc(t.remoteStore,n),t.Do=t.Do.remove(e),t.Co.delete(n),Gl(t))}function Vl(t,e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r];o instanceof _l?(t.No.addReference(o.key,e),ql(t,o)):o instanceof El?(Cr("SyncEngine","Document no longer in limbo: "+o.key),t.No.removeReference(o.key,e),t.No.containsKey(o.key)||Bl(t,o.key)):Nr()}}function ql(t,e){var n=e.key,r=n.path.canonicalString();t.Do.get(n)||t.So.has(r)||(Cr("SyncEngine","New document in limbo: "+n),t.So.add(r),Gl(t))}function Gl(t){for(;t.So.size>0&&t.Do.size<t.maxConcurrentLimboResolutions;){var e=t.So.values().next().value;t.So.delete(e);var n=new ai(Kr.fromString(e)),r=t.Fo.next();t.Co.set(r,new Sl(n)),t.Do=t.Do.insert(n,r),Fc(t.remoteStore,new Ds(Qi(zi(n.path)),r,2,Er.o))}}function Hl(t,e,n){return(0,i.mG)(this,void 0,void 0,(function(){var r,o,a,s;return(0,i.Jh)(this,(function(u){switch(u.label){case 0:return r=Rr(t),o=[],a=[],s=[],r.Po.isEmpty()?[3,3]:(r.Po.forEach((function(t,i){s.push(r.Oo(i,e,n).then((function(t){if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(i.targetId,t.fromCache?"not-current":"current"),o.push(t);var e=Pu.Pn(i.targetId,t);a.push(e)}})))})),[4,Promise.all(s)]);case 1:return u.sent(),r.vo._r(o),[4,function(t,e){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o,a,s,u,c,l,h;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:n=Rr(t),i.label=1;case 1:return i.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(t){return ys.forEach(e,(function(e){return ys.forEach(e.bn,(function(r){return n.persistence.referenceDelegate.addReference(t,e.targetId,r)})).next((function(){return ys.forEach(e.vn,(function(r){return n.persistence.referenceDelegate.removeReference(t,e.targetId,r)}))}))}))}))];case 2:return i.sent(),[3,4];case 3:if(!Ts(r=i.sent()))throw r;return Cr("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(o=0,a=e;o<a.length;o++)s=a[o],u=s.targetId,s.fromCache||(c=n.kn.get(u),l=c.snapshotVersion,h=c.withLastLimboFreeSnapshotVersion(l),n.kn=n.kn.insert(u,h));return[2]}}))}))}(r.localStore,a)];case 2:u.sent(),u.label=3;case 3:return[2]}}))}))}function Kl(t,e){return(0,i.mG)(this,void 0,void 0,(function(){var n,r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return(n=Rr(t)).currentUser.isEqual(e)?[3,3]:(Cr("SyncEngine","User change. New user:",e.toKey()),[4,ju(n.localStore,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.ko.forEach((function(t){t.forEach((function(t){t.reject(new Ir(Tr.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.ko.clear()}(n),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),[4,Hl(n,r.Ln)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function zl(t,e){var n=Rr(t),r=n.Co.get(e);if(r&&r.bo)return ra().add(r.key);var i=ra(),o=n.Vo.get(e);if(!o)return i;for(var a=0,s=o;a<s.length;a++){var u=s[a],c=n.Po.get(u);i=i.unionWith(c.view.wo)}return i}function Wl(t,e){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return[4,zu((n=Rr(t)).localStore,e.query,!0)];case 1:return r=i.sent(),o=e.view.Ao(r),[2,(n.isPrimaryClient&&Vl(n,e.targetId,o.To),o)]}}))}))}function Zl(t){return(0,i.mG)(this,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(n){return[2,Zu((e=Rr(t)).localStore).then((function(t){return Hl(e,t)}))]}))}))}function Jl(t,e,n,r){return(0,i.mG)(this,void 0,void 0,(function(){var o,a;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return[4,function(t,e){var n=Rr(t),r=Rr(n._n);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.jt(t,e).next((function(e){return e?n.Mn.pn(t,e):ys.resolve(null)}))}))}((o=Rr(t)).localStore,e)];case 1:return null===(a=i.sent())?[3,6]:"pending"!==n?[3,3]:[4,Jc(o.remoteStore)];case 2:return i.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(jl(o,e,r||null),Ml(o,e),function(t,e){Rr(Rr(t)._n).Gt(e)}(o.localStore,e)):Nr(),i.label=4;case 4:return[4,Hl(o,a)];case 5:return i.sent(),[3,7];case 6:Cr("SyncEngine","Cannot apply mutation batch with id: "+e),i.label=7;case 7:return[2]}}))}))}function Xl(t,e){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o,a,s,u,c,l;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return nh(n=Rr(t)),rh(n),!0!==e||!0===n.$o?[3,3]:(r=n.sharedClientState.getAllActiveQueryTargets(),[4,Yl(n,r.toArray())]);case 1:return o=i.sent(),n.$o=!0,[4,nl(n.remoteStore,!0)];case 2:for(i.sent(),a=0,s=o;a<s.length;a++)u=s[a],Fc(n.remoteStore,u);return[3,7];case 3:return!1!==e||!1===n.$o?[3,7]:(c=[],l=Promise.resolve(),n.Vo.forEach((function(t,e){n.sharedClientState.isLocalQueryTarget(e)?c.push(e):l=l.then((function(){return Ul(n,e),Ku(n.localStore,e,!0)})),Mc(n.remoteStore,e)})),[4,l]);case 4:return i.sent(),[4,Yl(n,c)];case 5:return i.sent(),function(t){var e=Rr(t);e.Co.forEach((function(t,n){Mc(e.remoteStore,n)})),e.No.ts(),e.Co=new Map,e.Do=new Ko(ai.comparator)}(n),n.$o=!1,[4,nl(n.remoteStore,!1)];case 6:i.sent(),i.label=7;case 7:return[2]}}))}))}function Yl(t,e,n){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o,a,s,u,c,l,h,f,d,p,m,v;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:n=Rr(t),r=[],o=[],a=0,s=e,i.label=1;case 1:return a<s.length?(u=s[a],c=void 0,(l=n.Vo.get(u))&&0!==l.length?[4,Hu(n.localStore,Qi(l[0]))]:[3,7]):[3,13];case 2:c=i.sent(),h=0,f=l,i.label=3;case 3:return h<f.length?(d=f[h],p=n.Po.get(d),[4,Wl(n,p)]):[3,6];case 4:(m=i.sent()).snapshot&&o.push(m.snapshot),i.label=5;case 5:return h++,[3,3];case 6:return[3,11];case 7:return[4,Wu(n.localStore,u)];case 8:return v=i.sent(),[4,Hu(n.localStore,v)];case 9:return c=i.sent(),[4,Al(n,$l(v),u,!1)];case 10:i.sent(),i.label=11;case 11:r.push(c),i.label=12;case 12:return a++,[3,1];case 13:return[2,(n.vo._r(o),r)]}}))}))}function $l(t){return Ki(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Ql(t){var e=Rr(t);return Rr(Rr(e.localStore).persistence).fn()}function th(t,e,n,r){return(0,i.mG)(this,void 0,void 0,(function(){var o,a,s;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return(o=Rr(t)).$o?(Cr("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!o.Vo.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Zu(o.localStore)];case 3:return a=i.sent(),s=aa.createSynthesizedRemoteEventForCurrentChange(e,"current"===n),[4,Hl(o,a,s)];case 4:return i.sent(),[3,8];case 5:return[4,Ku(o.localStore,e,!0)];case 6:return i.sent(),Ul(o,e,r),[3,8];case 7:Nr(),i.label=8;case 8:return[2]}}))}))}function eh(t,e,n){return(0,i.mG)(this,void 0,void 0,(function(){var r,o,a,s,u,c,l,h,f,d;return(0,i.Jh)(this,(function(p){switch(p.label){case 0:if(!(r=nh(t)).$o)return[3,10];o=0,a=e,p.label=1;case 1:return o<a.length?(s=a[o],r.Vo.has(s)?(Cr("SyncEngine","Adding an already active target "+s),[3,5]):[4,Wu(r.localStore,s)]):[3,6];case 2:return u=p.sent(),[4,Hu(r.localStore,u)];case 3:return c=p.sent(),[4,Al(r,$l(u),c.targetId,!1)];case 4:p.sent(),Fc(r.remoteStore,c),p.label=5;case 5:return o++,[3,1];case 6:l=function(t){return(0,i.Jh)(this,(function(e){switch(e.label){case 0:return r.Vo.has(t)?[4,Ku(r.localStore,t,!1).then((function(){Mc(r.remoteStore,t),Ul(r,t)})).catch(hu)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},h=0,f=n,p.label=7;case 7:return h<f.length?(d=f[h],[5,l(d)]):[3,10];case 8:p.sent(),p.label=9;case 9:return h++,[3,7];case 10:return[2]}}))}))}function nh(t){var e=Rr(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Nl.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zl.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Rl.bind(null,e),e.vo._r=pl.bind(null,e.eventManager),e.vo.Mo=ml.bind(null,e.eventManager),e}function rh(t){var e=Rr(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Pl.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ll.bind(null,e),e}var ih=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){switch(e.label){case 0:return this.R=kc(t.databaseInfo.databaseId),this.sharedClientState=this.Bo(t),this.persistence=this.qo(t),[4,this.persistence.start()];case 1:return e.sent(),this.gcScheduler=this.Uo(t),this.localStore=this.Ko(t),[2]}}))}))},t.prototype.Uo=function(t){return null},t.prototype.Ko=function(t){return Mu(this.persistence,new Lu,t.initialUser,this.R)},t.prototype.qo=function(t){return new oc(sc.bs,this.R)},t.prototype.Bo=function(t){return new yc},t.prototype.terminate=function(){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return this.gcScheduler&&this.gcScheduler.stop(),[4,this.sharedClientState.shutdown()];case 1:return t.sent(),[4,this.persistence.shutdown()];case 2:return t.sent(),[2]}}))}))},t}(),oh=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Qo=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return(0,i.ZT)(e,t),e.prototype.initialize=function(e){return(0,i.mG)(this,void 0,void 0,(function(){var n=this;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return r.sent(),[4,Ju(this.localStore)];case 2:return r.sent(),[4,this.Qo.initialize(this,e)];case 3:return r.sent(),[4,rh(this.Qo.syncEngine)];case 4:return r.sent(),[4,Jc(this.Qo.remoteStore)];case 5:return r.sent(),[4,this.persistence.He((function(){return n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()}))];case 6:return r.sent(),[2]}}))}))},e.prototype.Ko=function(t){return Mu(this.persistence,new Lu,t.initialUser,this.R)},e.prototype.Uo=function(t){var e=this.persistence.referenceDelegate.garbageCollector;return new pu(e,t.asyncQueue)},e.prototype.qo=function(t){var e=Nu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?$s.withCacheSize(this.cacheSizeBytes):$s.DEFAULT;return new Au(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,Ic(),Sc(),this.R,this.sharedClientState,!!this.forceOwnership)},e.prototype.Bo=function(t){return new yc},e}(ih),ah=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Qo=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return(0,i.ZT)(e,t),e.prototype.initialize=function(e){return(0,i.mG)(this,void 0,void 0,(function(){var n,r=this;return(0,i.Jh)(this,(function(o){switch(o.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return o.sent(),n=this.Qo.syncEngine,this.sharedClientState instanceof gc?(this.sharedClientState.syncEngine={ui:Jl.bind(null,n),ai:th.bind(null,n),hi:eh.bind(null,n),fn:Ql.bind(null,n),ci:Zl.bind(null,n)},[4,this.sharedClientState.start()]):[3,3];case 2:o.sent(),o.label=3;case 3:return[4,this.persistence.He((function(t){return(0,i.mG)(r,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){switch(e.label){case 0:return[4,Xl(this.Qo.syncEngine,t)];case 1:return e.sent(),this.gcScheduler&&(t&&!this.gcScheduler.started?this.gcScheduler.start(this.localStore):t||this.gcScheduler.stop()),[2]}}))}))}))];case 4:return o.sent(),[2]}}))}))},e.prototype.Bo=function(t){var e=Ic();if(!gc.yt(e))throw new Ir(Tr.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Nu(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new gc(e,t.asyncQueue,n,t.clientId,t.initialUser)},e}(oh),sh=function(){function t(){}return t.prototype.initialize=function(t,e){return(0,i.mG)(this,void 0,void 0,(function(){var n=this;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return this.localStore?[3,2]:(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(t){return Dl(n.syncEngine,t,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Kl.bind(null,this.syncEngine),[4,nl(this.remoteStore,this.syncEngine.isPrimaryClient)]);case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.createEventManager=function(t){return new hl},t.prototype.createDatastore=function(t){var e,n=kc(t.databaseInfo.databaseId),r=(e=t.databaseInfo,new Tc(e));return function(t,e,n){return new Nc(t,e,n)}(t.credentials,r,n)},t.prototype.createRemoteStore=function(t){var e,n,r,i,o,a=this;return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=function(t){return Dl(a.syncEngine,t,0)},o=wc.yt()?new wc:new bc,new Rc(e,n,r,i,o)},t.prototype.createSyncEngine=function(t,e){return function(t,e,n,r,i,o,a){var s=new kl(t,e,n,r,i,o);return a&&(s.$o=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)},t.prototype.terminate=function(){return function(t){return(0,i.mG)(this,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return e=Rr(t),Cr("RemoteStore","RemoteStore shutting down."),e.Or.add(5),[4,Lc(e)];case 1:return n.sent(),e.Lr.shutdown(),e.Br.set("Unknown"),[2]}}))}))}(this.remoteStore)},t}();var uh=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.jo(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.jo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.Wo=function(){this.muted=!0},t.prototype.jo=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}(),ch=(function(){function t(t,e){var n=this;this.Go=t,this.R=e,this.metadata=new gs,this.buffer=new Uint8Array,this.zo=new TextDecoder("utf-8"),this.Ho().then((function(t){t&&t.io()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))}),(function(t){return n.metadata.reject(t)}))}t.prototype.close=function(){return this.Go.cancel()},t.prototype.getMetadata=function(){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return[2,this.metadata.promise]}))}))},t.prototype.Lo=function(){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.Ho())]}}))}))},t.prototype.Ho=function(){return(0,i.mG)(this,void 0,void 0,(function(){var t,e,n,r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return[4,this.Jo()];case 1:return null===(t=i.sent())?[2,null]:(e=this.zo.decode(t),n=Number(e),isNaN(n)&&this.Yo("length string ("+e+") is not valid number"),[4,this.Xo(n)]);case 2:return r=i.sent(),[2,new yl(JSON.parse(r),t.length+n)]}}))}))},t.prototype.Zo=function(){return this.buffer.findIndex((function(t){return t==="{".charCodeAt(0)}))},t.prototype.Jo=function(){return(0,i.mG)(this,void 0,void 0,(function(){var t,e;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return this.Zo()<0?[4,this.tc()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.Zo())<0&&this.Yo("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}}))}))},t.prototype.Xo=function(t){return(0,i.mG)(this,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.tc()]:[3,3];case 1:n.sent()&&this.Yo("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.zo.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}}))}))},t.prototype.Yo=function(t){throw this.Go.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.tc=function(){return(0,i.mG)(this,void 0,void 0,(function(){var t,e;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return[4,this.Go.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}}))}))}}(),function(){function t(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return t.prototype.lookup=function(t){return(0,i.mG)(this,void 0,void 0,(function(){var e,n=this;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new Ir(Tr.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o,a,s,u;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return n=Rr(t),r=Aa(n.R)+"/documents",o={documents:e.map((function(t){return Ia(n.R,t)}))},[4,n.$i("BatchGetDocuments",r,o)];case 1:return a=i.sent(),s=new Map,a.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Dr(!!e.found),e.found.name,e.found.updateTime;var n=Sa(t,e.found.name),r=_a(e.found.updateTime),i=new _i({mapValue:{fields:e.found.fields}});return Ti.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Dr(!!e.missing),Dr(!!e.readTime);var n=Sa(t,e.missing),r=_a(e.readTime);return Ti.newNoDocument(n,r)}(t,e):Nr()}(n.R,t);s.set(e.key.toString(),e)})),u=[],[2,(e.forEach((function(t){var e=s.get(t.toString());Dr(!!e),u.push(e)})),u)]}}))}))}(this.datastore,t)];case 1:return[2,((e=r.sent()).forEach((function(t){return n.recordVersion(t)})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(t){this.lastWriteError=t}this.writtenDocs.add(t.toString())},t.prototype.delete=function(t){this.write(new Bo(t,this.precondition(t))),this.writtenDocs.add(t.toString())},t.prototype.commit=function(){return(0,i.mG)(this,void 0,void 0,(function(){var t,e=this;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=ai.fromPath(n);e.mutations.push(new Vo(r,e.precondition(r)))})),[4,function(t,e){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return n=Rr(t),r=Aa(n.R)+"/documents",o={writes:e.map((function(t){return Da(n.R,t)}))},[4,n.Ni("Commit",r,o)];case 1:return i.sent(),[2]}}))}))}(this.datastore,this.mutations)];case 1:return n.sent(),this.committed=!0,[2]}}))}))},t.prototype.recordVersion=function(t){var e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Nr();e=Br.min()}var n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Ir(Tr.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)},t.prototype.precondition=function(t){var e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?So.updateTime(e):So.none()},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(Br.min()))throw new Ir(Tr.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return So.updateTime(e)}return So.exists(!0)},t.prototype.write=function(t){this.ensureCommitNotCalled(),this.mutations.push(t)},t.prototype.ensureCommitNotCalled=function(){},t}()),lh=function(){function t(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.ec=5,this.Zi=new Cc(this.asyncQueue,"transaction_retry")}return t.prototype.run=function(){this.ec-=1,this.nc()},t.prototype.nc=function(){var t=this;this.Zi.ji((function(){return(0,i.mG)(t,void 0,void 0,(function(){var t,e,n=this;return(0,i.Jh)(this,(function(r){return t=new ch(this.datastore),(e=this.sc(t))&&e.then((function(e){n.asyncQueue.enqueueAndForget((function(){return t.commit().then((function(){n.deferred.resolve(e)})).catch((function(t){n.ic(t)}))}))})).catch((function(t){n.ic(t)})),[2]}))}))}))},t.prototype.sc=function(t){try{var e=this.updateFunction(t);return!ri(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}},t.prototype.ic=function(t){var e=this;this.ec>0&&this.rc(t)?(this.ec-=1,this.asyncQueue.enqueueAndForget((function(){return e.nc(),Promise.resolve()}))):this.deferred.reject(t)},t.prototype.rc=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Go(e)}return!1},t}(),hh=function(){function t(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=uc.UNAUTHENTICATED,this.clientId=Lr.u(),this.credentialListener=function(){return Promise.resolve()},this.credentials.setChangeListener(e,(function(t){return(0,i.mG)(r,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){switch(e.label){case 0:return Cr("FirestoreClient","Received user=",t.uid),[4,this.credentialListener(t)];case 1:return e.sent(),this.user=t,[2]}}))}))}))}return t.prototype.getConfiguration=function(){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){return[2,{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,credentials:this.credentials,initialUser:this.user,maxConcurrentLimboResolutions:100}]}))}))},t.prototype.setCredentialChangeListener=function(t){this.credentialListener=t},t.prototype.verifyNotTerminated=function(){if(this.asyncQueue.isShuttingDown)throw new Ir(Tr.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this.asyncQueue.enterRestrictedMode();var e=new gs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((function(){return(0,i.mG)(t,void 0,void 0,(function(){var t,n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.onlineComponents?[4,this.onlineComponents.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.offlineComponents?[4,this.offlineComponents.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.removeChangeListener(),e.resolve(),[3,6];case 5:return t=r.sent(),n=al(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}}))}))})),e.promise},t}();function fh(t,e){return(0,i.mG)(this,void 0,void 0,(function(){var n,r,o=this;return(0,i.Jh)(this,(function(a){switch(a.label){case 0:return t.asyncQueue.verifyOperationInProgress(),Cr("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=a.sent(),[4,e.initialize(n)];case 2:return a.sent(),r=n.initialUser,t.setCredentialChangeListener((function(t){return(0,i.mG)(o,void 0,void 0,(function(){return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return r.isEqual(t)?[3,2]:[4,ju(e.localStore,t)];case 1:n.sent(),r=t,n.label=2;case 2:return[2]}}))}))})),e.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=e,[2]}}))}))}function dh(t,e){return(0,i.mG)(this,void 0,void 0,(function(){var n,r;return(0,i.Jh)(this,(function(o){switch(o.label){case 0:return t.asyncQueue.verifyOperationInProgress(),[4,ph(t)];case 1:return n=o.sent(),Cr("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=o.sent(),[4,e.initialize(n,r)];case 3:return o.sent(),t.setCredentialChangeListener((function(t){return function(t,e){return(0,i.mG)(this,void 0,void 0,(function(){var n,r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return(n=Rr(t)).asyncQueue.verifyOperationInProgress(),Cr("RemoteStore","RemoteStore received new credentials"),r=qc(n),n.Or.add(3),[4,Lc(n)];case 1:return i.sent(),r&&n.Br.set("Unknown"),[4,n.remoteSyncer.handleCredentialChange(e)];case 2:return i.sent(),n.Or.delete(3),[4,Pc(n)];case 3:return i.sent(),[2]}}))}))}(e.remoteStore,t)})),t.onlineComponents=e,[2]}}))}))}function ph(t){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){switch(e.label){case 0:return t.offlineComponents?[3,2]:(Cr("FirestoreClient","Using default OfflineComponentProvider"),[4,fh(t,new ih)]);case 1:e.sent(),e.label=2;case 2:return[2,t.offlineComponents]}}))}))}function mh(t){return(0,i.mG)(this,void 0,void 0,(function(){return(0,i.Jh)(this,(function(e){switch(e.label){case 0:return t.onlineComponents?[3,2]:(Cr("FirestoreClient","Using default OnlineComponentProvider"),[4,dh(t,new sh)]);case 1:e.sent(),e.label=2;case 2:return[2,t.onlineComponents]}}))}))}function vh(t){return ph(t).then((function(t){return t.persistence}))}function gh(t){return ph(t).then((function(t){return t.localStore}))}function yh(t){return mh(t).then((function(t){return t.remoteStore}))}function bh(t){return mh(t).then((function(t){return t.syncEngine}))}function wh(t){return(0,i.mG)(this,void 0,void 0,(function(){var e,n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return[4,mh(t)];case 1:return e=r.sent(),[2,((n=e.eventManager).onListen=Cl.bind(null,e.syncEngine),n.onUnlisten=xl.bind(null,e.syncEngine),n)]}}))}))}function _h(t,e,n){var r=this;void 0===n&&(n={});var o=new gs;return t.asyncQueue.enqueueAndForget((function(){return(0,i.mG)(r,void 0,void 0,(function(){var r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return r=function(t,e,n,r,i){var o=new uh({next:function(o){e.enqueueAndForget((function(){return dl(t,a)}));var s=o.docs.has(n);!s&&o.fromCache?i.reject(new Ir(Tr.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Ir(Tr.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:function(t){return i.reject(t)}}),a=new gl(zi(n.path),o,{includeMetadataChanges:!0,so:!0});return fl(t,a)},[4,wh(t)];case 1:return[2,r.apply(void 0,[i.sent(),t.asyncQueue,e,n,o])]}}))}))})),o.promise}function Eh(t,e,n){var r=this;void 0===n&&(n={});var o=new gs;return t.asyncQueue.enqueueAndForget((function(){return(0,i.mG)(r,void 0,void 0,(function(){var r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return r=function(t,e,n,r,i){var o=new uh({next:function(n){e.enqueueAndForget((function(){return dl(t,a)})),n.fromCache&&"server"===r.source?i.reject(new Ir(Tr.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),a=new gl(n,o,{includeMetadataChanges:!0,so:!0});return fl(t,a)},[4,wh(t)];case 1:return[2,r.apply(void 0,[i.sent(),t.asyncQueue,e,n,o])]}}))}))})),o.promise}var Th=function(t,e,n,r,i,o,a,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s},Ih=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),Sh=new Map,kh=function(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization="Bearer "+t},Ch=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){this.changeListener=e,t.enqueueRetryable((function(){return e(uc.UNAUTHENTICATED)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),Ah=function(){function t(t){this.token=t,this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(this.token)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t,e){var n=this;this.changeListener=e,t.enqueueRetryable((function(){return e(n.token.user)}))},t.prototype.removeChangeListener=function(){this.changeListener=null},t}(),xh=function(){function t(t){var e=this;this.currentUser=uc.UNAUTHENTICATED,this.oc=new gs,this.cc=0,this.forceRefresh=!1,this.auth=null,this.asyncQueue=null,this.uc=function(){e.cc++,e.currentUser=e.ac(),e.oc.resolve(),e.changeListener&&e.asyncQueue.enqueueRetryable((function(){return e.changeListener(e.currentUser)}))};var n=function(t){Cr("FirebaseCredentialsProvider","Auth detected"),e.auth=t,e.auth.addAuthTokenListener(e.uc)};t.onInit((function(t){return n(t)})),setTimeout((function(){if(!e.auth){var r=t.getImmediate({optional:!0});r?n(r):(Cr("FirebaseCredentialsProvider","Auth not yet detected"),e.oc.resolve())}}),0)}return t.prototype.getToken=function(){var t=this,e=this.cc,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.cc!==e?(Cr("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Dr("string"==typeof n.accessToken),new kh(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t,e){var n=this;this.asyncQueue=t,this.asyncQueue.enqueueRetryable((function(){return(0,i.mG)(n,void 0,void 0,(function(){return(0,i.Jh)(this,(function(t){switch(t.label){case 0:return[4,this.oc.promise];case 1:return t.sent(),[4,e(this.currentUser)];case 2:return t.sent(),this.changeListener=e,[2]}}))}))}))},t.prototype.removeChangeListener=function(){this.auth&&this.auth.removeAuthTokenListener(this.uc),this.changeListener=function(){return Promise.resolve()}},t.prototype.ac=function(){var t=this.auth&&this.auth.getUid();return Dr(null===t||"string"==typeof t),new uc(t)},t}(),Oh=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n,this.type="FirstParty",this.user=uc.FIRST_PARTY}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){var t={"X-Goog-AuthUser":this.lc},e=this.hc.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.fc&&(t["X-Goog-Iam-Authorization-Token"]=this.fc),t},enumerable:!1,configurable:!0}),t}(),Nh=function(){function t(t,e,n){this.hc=t,this.lc=e,this.fc=n}return t.prototype.getToken=function(){return Promise.resolve(new Oh(this.hc,this.lc,this.fc))},t.prototype.setChangeListener=function(t,e){t.enqueueRetryable((function(){return e(uc.FIRST_PARTY)}))},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}();function Dh(t,e,n){if(!n)throw new Ir(Tr.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function Rh(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ir(Tr.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function Ph(t,e,n,r){if(!0===e&&!0===r)throw new Ir(Tr.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function Lh(t){if(!ai.isDocumentKey(t))throw new Ir(Tr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function Fh(t){if(ai.isDocumentKey(t))throw new Ir(Tr.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function Mh(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Nr()}function jh(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ir(Tr.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=Mh(t);throw new Ir(Tr.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function Uh(t,e){if(e<=0)throw new Ir(Tr.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var Bh=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Ir(Tr.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Ir(Tr.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,Ph("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams},t}(),Vh=function(){function t(t,e){this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Bh({}),this._settingsFrozen=!1,t instanceof Ih?(this._databaseId=t,this._credentials=new Ch):(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Ir(Tr.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ih(t.options.projectId)}(t),this._credentials=new xh(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this._app)throw new Ir(Tr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_initialized",{get:function(){return this._settingsFrozen},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_terminated",{get:function(){return void 0!==this._terminateTask},enumerable:!1,configurable:!0}),t.prototype._setSettings=function(t){if(this._settingsFrozen)throw new Ir(Tr.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Bh(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new Ch;switch(t.type){case"gapi":var e=t.client;return Dr(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Nh(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new Ir(Tr.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype._getSettings=function(){return this._settings},t.prototype._freezeSettings=function(){return this._settingsFrozen=!0,this._settings},t.prototype._delete=function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask},t.prototype.toJSON=function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}},t.prototype._terminate=function(){return this,(t=Sh.get(this))&&(Cr("ComponentProvider","Removing Datastore"),Sh.delete(this),t.terminate()),Promise.resolve();var t},t}(),qh=function(){function t(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"_path",{get:function(){return this._key.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Hh(this.firestore,this.converter,this._key.path.popLast())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this._key)},t}(),Gh=function(){function t(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this._query)},t}(),Hh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,zi(r))||this)._path=r,i.type="collection",i}return(0,i.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._path.popLast();return t.isEmpty()?null:new qh(this.firestore,null,new ai(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this._path)},e}(Gh);function Kh(t,e){for(var n,r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];if(t=(0,o.m9)(t),Dh("collection","path",e),t instanceof Vh)return Fh(n=Kr.fromString.apply(Kr,(0,i.ev)([e],r))),new Hh(t,null,n);if(!(t instanceof qh||t instanceof Hh))throw new Ir(Tr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Fh(n=Kr.fromString.apply(Kr,(0,i.ev)([t.path],r)).child(Kr.fromString(e))),new Hh(t.firestore,null,n)}function zh(t,e){for(var n,r=[],a=2;a<arguments.length;a++)r[a-2]=arguments[a];if(t=(0,o.m9)(t),1===arguments.length&&(e=Lr.u()),Dh("doc","path",e),t instanceof Vh)return Lh(n=Kr.fromString.apply(Kr,(0,i.ev)([e],r))),new qh(t,null,new ai(n));if(!(t instanceof qh||t instanceof Hh))throw new Ir(Tr.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return Lh(n=t._path.child(Kr.fromString.apply(Kr,(0,i.ev)([e],r)))),new qh(t.firestore,t instanceof Hh?t.converter:null,new ai(n))}function Wh(t,e){return t=(0,o.m9)(t),e=(0,o.m9)(e),(t instanceof qh||t instanceof Hh)&&(e instanceof qh||e instanceof Hh)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function Zh(t,e){return t=(0,o.m9)(t),e=(0,o.m9)(e),t instanceof Gh&&e instanceof Gh&&t.firestore===e.firestore&&eo(t._query,e._query)&&t.converter===e.converter}var Jh=function(){function t(){var t=this;this.dc=Promise.resolve(),this.wc=[],this._c=!1,this.mc=[],this.yc=null,this.gc=!1,this.Ec=!1,this.Tc=[],this.Zi=new Cc(this,"async_queue_retry"),this.Ic=function(){var e=Sc();e&&Cr("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Zi.Gi()};var e=Sc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ic)}return Object.defineProperty(t.prototype,"isShuttingDown",{get:function(){return this._c},enumerable:!1,configurable:!0}),t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueueAndForgetEvenWhileRestricted=function(t){this.Ac(),this.Rc(t)},t.prototype.enterRestrictedMode=function(t){if(!this._c){this._c=!0,this.Ec=t||!1;var e=Sc();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ic)}},t.prototype.enqueue=function(t){var e=this;if(this.Ac(),this._c)return new Promise((function(){}));var n=new gs;return this.Rc((function(){return e._c&&e.Ec?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))},t.prototype.enqueueRetryable=function(t){var e=this;this.enqueueAndForget((function(){return e.wc.push(t),e.bc()}))},t.prototype.bc=function(){return(0,i.mG)(this,void 0,void 0,(function(){var t,e=this;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:if(0===this.wc.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.wc[0]()];case 2:return n.sent(),this.wc.shift(),this.Zi.reset(),[3,4];case 3:if(!Ts(t=n.sent()))throw t;return Cr("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.wc.length>0&&this.Zi.ji((function(){return e.bc()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Rc=function(t){var e=this,n=this.dc.then((function(){return e.gc=!0,t().catch((function(t){throw e.yc=t,e.gc=!1,Ar("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.gc=!1,t}))}));return this.dc=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.Ac(),this.Tc.indexOf(t)>-1&&(e=0);var i=ol.createAndSchedule(this,t,e,n,(function(t){return r.vc(t)}));return this.mc.push(i),i},t.prototype.Ac=function(){this.yc&&Nr()},t.prototype.verifyOperationInProgress=function(){},t.prototype.Pc=function(){return(0,i.mG)(this,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(e){switch(e.label){case 0:return[4,t=this.dc];case 1:e.sent(),e.label=2;case 2:if(t!==this.dc)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.Vc=function(t){for(var e=0,n=this.mc;e<n.length;e++)if(n[e].timerId===t)return!0;return!1},t.prototype.Sc=function(t){var e=this;return this.Pc().then((function(){e.mc.sort((function(t,e){return t.targetTimeMs-e.targetTimeMs}));for(var n=0,r=e.mc;n<r.length;n++){var i=r[n];if(i.skipDelay(),"all"!==t&&i.timerId===t)break}return e.Pc()}))},t.prototype.Dc=function(t){this.Tc.push(t)},t.prototype.vc=function(t){var e=this.mc.indexOf(t);this.mc.splice(e,1)},t}();function Xh(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}!function(){function t(){this._progressObserver={},this._taskCompletionResolver=new gs,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this._progressObserver={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this._taskCompletionResolver.promise.catch(t)},t.prototype.then=function(t,e){return this._taskCompletionResolver.promise.then(t,e)},t.prototype._completeWith=function(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)},t.prototype._failWith=function(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)},t.prototype._updateProgress=function(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}();var Yh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).type="firestore",r._queue=new Jh,r._persistenceKey="name"in e?e.name:"[DEFAULT]",r}return(0,i.ZT)(e,t),e.prototype._terminate=function(){return this._firestoreClient||Qh(this),this._firestoreClient.terminate()},e}(Vh);function $h(t){return t._firestoreClient||Qh(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Qh(t){var e,n=t._freezeSettings(),r=function(t,e,n,r){return new Th(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new hh(t._credentials,t._queue,r)}function tf(t,e,n){var r=this,o=new gs;return t.asyncQueue.enqueue((function(){return(0,i.mG)(r,void 0,void 0,(function(){var r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,3,,4]),[4,fh(t,n)];case 1:return i.sent(),[4,dh(t,e)];case 2:return i.sent(),o.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Tr.FAILED_PRECONDITION||t.code===Tr.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=i.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),o.reject(r),[3,4];case 4:return[2]}}))}))})).then((function(){return o.promise}))}function ef(t){if(t._initialized||t._terminated)throw new Ir(Tr.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var nf=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Ir(Tr.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Wr(t)}return t.prototype.isEqual=function(t){return this._internalPath.isEqual(t._internalPath)},t}(),rf=function(){function t(t){this._byteString=t}return t.fromBase64String=function(e){try{return new t(Jr.fromBase64String(e))}catch(e){throw new Ir(Tr.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Jr.fromUint8Array(e))},t.prototype.toBase64=function(){return this._byteString.toBase64()},t.prototype.toUint8Array=function(){return this._byteString.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._byteString.isEqual(t._byteString)},t}(),of=function(t){this._methodName=t},af=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Ir(Tr.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Ir(Tr.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype.toJSON=function(){return{latitude:this._lat,longitude:this._long}},t.prototype._compareTo=function(t){return Fr(this._lat,t._lat)||Fr(this._long,t._long)},t}(),sf=/^__.*__$/,uf=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return null!==this.fieldMask?new Po(t,this.data,this.fieldMask,e,this.fieldTransforms):new Ro(t,this.data,e,this.fieldTransforms)},t}(),cf=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutation=function(t,e){return new Po(t,this.data,this.fieldMask,e,this.fieldTransforms)},t}();function lf(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nr()}}var hf=function(){function t(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.R=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Cc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Nc",{get:function(){return this.settings.Nc},enumerable:!1,configurable:!0}),t.prototype.xc=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.R,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)},t.prototype.kc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.$c(t),r},t.prototype.Oc=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.xc({path:n,Fc:!1});return r.Cc(),r},t.prototype.Mc=function(t){return this.xc({path:void 0,Fc:!0})},t.prototype.Lc=function(t){return Nf(t,this.settings.methodName,this.settings.Bc||!1,this.path,this.settings.qc)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find((function(e){return t.isPrefixOf(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.isPrefixOf(e.field)}))},t.prototype.Cc=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.$c(this.path.get(t))},t.prototype.$c=function(t){if(0===t.length)throw this.Lc("Document fields must not be empty");if(lf(this.Nc)&&sf.test(t))throw this.Lc('Document fields cannot begin and end with "__"')},t}(),ff=function(){function t(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.R=n||kc(t)}return t.prototype.Uc=function(t,e,n,r){return void 0===r&&(r=!1),new hf({Nc:t,methodName:e,qc:n,path:Wr.emptyPath(),Fc:!1,Bc:r},this.databaseId,this.R,this.ignoreUndefinedProperties)},t}();function df(t){var e=t._freezeSettings(),n=kc(t._databaseId);return new ff(t._databaseId,!!e.ignoreUndefinedProperties,n)}function pf(t,e,n,r,i,o){void 0===o&&(o={});var a=t.Uc(o.merge||o.mergeFields?2:0,e,n,i);Cf("Data must be an object, but it was:",a,r);var s,u,c=Sf(r,a);if(o.merge)s=new Zr(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var d=Af(e,f[h],n);if(!a.contains(d))throw new Ir(Tr.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Df(l,d)||l.push(d)}s=new Zr(l),u=a.fieldTransforms.filter((function(t){return s.covers(t.field)}))}else s=null,u=a.fieldTransforms;return new uf(new _i(c),s,u)}var mf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype._toFieldTransform=function(t){if(2!==t.Nc)throw 1===t.Nc?t.Lc(this._methodName+"() can only appear at the top level of your update data"):t.Lc(this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.fieldMask.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(of);function vf(t,e,n){return new hf({Nc:3,qc:e.settings.qc,methodName:t._methodName,Fc:n},e.databaseId,e.R,e.ignoreUndefinedProperties)}var gf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype._toFieldTransform=function(t){return new To(t.path,new mo)},e.prototype.isEqual=function(t){return t instanceof e},e}(of),yf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,i.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=vf(this,t,!0),n=this.Kc.map((function(t){return If(t,e)})),r=new vo(n);return new To(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(of),bf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Kc=n,r}return(0,i.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=vf(this,t,!0),n=this.Kc.map((function(t){return If(t,e)})),r=new yo(n);return new To(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(of),wf=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).Qc=n,r}return(0,i.ZT)(e,t),e.prototype._toFieldTransform=function(t){var e=new wo(t.R,co(t.R,this.Qc));return new To(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(of);function _f(t,e,n,r){var i=t.Uc(1,e,n);Cf("Data must be an object, but it was:",i,r);var a=[],s=_i.empty();qr(r,(function(t,r){var u=Of(e,t,n);r=(0,o.m9)(r);var c=i.Oc(u);if(r instanceof mf)a.push(u);else{var l=If(r,c);null!=l&&(a.push(u),s.set(u,l))}}));var u=new Zr(a);return new cf(s,u,i.fieldTransforms)}function Ef(t,e,n,r,i,a){var s=t.Uc(1,e,n),u=[Af(e,r,n)],c=[i];if(a.length%2!=0)throw new Ir(Tr.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var l=0;l<a.length;l+=2)u.push(Af(e,a[l])),c.push(a[l+1]);for(var h=[],f=_i.empty(),d=u.length-1;d>=0;--d)if(!Df(h,u[d])){var p=u[d],m=c[d];m=(0,o.m9)(m);var v=s.Oc(p);if(m instanceof mf)h.push(p);else{var g=If(m,v);null!=g&&(h.push(p),f.set(p,g))}}var y=new Zr(h);return new cf(f,y,s.fieldTransforms)}function Tf(t,e,n,r){return void 0===r&&(r=!1),If(n,t.Uc(r?4:3,e))}function If(t,e){if(kf(t=(0,o.m9)(t)))return Cf("Unsupported field value:",e,t),Sf(t,e);if(t instanceof of)return function(t,e){if(!lf(e.Nc))throw e.Lc(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.Lc(t._methodName+"() is not currently supported inside arrays");var n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Fc&&4!==e.Nc)throw e.Lc("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=If(o[i],e.Mc(r));null==a&&(a={nullValue:"NULL_VALUE"}),n.push(a),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,o.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return co(e.R,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Ur.fromDate(t);return{timestampValue:ya(e.R,n)}}if(t instanceof Ur)return n=new Ur(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:ya(e.R,n)};if(t instanceof af)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof rf)return{bytesValue:ba(e.R,t._byteString)};if(t instanceof qh){n=e.databaseId;var r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Lc("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Ea(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Lc("Unsupported field value: "+Mh(t))}(t,e)}function Sf(t,e){var n={};return Gr(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qr(t,(function(t,r){var i=If(r,e.kc(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function kf(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Ur||t instanceof af||t instanceof rf||t instanceof qh||t instanceof of)}function Cf(t,e,n){if(!kf(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=Mh(n);throw"an object"===r?e.Lc(t+" a custom object"):e.Lc(t+" "+r)}}function Af(t,e,n){if((e=(0,o.m9)(e))instanceof nf)return e._internalPath;if("string"==typeof e)return Of(t,e);throw Nf("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var xf=new RegExp("[~\\*/\\[\\]]");function Of(t,e,n){if(e.search(xf)>=0)throw Nf("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(nf.bind.apply(nf,(0,i.ev)([void 0],e.split(".")))))._internalPath}catch(r){throw Nf("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Nf(t,e,n,r,i){var o=r&&!r.isEmpty(),a=void 0!==i,s="Function "+e+"() called with invalid data";n&&(s+=" (via `toFirestore()`)");var u="";return(o||a)&&(u+=" (found",o&&(u+=" in field "+r),a&&(u+=" in document "+i),u+=")"),new Ir(Tr.INVALID_ARGUMENT,(s+=". ")+t+u)}function Df(t,e){return t.some((function(t){return t.isEqual(e)}))}var Rf=function(){function t(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new qh(this._firestore,this._converter,this._key)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this._document},t.prototype.data=function(){if(this._document){if(this._converter){var t=new Pf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}},t.prototype.get=function(t){if(this._document){var e=this._document.data.field(Lf("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}},t}(),Pf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Rf);function Lf(t,e){return"string"==typeof e?Of(t,e):e instanceof nf?e._internalPath:e._delegate._internalPath}var Ff=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Mf=function(t){function e(e,n,r,i,o,a){var s=this;return(s=t.call(this,e,n,r,i,a)||this)._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return(0,i.ZT)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this._document){if(this._converter){var e=new jf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this._document){var n=this._document.data.field(Lf("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}},e}(Rf),jf=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Mf),Uf=function(){function t(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ff(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._snapshot.docs.forEach((function(r){t.call(e,new jf(n._firestore,n._userDataWriter,r.key,r,new Ff(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ir(Tr.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){var n=0;return t._snapshot.docChanges.map((function(e){return{type:"added",doc:new jf(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Ff(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:n++}}))}var r=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var n=new jf(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Ff(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter),i=-1,o=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(o=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:Bf(e.type),doc:n,oldIndex:i,newIndex:o}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t}();function Bf(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nr()}}function Vf(t,e){return t instanceof Mf&&e instanceof Mf?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Uf&&e instanceof Uf&&t._firestore===e._firestore&&Zh(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function qf(t){if(Zi(t)&&0===t.explicitOrderBy.length)throw new Ir(Tr.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Gf=function(){};function Hf(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var o=i[r];t=o._apply(t)}return t}var Kf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).jc=e,i.Wc=n,i.Gc=r,i.type="where",i}return(0,i.ZT)(e,t),e.prototype._apply=function(t){var e=df(t.firestore),n=function(t,e,n,r,i,o,a){var s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Ir(Tr.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){$f(a,o);for(var u=[],c=0,l=a;c<l.length;c++){var h=l[c];u.push(Yf(r,t,h))}s={arrayValue:{values:u}}}else s=Yf(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||$f(a,o),s=Tf(n,"where",a,"in"===o||"not-in"===o);var f=xi.create(i,o,s);return function(t,e){if(e.g()){var n=Xi(t);if(null!==n&&!n.isEqual(e.field))throw new Ir(Tr.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Ji(t);null!==r&&Qf(t,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new Ir(Tr.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Ir(Tr.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}(t._query,0,e,t.firestore._databaseId,this.jc,this.Wc,this.Gc);return new Gh(t.firestore,t.converter,function(t,e){var n=t.filters.concat([e]);return new Hi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))},e}(Gf),zf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jc=e,r.zc=n,r.type="orderBy",r}return(0,i.ZT)(e,t),e.prototype._apply=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Ir(Tr.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Ir(Tr.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Bi(e,n);return function(t,e){if(null===Ji(t)){var n=Xi(t);null!==n&&Qf(t,n,e.field)}}(t,r),r}(t._query,this.jc,this.zc);return new Gh(t.firestore,t.converter,function(t,e){var n=t.explicitOrderBy.concat([e]);return new Hi(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))},e}(Gf),Wf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Hc=n,i.Jc=r,i}return(0,i.ZT)(e,t),e.prototype._apply=function(t){return new Gh(t.firestore,t.converter,to(t._query,this.Hc,this.Jc))},e}(Gf),Zf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,i.ZT)(e,t),e.prototype._apply=function(t){var e=Xf(t,this.type,this.Yc,this.Xc);return new Gh(t.firestore,t.converter,function(t,e){return new Hi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t._query,e))},e}(Gf),Jf=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.Yc=n,i.Xc=r,i}return(0,i.ZT)(e,t),e.prototype._apply=function(t){var e=Xf(t,this.type,this.Yc,this.Xc);return new Gh(t.firestore,t.converter,function(t,e){return new Hi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t._query,e))},e}(Gf);function Xf(t,e,n,r){if(n[0]=(0,o.m9)(n[0]),n[0]instanceof Rf)return function(t,e,n,r,i){if(!r)throw new Ir(Tr.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],a=0,s=$i(t);a<s.length;a++){var u=s[a];if(u.field.isKeyField())o.push(pi(e,r.key));else{var c=r.data.field(u.field);if(ti(c))throw new Ir(Tr.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.canonicalString();throw new Ir(Tr.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new ji(o,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);var i=df(t.firestore);return function(t,e,n,r,i,o){var a=t.explicitOrderBy;if(i.length>a.length)throw new Ir(Tr.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var s=[],u=0;u<i.length;u++){var c=i[u];if(a[u].field.isKeyField()){if("string"!=typeof c)throw new Ir(Tr.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Yi(t)&&-1!==c.indexOf("/"))throw new Ir(Tr.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Kr.fromString(c));if(!ai.isDocumentKey(l))throw new Ir(Tr.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new ai(l);s.push(pi(e,h))}else{var f=Tf(n,r,c);s.push(f)}}return new ji(s,o)}(t._query,t.firestore._databaseId,i,e,n,r)}function Yf(t,e,n){if("string"==typeof(n=(0,o.m9)(n))){if(""===n)throw new Ir(Tr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Yi(e)&&-1!==n.indexOf("/"))throw new Ir(Tr.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Kr.fromString(n));if(!ai.isDocumentKey(r))throw new Ir(Tr.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return pi(t,new ai(r))}if(n instanceof qh)return pi(t,n._key);throw new Ir(Tr.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+Mh(n)+".")}function $f(t,e){if(!Array.isArray(t)||0===t.length)throw new Ir(Tr.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Ir(Tr.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Qf(t,e,n){if(!n.isEqual(e))throw new Ir(Tr.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}var td=function(){function t(){}return t.prototype.convertValue=function(t,e){switch(void 0===e&&(e="none"),si(t)){case 0:return null;case 1:return t.booleanValue;case 2:return $r(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Qr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Nr()}},t.prototype.convertObject=function(t,e){var n=this,r={};return qr(t.fields,(function(t,i){r[t]=n.convertValue(i,e)})),r},t.prototype.convertGeoPoint=function(t){return new af($r(t.latitude),$r(t.longitude))},t.prototype.convertArray=function(t,e){var n=this;return(t.values||[]).map((function(t){return n.convertValue(t,e)}))},t.prototype.convertServerTimestamp=function(t,e){switch(e){case"previous":var n=ei(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(ni(t));default:return null}},t.prototype.convertTimestamp=function(t){var e=Yr(t);return new Ur(e.seconds,e.nanos)},t.prototype.convertDocumentKey=function(t,e){var n=Kr.fromString(t);Dr(Wa(n));var r=new Ih(n.get(1),n.get(3)),i=new ai(n.popFirst(5));return r.isEqual(e)||Ar("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}();function ed(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var nd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,i.ZT)(e,t),e.prototype.convertBytes=function(t){return new rf(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new qh(this.firestore,null,e)},e}(td),rd=function(){function t(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=df(t)}return t.prototype.set=function(t,e,n){this._verifyNotCommitted();var r=id(t,this._firestore),i=ed(r.converter,e,n),o=pf(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,So.none())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this._verifyNotCommitted();var a,s=id(t,this._firestore);return a="string"==typeof(e=(0,o.m9)(e))||e instanceof nf?Ef(this._dataReader,"WriteBatch.update",s._key,e,n,r):_f(this._dataReader,"WriteBatch.update",s._key,e),this._mutations.push(a.toMutation(s._key,So.exists(!0))),this},t.prototype.delete=function(t){this._verifyNotCommitted();var e=id(t,this._firestore);return this._mutations=this._mutations.concat(new Bo(e._key,So.none())),this},t.prototype.commit=function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()},t.prototype._verifyNotCommitted=function(){if(this._committed)throw new Ir(Tr.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function id(t,e){if((t=(0,o.m9)(t)).firestore!==e)throw new Ir(Tr.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var od=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,i.ZT)(e,t),e.prototype.convertBytes=function(t){return new rf(t)},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return new qh(this.firestore,null,e)},e}(td);function ad(t,e,n){t=jh(t,qh);var r=jh(t.firestore,Yh),i=ed(t.converter,e,n);return cd(r,[pf(df(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,So.none())])}function sd(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=jh(t,qh);var a=jh(t.firestore,Yh),s=df(a);return cd(a,[("string"==typeof(e=(0,o.m9)(e))||e instanceof nf?Ef(s,"updateDoc",t._key,e,n,r):_f(s,"updateDoc",t._key,e)).toMutation(t._key,So.exists(!0))])}function ud(t){for(var e,n,r,a=[],s=1;s<arguments.length;s++)a[s-1]=arguments[s];t=(0,o.m9)(t);var u={includeMetadataChanges:!1},c=0;"object"!=typeof a[c]||Xh(a[c])||(u=a[c],c++);var l,h,f,d={includeMetadataChanges:u.includeMetadataChanges};if(Xh(a[c])){var p=a[c];a[c]=null===(e=p.next)||void 0===e?void 0:e.bind(p),a[c+1]=null===(n=p.error)||void 0===n?void 0:n.bind(p),a[c+2]=null===(r=p.complete)||void 0===r?void 0:r.bind(p)}if(t instanceof qh)h=jh(t.firestore,Yh),f=zi(t._key.path),l={next:function(e){a[c]&&a[c](ld(h,t,e))},error:a[c+1],complete:a[c+2]};else{var m=jh(t,Gh);h=jh(m.firestore,Yh),f=m._query;var v=new od(h);l={next:function(t){a[c]&&a[c](new Uf(h,v,m,t))},error:a[c+1],complete:a[c+2]},qf(t._query)}return function(t,e,n,r){var o=this,a=new uh(r),s=new gl(e,a,n);return t.asyncQueue.enqueueAndForget((function(){return(0,i.mG)(o,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return e=fl,[4,wh(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))})),function(){a.Wo(),t.asyncQueue.enqueueAndForget((function(){return(0,i.mG)(o,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return e=dl,[4,wh(t)];case 1:return[2,e.apply(void 0,[n.sent(),s])]}}))}))}))}}($h(h),f,d,l)}function cd(t,e){return function(t,e){var n=this,r=new gs;return t.asyncQueue.enqueueAndForget((function(){return(0,i.mG)(n,void 0,void 0,(function(){var n;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return n=Ol,[4,bh(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}}))}))})),r.promise}($h(t),e)}function ld(t,e,n){var r=n.docs.get(e._key),i=new od(t);return new Mf(t,i,e._key,r,new Ff(n.hasPendingWrites,n.fromCache),e.converter)}var hd=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this)._firestore=e,r}return(0,i.ZT)(e,t),e.prototype.get=function(e){var n=this,r=id(e,this._firestore),i=new od(this._firestore);return t.prototype.get.call(this,e).then((function(t){return new Mf(n._firestore,i,r._key,t._document,new Ff(!1,!1),r.converter)}))},e}(function(){function t(t,e){this._firestore=t,this._transaction=e,this._dataReader=df(t)}return t.prototype.get=function(t){var e=this,n=id(t,this._firestore),r=new nd(this._firestore);return this._transaction.lookup([n._key]).then((function(t){if(!t||1!==t.length)return Nr();var i=t[0];if(i.isFoundDocument())return new Rf(e._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new Rf(e._firestore,r,n._key,null,n.converter);throw Nr()}))},t.prototype.set=function(t,e,n){var r=id(t,this._firestore),i=ed(r.converter,e,n),o=pf(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var a,s=id(t,this._firestore);return a="string"==typeof(e=(0,o.m9)(e))||e instanceof nf?Ef(this._dataReader,"Transaction.update",s._key,e,n,r):_f(this._dataReader,"Transaction.update",s._key,e),this._transaction.update(s._key,a),this},t.prototype.delete=function(t){var e=id(t,this._firestore);return this._transaction.delete(e._key),this},t}());function fd(){if("undefined"==typeof Uint8Array)throw new Ir(Tr.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function dd(){if("undefined"==typeof atob)throw new Ir(Tr.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var pd=function(){function t(t){this._delegate=t}return t.fromBase64String=function(e){return dd(),new t(rf.fromBase64String(e))},t.fromUint8Array=function(e){return fd(),new t(rf.fromUint8Array(e))},t.prototype.toBase64=function(){return dd(),this._delegate.toBase64()},t.prototype.toUint8Array=function(){return fd(),this._delegate.toUint8Array()},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t}(),md=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){ef(t=jh(t,Yh));var n=$h(t),r=t._freezeSettings(),i=new sh;return tf(n,i,new oh(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){ef(t=jh(t,Yh));var e=$h(t),n=t._freezeSettings(),r=new sh;return tf(e,r,new ah(r,n.cacheSizeBytes))}(t._delegate)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t._initialized&&!t._terminated)throw new Ir(Tr.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new gs;return t._queue.enqueueAndForgetEvenWhileRestricted((function(){return(0,i.mG)(e,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return(0,i.mG)(this,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return ws.yt()?(e=t+"main",[4,ws.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(Nu(t._databaseId,t._persistenceKey))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}}))}))})),n.promise}(t._delegate)},t}(),vd=function(){function t(t,e,n){var r=this;this._delegate=e,this.Zc=n,this.INTERNAL={delete:function(){return r.terminate()}},t instanceof Ih||(this.tu=t)}return Object.defineProperty(t.prototype,"_databaseId",{get:function(){return this._delegate._databaseId},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){var e=this._delegate._getSettings();t.merge||e.host===t.host||xr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),function(t,e,n,r){var i;void 0===r&&(r={});var a=(t=jh(t,Vh))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&xr("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},a),{host:e+":"+n,ssl:!1})),r.mockUserToken){var s,u;if("string"==typeof r.mockUserToken)s=r.mockUserToken,u=uc.MOCK_USER;else{s=(0,o.Sg)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);var c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new Ir(Tr.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new uc(c)}t._credentials=new Ah(new kh(s,u))}}(this._delegate,t,e,n)},t.prototype.enableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return(0,i.mG)(e,void 0,void 0,(function(){var e,n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return[4,vh(t)];case 1:return e=r.sent(),[4,yh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!0),function(t){var e=Rr(t);return e.Or.delete(0),Pc(e)}(n))]}}))}))}))}($h(jh(this._delegate,Yh)))},t.prototype.disableNetwork=function(){return function(t){var e=this;return t.asyncQueue.enqueue((function(){return(0,i.mG)(e,void 0,void 0,(function(){var e,n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return[4,vh(t)];case 1:return e=r.sent(),[4,yh(t)];case 2:return n=r.sent(),[2,(e.setNetworkEnabled(!1),function(t){return(0,i.mG)(this,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return(e=Rr(t)).Or.add(0),[4,Lc(e)];case 1:return n.sent(),e.Br.set("Offline"),[2]}}))}))}(n))]}}))}))}))}($h(jh(this._delegate,Yh)))},t.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&Ph("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Zc.enableMultiTabIndexedDbPersistence(this):this.Zc.enableIndexedDbPersistence(this,n)},t.prototype.clearPersistence=function(){return this.Zc.clearIndexedDbPersistence(this)},t.prototype.terminate=function(){return this.tu&&(this.tu._removeServiceInstance("firestore"),this.tu._removeServiceInstance("firestore-exp")),this._delegate._delete()},t.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new gs;return t.asyncQueue.enqueueAndForget((function(){return(0,i.mG)(e,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return e=Fl,[4,bh(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}}))}))})),n.promise}($h(jh(this._delegate,Yh)))},t.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new uh(e);return t.asyncQueue.enqueueAndForget((function(){return(0,i.mG)(n,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Rr(t).Gr.add(e),e.next()},[4,wh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))})),function(){r.Wo(),t.asyncQueue.enqueueAndForget((function(){return(0,i.mG)(n,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return e=function(t,e){Rr(t).Gr.delete(e)},[4,wh(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}}))}))}))}}($h(t=jh(t,Yh)),Xh(e)?e:{next:e})}(this._delegate,t)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.tu)throw new Ir(Tr.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.tu},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Od(this,Kh(this._delegate,t))}catch(t){throw Ed(t,"collection()","Firestore.collection()")}},t.prototype.doc=function(t){try{return new _d(this,zh(this._delegate,t))}catch(t){throw Ed(t,"doc()","Firestore.doc()")}},t.prototype.collectionGroup=function(t){try{return new Cd(this,function(t,e){if(t=jh(t,Vh),Dh("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Ir(Tr.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new Gh(t,null,function(t){return new Hi(Kr.emptyPath(),t)}(e))}(this._delegate,t))}catch(t){throw Ed(t,"collectionGroup()","Firestore.collectionGroup()")}},t.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new gs;return t.asyncQueue.enqueueAndForget((function(){return(0,i.mG)(n,void 0,void 0,(function(){var n;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return[4,function(t){return mh(t).then((function(t){return t.datastore}))}(t)];case 1:return n=i.sent(),new lh(t.asyncQueue,n,e,r).run(),[2]}}))}))})),r.promise}($h(t),(function(n){return e(new hd(t,n))}))}(this._delegate,(function(n){return t(new yd(e,n))}))},t.prototype.batch=function(){var t=this;return $h(this._delegate),new bd(new rd(this._delegate,(function(e){return cd(t._delegate,e)})))},t.prototype.loadBundle=function(t){throw new Ir(Tr.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},t.prototype.namedQuery=function(t){throw new Ir(Tr.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},t}(),gd=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return(0,i.ZT)(e,t),e.prototype.convertBytes=function(t){return new pd(new rf(t))},e.prototype.convertReference=function(t){var e=this.convertDocumentKey(t,this.firestore._databaseId);return _d.eu(e,this.firestore,null)},e}(td);var yd=function(){function t(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new gd(t)}return t.prototype.get=function(t){var e=this,n=Nd(t);return this._delegate.get(n).then((function(t){return new Sd(e._firestore,new Mf(e._firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,n.converter))}))},t.prototype.set=function(t,e,n){var r=Nd(t);return n?(Rh("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var s=Nd(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,i.ev)([s,e,n],o)),this},t.prototype.delete=function(t){var e=Nd(t);return this._delegate.delete(e),this},t}(),bd=function(){function t(t){this._delegate=t}return t.prototype.set=function(t,e,n){var r=Nd(t);return n?(Rh("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this},t.prototype.update=function(t,e,n){for(var r,o=[],a=3;a<arguments.length;a++)o[a-3]=arguments[a];var s=Nd(t);return 2===arguments.length?this._delegate.update(s,e):(r=this._delegate).update.apply(r,(0,i.ev)([s,e,n],o)),this},t.prototype.delete=function(t){var e=Nd(t);return this._delegate.delete(e),this},t.prototype.commit=function(){return this._delegate.commit()},t}(),wd=function(){function t(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}return t.prototype.fromFirestore=function(t,e){var n=new jf(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new kd(this._firestore,n),null!=e?e:{})},t.prototype.toFirestore=function(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)},t.nu=function(e,n){var r=t.su,i=r.get(e);i||(i=new WeakMap,r.set(e,i));var o=i.get(n);return o||(o=new t(e,new gd(e),n),i.set(n,o)),o},t}();wd.su=new WeakMap;var _d=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new gd(t)}return t.iu=function(e,n,r){if(e.length%2!=0)throw new Ir(Tr.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(n,new qh(n._delegate,r,new ai(e)))},t.eu=function(e,n,r){return new t(n,new qh(n._delegate,r,e))},Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Od(this.firestore,this._delegate.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){try{return new Od(this.firestore,Kh(this._delegate,t))}catch(t){throw Ed(t,"collection()","DocumentReference.collection()")}},t.prototype.isEqual=function(t){return(t=(0,o.m9)(t))instanceof qh&&Wh(this._delegate,t)},t.prototype.set=function(t,e){e=Rh("DocumentReference.set",e);try{return e?ad(this._delegate,t,e):ad(this._delegate,t)}catch(t){throw Ed(t,"setDoc()","DocumentReference.set()")}},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?sd(this._delegate,t):sd.apply(void 0,(0,i.ev)([this._delegate,t,e],n))}catch(t){throw Ed(t,"updateDoc()","DocumentReference.update()")}},t.prototype.delete=function(){return cd(jh((t=this._delegate).firestore,Yh),[new Bo(t._key,So.none())]);var t},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Td(e),i=Id(e,(function(e){return new Sd(t.firestore,new Mf(t.firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,t._delegate.converter))}));return ud(this._delegate,r,i)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=jh(t,qh);var e=jh(t.firestore,Yh),n=$h(e),r=new od(e);return function(t,e){var n=this,r=new gs;return t.asyncQueue.enqueueAndForget((function(){return(0,i.mG)(n,void 0,void 0,(function(){var n;return(0,i.Jh)(this,(function(o){switch(o.label){case 0:return n=function(t,e,n){return(0,i.mG)(this,void 0,void 0,(function(){var r,o;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,function(t,e){var n=Rr(t);return n.persistence.runTransaction("read document","readonly",(function(t){return n.Mn.mn(t,e)}))}(t,e)];case 1:return(o=i.sent()).isFoundDocument()?n.resolve(o):o.isNoDocument()?n.resolve(null):n.reject(new Ir(Tr.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=i.sent(),o=al(r,"Failed to get document '"+e+" from cache"),n.reject(o),[3,3];case 3:return[2]}}))}))},[4,gh(t)];case 1:return[2,n.apply(void 0,[o.sent(),e,r])]}}))}))})),r.promise}(n,t._key).then((function(n){return new Mf(e,r,t._key,n,new Ff(null!==n&&n.hasLocalMutations,!0),t.converter)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=jh(t,qh);var e=jh(t.firestore,Yh);return _h($h(e),t._key,{source:"server"}).then((function(n){return ld(e,t,n)}))}(this._delegate):function(t){t=jh(t,qh);var e=jh(t.firestore,Yh);return _h($h(e),t._key).then((function(n){return ld(e,t,n)}))}(this._delegate)).then((function(t){return new Sd(e.firestore,new Mf(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}))},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(wd.nu(this.firestore,e)):this._delegate.withConverter(null))},t}();function Ed(t,e,n){return t.message=t.message.replace(e,n),t}function Td(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!Xh(r))return r}return{}}function Id(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=Xh(t[0])?t[0]:Xh(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var Sd=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"ref",{get:function(){return new _d(this._firestore,this._delegate.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return this._delegate.exists()},enumerable:!1,configurable:!0}),t.prototype.data=function(t){return this._delegate.data(t)},t.prototype.get=function(t,e){return this._delegate.get(t,e)},t.prototype.isEqual=function(t){return Vf(this._delegate,t._delegate)},t}(),kd=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,i.ZT)(e,t),e.prototype.data=function(t){return this._delegate.data(t)},e}(Sd),Cd=function(){function t(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new gd(t)}return t.prototype.where=function(e,n,r){try{return new t(this.firestore,Hf(this._delegate,function(t,e,n){var r=e,i=Lf("where",t);return new Kf(i,r,n)}(e,n,r)))}catch(e){throw Ed(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.orderBy=function(e,n){try{return new t(this.firestore,Hf(this._delegate,function(t,e){void 0===e&&(e="asc");var n=e,r=Lf("orderBy",t);return new zf(r,n)}(e,n)))}catch(e){throw Ed(e,/(orderBy|where)\(\)/,"Query.$1()")}},t.prototype.limit=function(e){try{return new t(this.firestore,Hf(this._delegate,function(t){return Uh("limit",t),new Wf("limit",t,"F")}(e)))}catch(e){throw Ed(e,"limit()","Query.limit()")}},t.prototype.limitToLast=function(e){try{return new t(this.firestore,Hf(this._delegate,function(t){return Uh("limitToLast",t),new Wf("limitToLast",t,"L")}(e)))}catch(e){throw Ed(e,"limitToLast()","Query.limitToLast()")}},t.prototype.startAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Hf(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zf("startAt",t,!0)}.apply(void 0,e)))}catch(e){throw Ed(e,"startAt()","Query.startAt()")}},t.prototype.startAfter=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Hf(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Zf("startAfter",t,!1)}.apply(void 0,e)))}catch(e){throw Ed(e,"startAfter()","Query.startAfter()")}},t.prototype.endBefore=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Hf(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jf("endBefore",t,!0)}.apply(void 0,e)))}catch(e){throw Ed(e,"endBefore()","Query.endBefore()")}},t.prototype.endAt=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];try{return new t(this.firestore,Hf(this._delegate,function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Jf("endAt",t,!1)}.apply(void 0,e)))}catch(e){throw Ed(e,"endAt()","Query.endAt()")}},t.prototype.isEqual=function(t){return Zh(this._delegate,t._delegate)},t.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=jh(t,Gh);var e=jh(t.firestore,Yh),n=$h(e),r=new od(e);return function(t,e){var n=this,r=new gs;return t.asyncQueue.enqueueAndForget((function(){return(0,i.mG)(n,void 0,void 0,(function(){var n;return(0,i.Jh)(this,(function(o){switch(o.label){case 0:return n=function(t,e,n){return(0,i.mG)(this,void 0,void 0,(function(){var r,o,a,s,u;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,zu(t,e,!0)];case 1:return u=i.sent(),r=new Tl(e,u.Bn),o=r._o(u.documents),a=r.applyChanges(o,!1),n.resolve(a.snapshot),[3,3];case 2:return s=i.sent(),u=al(s,"Failed to execute query '"+e+" against cache"),n.reject(u),[3,3];case 3:return[2]}}))}))},[4,gh(t)];case 1:return[2,n.apply(void 0,[o.sent(),e,r])]}}))}))})),r.promise}(n,t._query).then((function(n){return new Uf(e,r,t,n)}))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=jh(t,Gh);var e=jh(t.firestore,Yh),n=$h(e),r=new od(e);return Eh(n,t._query,{source:"server"}).then((function(n){return new Uf(e,r,t,n)}))}(this._delegate):function(t){t=jh(t,Gh);var e=jh(t.firestore,Yh),n=$h(e),r=new od(e);return qf(t._query),Eh(n,t._query).then((function(n){return new Uf(e,r,t,n)}))}(this._delegate)).then((function(t){return new xd(e.firestore,new Uf(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}))},t.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=Td(e),i=Id(e,(function(e){return new xd(t.firestore,new Uf(t.firestore._delegate,t._userDataWriter,t._delegate,e._snapshot))}));return ud(this._delegate,r,i)},t.prototype.withConverter=function(e){return new t(this.firestore,e?this._delegate.withConverter(wd.nu(this.firestore,e)):this._delegate.withConverter(null))},t}(),Ad=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"type",{get:function(){return this._delegate.type},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"doc",{get:function(){return new kd(this._firestore,this._delegate.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"oldIndex",{get:function(){return this._delegate.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"newIndex",{get:function(){return this._delegate.newIndex},enumerable:!1,configurable:!0}),t}(),xd=function(){function t(t,e){this._firestore=t,this._delegate=e}return Object.defineProperty(t.prototype,"query",{get:function(){return new Cd(this._firestore,this._delegate.query)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._delegate.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._delegate.empty},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"docs",{get:function(){var t=this;return this._delegate.docs.map((function(e){return new kd(t._firestore,e)}))},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){var e=this;return this._delegate.docChanges(t).map((function(t){return new Ad(e._firestore,t)}))},t.prototype.forEach=function(t,e){var n=this;this._delegate.forEach((function(r){t.call(e,new kd(n._firestore,r))}))},t.prototype.isEqual=function(t){return Vf(this._delegate,t._delegate)},t}(),Od=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r._delegate=n,r}return(0,i.ZT)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._delegate.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._delegate.parent;return t?new _d(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new _d(this.firestore,void 0===t?zh(this._delegate):zh(this._delegate,t))}catch(t){throw Ed(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=jh(t.firestore,Yh),r=zh(t),i=ed(t.converter,e);return cd(n,[pf(df(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,So.exists(!1))]).then((function(){return r}))}(this._delegate,t).then((function(t){return new _d(e.firestore,t)}))},e.prototype.isEqual=function(t){return Wh(this._delegate,t._delegate)},e.prototype.withConverter=function(t){return new e(this.firestore,t?this._delegate.withConverter(wd.nu(this.firestore,t)):this._delegate.withConverter(null))},e}(Cd);function Nd(t){return jh(t,qh)}var Dd=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._delegate=new(nf.bind.apply(nf,(0,i.ev)([void 0],t)))}return t.documentId=function(){return new t(Wr.keyField().canonicalString())},t.prototype.isEqual=function(t){return(t=(0,o.m9)(t))instanceof nf&&this._delegate._internalPath.isEqual(t._internalPath)},t}(),Rd=function(){function t(t){this._delegate=t}return t.serverTimestamp=function(){var e=new gf("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new t(e)},t.delete=function(){var e=new mf("deleteField");return e._methodName="FieldValue.delete",new t(e)},t.arrayUnion=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new yf("arrayUnion",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayUnion",new t(r)},t.arrayRemove=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new bf("arrayRemove",t)}.apply(void 0,e);return r._methodName="FieldValue.arrayRemove",new t(r)},t.increment=function(e){var n=function(t){return new wf("increment",t)}(e);return n._methodName="FieldValue.increment",new t(n)},t.prototype.isEqual=function(t){return this._delegate.isEqual(t._delegate)},t}();var Pd=n(2444),Ld={Firestore:vd,GeoPoint:af,Timestamp:Ur,Blob:pd,Transaction:yd,WriteBatch:bd,DocumentReference:_d,DocumentSnapshot:Sd,Query:Cd,QueryDocumentSnapshot:kd,QuerySnapshot:xd,CollectionReference:Od,FieldPath:Dd,FieldValue:Rd,setLogLevel:function(t){var e;e=t,Sr.setLogLevel(e)},CACHE_SIZE_UNLIMITED:-1};!function(t){!function(t,e){t.INTERNAL.registerComponent(new Pd.wA("firestore",(function(t){return function(t,e){return new vd(t,new Yh(t,e),new md)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},Ld)))}(t),t.registerVersion("@firebase/firestore","2.4.1")}(r.Z)},5120:function(t,e,n){"use strict";n.r(e);var r=n(2475),i=n(5163),o=n(6765),a=n(2444),s="firebasestorage.googleapis.com",u=function(t){function e(n,r){var i=t.call(this,c(n),"Firebase Storage: "+r+" ("+c(n)+")")||this;return i.customData={serverResponse:null},i._baseMessage=i.message,Object.setPrototypeOf(i,e.prototype),i}return(0,i.ZT)(e,t),e.prototype._codeEquals=function(t){return c(t)===this.code},Object.defineProperty(e.prototype,"serverResponse",{get:function(){return this.customData.serverResponse},set:function(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=this._baseMessage+"\n"+this.customData.serverResponse:this.message=this._baseMessage},enumerable:!1,configurable:!0}),e}(o.ZR);function c(t){return"storage/"+t}function l(){return new u("unknown","An unknown error occurred, please check the error payload for server response.")}function h(){return new u("canceled","User canceled the upload/download.")}function f(){return new u("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function d(t){return new u("invalid-argument",t)}function p(){return new u("app-deleted","The Firebase app was deleted.")}function m(t){return new u("invalid-root-operation","The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function v(t,e){return new u("invalid-format","String does not match format '"+t+"': "+e)}function g(t){throw new u("internal-error","Internal error: "+t)}var y={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},b=function(t,e){this.data=t,this.contentType=e||null};function w(t,e){switch(t){case y.RAW:return new b(_(e));case y.BASE64:case y.BASE64URL:return new b(E(t,e));case y.DATA_URL:return new b(function(t){var e=new T(t);return e.base64?E(y.BASE64,e.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(n){throw v(y.DATA_URL,"Malformed data URL.")}return _(e)}(e.rest)}(e),new T(e).contentType)}throw l()}function _(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296===(64512&r))if(n<t.length-1&&56320===(64512&t.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else e.push(239,191,189);else 56320===(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function E(t,e){switch(t){case y.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw v(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case y.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw v(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var a;try{a=atob(e)}catch(c){throw v(t,"Invalid character found")}for(var s=new Uint8Array(a.length),u=0;u<a.length;u++)s[u]=a.charCodeAt(u);return s}var T=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw v(y.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=function(t,e){return t.length>=e.length&&t.substring(t.length-e.length)===e}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1)};var I,S={STATE_CHANGED:"state_changed"},k={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function C(t){switch(t){case"running":case"pausing":case"canceling":return k.RUNNING;case"paused":return k.PAUSED;case"success":return k.SUCCESS;case"canceled":return k.CANCELED;default:return k.ERROR}}!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(I||(I={}));var A=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=I.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=I.ABORT,e()})),t.xhr_.addEventListener("error",(function(){t.errorCode_=I.NETWORK_ERROR,e()})),t.xhr_.addEventListener("load",(function(){e()}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw g("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),void 0!==r)for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw g("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw g("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw g("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",t)},t}();var x=function(){function t(){}return t.prototype.createConnection=function(){return new A},t}(),O=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e,n){var r;try{r=t.makeFromUrl(e,n)}catch(i){return new t(e,"")}if(""===r.path)return r;throw new u("invalid-default-bucket","Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e,n){var r=null,i="([A-Za-z0-9.\\-_]+)";var o=new RegExp("^gs://"+i+"(/(.*))?$","i");function a(t){t.path_=decodeURIComponent(t.path)}for(var c=n.replace(/[.]/g,"\\."),l=[{regex:o,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+c+"/v[A-Za-z0-9_]+/b/"+i+"/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:a},{regex:new RegExp("^https?://"+(n===s?"(?:storage.googleapis.com|storage.cloud.google.com)":n)+"/"+i+"/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:a}],h=0;h<l.length;h++){var f=l[h],d=f.regex.exec(e);if(d){var p=d[f.indices.bucket],m=d[f.indices.path];m||(m=""),r=new t(p,m),f.postModify(r);break}}if(null==r)throw function(t){return new u("invalid-url","Invalid URL '"+t+"'.")}(e);return r},t}(),N=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();function D(t){return"string"===typeof t||t instanceof String}function R(t){return P()&&t instanceof Blob}function P(){return"undefined"!==typeof Blob}function L(t,e,n,r){if(r<e)throw d("Invalid value for '"+t+"'. Expected "+e+" or greater.");if(r>n)throw d("Invalid value for '"+t+"'. Expected "+n+" or less.")}function F(t,e){var n=e.match(/^(\w+):\/\/.+/),r=e;return null==(null===n||void 0===n?void 0:n[1])&&(r="https://"+e),r+"/v0"+t}function M(t){var e=encodeURIComponent,n="?";for(var r in t){if(t.hasOwnProperty(r))n=n+(e(r)+"="+e(t[r]))+"&"}return n=n.slice(0,-1)}var j=function(){function t(t,e,n,r,i,o,a,s,u,c,l){var h=this;this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,a=n.connection;if(n.wasSuccessCode)try{var s=t.callback_(a,a.getResponseText());void 0!==s?i(s):i()}catch(c){o(c)}else null!==a?((r=l()).serverResponse=a.getResponseText(),t.errorCallback_?o(t.errorCallback_(a,r)):o(r)):n.canceled?o(r=t.appDelete_?p():h()):o(r=new u("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new U(!1,null,!0)):this.backoffId_=function(t,e,n){var r=1,o=null,a=!1,s=0;function u(){return 2===s}var c=!1;function l(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];c||(c=!0,e.apply(null,t))}function h(e){o=setTimeout((function(){o=null,t(f,u())}),e)}function f(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!c)if(t)l.call.apply(l,(0,i.ev)([null,t],e));else{var o;u()||a?l.call.apply(l,(0,i.ev)([null,t],e)):(r<64&&(r*=2),1===s?(s=2,o=0):o=1e3*(r+Math.random()),h(o))}}var d=!1;function p(t){d||(d=!0,c||(null!==o?(t||(s=2),clearTimeout(o),h(0)):t||(s=1)))}return h(0),setTimeout((function(){a=!0,p(!0)}),n),p}((function(e,n){if(n)e(!1,new U(!1,null,!0));else{var r=t.pool_.createConnection();t.pendingConnection_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(){null!==t.progressCallback_&&r.removeUploadProgressListener(i),t.pendingConnection_=null;var n=r.getErrorCode()===I.NO_ERROR,o=r.getStatus();if(n&&!t.isRetryStatusCode_(o)){var a=-1!==t.successCodes_.indexOf(o);e(!0,new U(a,r))}else{var s=r.getErrorCode()===I.ABORT;e(!1,new U(!1,null,s))}}))}function i(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}}),e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),U=function(t,e,n){this.wasSuccessCode=t,this.connection=e,this.canceled=!!n};function B(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function V(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=B();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(P())return new Blob(t);throw new u("unsupported-environment","This browser doesn't seem to support creating Blobs")}var q=function(){function t(t,e){var n=0,r="";R(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(R(this.data_)){var r=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===r?null:new t(r)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(P()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(V.apply(null,r))}var i=e.map((function(t){return D(t)?w(y.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var a=new Uint8Array(o),s=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]})),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}();function G(t){var e,n;try{e=JSON.parse(t)}catch(r){return null}return"object"!==typeof(n=e)||Array.isArray(n)?null:e}function H(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function K(t,e){return e}var z=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||K},W=null;function Z(){if(W)return W;var t=[];t.push(new z("bucket")),t.push(new z("generation")),t.push(new z("metageneration")),t.push(new z("name","fullPath",!0));var e=new z("name");e.xform=function(t,e){return function(t){return!D(t)||t.length<2?t:H(t)}(e)},t.push(e);var n=new z("size");return n.xform=function(t,e){return void 0!==e?Number(e):e},t.push(n),t.push(new z("timeCreated")),t.push(new z("updated")),t.push(new z("md5Hash",null,!0)),t.push(new z("cacheControl",null,!0)),t.push(new z("contentDisposition",null,!0)),t.push(new z("contentEncoding",null,!0)),t.push(new z("contentLanguage",null,!0)),t.push(new z("contentType",null,!0)),t.push(new z("metadata","customMetadata",!0)),W=t}function J(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath,i=new O(n,r);return e._makeStorageReference(i)}})}(r,t),r}function X(t,e,n){var r=G(e);return null===r?null:J(t,r,n)}function Y(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function $(t,e,n){var r=G(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var a=o[i].replace(/\/$/,""),s=t._makeStorageReference(new O(e,a));r.prefixes.push(s)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];s=t._makeStorageReference(new O(e,l.name)),r.items.push(s)}return r}(t,e,r)}var Q=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};function tt(t){if(!t)throw l()}function et(t,e){return function(n,r){var i=X(t,r,e);return tt(null!==i),i}}function nt(t,e){return function(n,r){var i=X(t,r,e);return tt(null!==i),function(t,e,n){var r=G(e);if(null===r)return null;if(!D(r.downloadTokens))return null;var i=r.downloadTokens;if(0===i.length)return null;var o=encodeURIComponent;return i.split(",").map((function(e){var r=t.bucket,i=t.fullPath;return F("/b/"+o(r)+"/o/"+o(i),n)+M({alt:"media",token:e})}))[0]}(i,r,t.host)}}function rt(t){return function(e,n){var r,i,o;return 401===e.getStatus()?r=e.getResponseText().includes("Firebase App Check token is invalid")?new u("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new u("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,r=new u("quota-exceeded","Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,r=new u("unauthorized","User does not have permission to access '"+i+"'.")):r=n,r.serverResponse=n.serverResponse,r}}function it(t){var e=rt(t);return function(n,r){var i,o=e(n,r);return 404===n.getStatus()&&(i=t.path,o=new u("object-not-found","Object '"+i+"' does not exist.")),o.serverResponse=r.serverResponse,o}}function ot(t,e,n){var r=F(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new Q(r,"GET",et(t,n),i);return o.errorHandler=it(e),o}function at(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var a=F(e.bucketOnlyServerUrl(),t.host),s=t.maxOperationRetryTime,u=new Q(a,"GET",function(t,e){return function(n,r){var i=$(t,e,r);return tt(null!==i),i}}(t,e.bucket),s);return u.urlParams=o,u.errorHandler=rt(e),u}function st(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}var ut=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function ct(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){tt(!1)}return tt(!!n&&-1!==(e||["active"]).indexOf(n)),n}var lt=262144;function ht(t,e,n,r,i,o,a,s){var c=new ut(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new u("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");var l=c.total-c.current,h=l;i>0&&(h=Math.min(h,i));var d=c.current,p=d+h,m={"X-Goog-Upload-Command":h===l?"upload, finalize":"upload","X-Goog-Upload-Offset":""+c.current},v=r.slice(d,p);if(null===v)throw f();var g=e.maxUploadRetryTime,y=new Q(n,"POST",(function(t,n){var i,a=ct(t,["active","final"]),s=c.current+h,u=r.size();return i="final"===a?et(e,o)(t,n):null,new ut(s,u,"final"===a,i)}),g);return y.headers=m,y.body=v.uploadData(),y.progressCallback=s||null,y.errorHandler=rt(t),y}var ft=function(t,e,n){if("function"===typeof t||null!=e||null!=n)this.next=t,this.error=e,this.complete=n;else{var r=t;this.next=r.next,this.error=r.error,this.complete=r.complete}};function dt(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}var pt=function(){function t(t,e,n){var r=this;void 0===n&&(n=null),this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=t,this._blob=e,this._metadata=n,this._mappings=Z(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=function(t){r._request=void 0,r._chunkMultiplier=1,t._codeEquals("canceled")?(r._needToFetchStatus=!0,r.completeTransitions_()):(r._error=t,r._transition("error"))},this._metadataErrorHandler=function(t){r._request=void 0,t._codeEquals("canceled")?r.completeTransitions_():(r._error=t,r._transition("error"))},this._promise=new Promise((function(t,e){r._resolve=t,r._reject=e,r._start()})),this._promise.then(null,(function(){}))}return t.prototype._makeProgressCallback=function(){var t=this,e=this._transferred;return function(n){return t._updateProgress(e+n)}},t.prototype._shouldDoResumable=function(t){return t.size()>262144},t.prototype._start=function(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())},t.prototype._resolveToken=function(t){var e=this;Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then((function(n){var r=n[0],i=n[1];switch(e._state){case"running":t(r,i);break;case"canceling":e._transition("canceled");break;case"pausing":e._transition("paused")}}))},t.prototype._createResumable=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a=st(e,r,i),s={name:a.fullPath},u=F(o,t.host),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":""+r.size(),"X-Goog-Upload-Header-Content-Type":a.contentType,"Content-Type":"application/json; charset=utf-8"},l=Y(a,n),h=t.maxUploadRetryTime,f=new Q(u,"POST",(function(t){var e;ct(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(n){tt(!1)}return tt(D(e)),e}),h);return f.urlParams=s,f.headers=c,f.body=l,f.errorHandler=rt(e),f}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._uploadUrl=e,t._needToFetchStatus=!1,t.completeTransitions_()}),t._errorHandler)}))},t.prototype._fetchStatus=function(){var t=this,e=this._uploadUrl;this._resolveToken((function(n,r){var i=function(t,e,n,r){var i=t.maxUploadRetryTime,o=new Q(n,"POST",(function(t){var e=ct(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){tt(!1)}n||tt(!1);var i=Number(n);return tt(!isNaN(i)),new ut(i,r.size(),"final"===e)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=rt(e),o}(t._ref.storage,t._ref._location,e,t._blob),o=t._ref.storage._makeRequest(i,n,r);t._request=o,o.getPromise().then((function(e){t._request=void 0,t._updateProgress(e.current),t._needToFetchStatus=!1,e.finalized&&(t._needToFetchMetadata=!0),t.completeTransitions_()}),t._errorHandler)}))},t.prototype._continueUpload=function(){var t=this,e=lt*this._chunkMultiplier,n=new ut(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((function(i,o){var a;try{a=ht(t._ref._location,t._ref.storage,r,t._blob,e,t._mappings,n,t._makeProgressCallback())}catch(u){return t._error=u,void t._transition("error")}var s=t._ref.storage._makeRequest(a,i,o);t._request=s,s.getPromise().then((function(e){t._increaseMultiplier(),t._request=void 0,t._updateProgress(e.current),e.finalized?(t._metadata=e.metadata,t._transition("success")):t.completeTransitions_()}),t._errorHandler)}))},t.prototype._increaseMultiplier=function(){lt*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)},t.prototype._fetchMetadata=function(){var t=this;this._resolveToken((function(e,n){var r=ot(t._ref.storage,t._ref._location,t._mappings),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._transition("success")}),t._metadataErrorHandler)}))},t.prototype._oneShotUpload=function(){var t=this;this._resolveToken((function(e,n){var r=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=st(e,r,i),c="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Y(u,n)+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=q.getBlob(c,r,l);if(null===h)throw f();var d={name:u.fullPath},p=F(o,t.host),m=t.maxUploadRetryTime,v=new Q(p,"POST",et(t,n),m);return v.urlParams=d,v.headers=a,v.body=h.uploadData(),v.errorHandler=rt(e),v}(t._ref.storage,t._ref._location,t._mappings,t._blob,t._metadata),i=t._ref.storage._makeRequest(r,e,n);t._request=i,i.getPromise().then((function(e){t._request=void 0,t._metadata=e,t._updateProgress(t._blob.size()),t._transition("success")}),t._errorHandler)}))},t.prototype._updateProgress=function(t){var e=this._transferred;this._transferred=t,this._transferred!==e&&this._notifyObservers()},t.prototype._transition=function(t){if(this._state!==t)switch(t){case"canceling":case"pausing":this._state=t,void 0!==this._request&&this._request.cancel();break;case"running":var e="paused"===this._state;this._state=t,e&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=t,this._notifyObservers();break;case"canceled":this._error=h(),this._state=t,this._notifyObservers()}},t.prototype.completeTransitions_=function(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=C(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:t,metadata:this._metadata,task:this,ref:this._ref}},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){var i=this,o=new ft(e,n,r);return this._addObserver(o),function(){i._removeObserver(o)}},t.prototype.then=function(t,e){return this._promise.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype._addObserver=function(t){this._observers.push(t),this._notifyObserver(t)},t.prototype._removeObserver=function(t){var e=this._observers.indexOf(t);-1!==e&&this._observers.splice(e,1)},t.prototype._notifyObservers=function(){var t=this;this._finishPromise(),this._observers.slice().forEach((function(e){t._notifyObserver(e)}))},t.prototype._finishPromise=function(){if(void 0!==this._resolve){var t=!0;switch(C(this._state)){case k.SUCCESS:dt(this._resolve.bind(null,this.snapshot))();break;case k.CANCELED:case k.ERROR:dt(this._reject.bind(null,this._error))();break;default:t=!1}t&&(this._resolve=void 0,this._reject=void 0)}},t.prototype._notifyObserver=function(t){switch(C(this._state)){case k.RUNNING:case k.PAUSED:t.next&&dt(t.next.bind(t,this.snapshot))();break;case k.SUCCESS:t.complete&&dt(t.complete.bind(t))();break;default:t.error&&dt(t.error.bind(t,this._error))()}},t.prototype.resume=function(){var t="paused"===this._state||"pausing"===this._state;return t&&this._transition("running"),t},t.prototype.pause=function(){var t="running"===this._state;return t&&this._transition("pausing"),t},t.prototype.cancel=function(){var t="running"===this._state||"pausing"===this._state;return t&&this._transition("canceling"),t},t}(),mt=function(){function t(t,e){this._service=t,this._location=e instanceof O?e:O.makeFromUrl(e,t.host)}return t.prototype.toString=function(){return"gs://"+this._location.bucket+"/"+this._location.path},t.prototype._newRef=function(e,n){return new t(e,n)},Object.defineProperty(t.prototype,"root",{get:function(){var t=new O(this._location.bucket,"");return this._newRef(this._service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return H(this._location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this._service},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this._location.path);if(null===e)return null;var n=new O(this._location.bucket,e);return new t(this._service,n)},enumerable:!1,configurable:!0}),t.prototype._throwIfRoot=function(t){if(""===this._location.path)throw m(t)},t}();function vt(t){var e={prefixes:[],items:[]};return gt(t,e).then((function(){return e}))}function gt(t,e,n){return(0,i.mG)(this,void 0,void 0,(function(){var r,o,a;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return[4,yt(t,{pageToken:n})];case 1:return r=i.sent(),(o=e.prefixes).push.apply(o,r.prefixes),(a=e.items).push.apply(a,r.items),null==r.nextPageToken?[3,3]:[4,gt(t,e,r.nextPageToken)];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))}function yt(t,e){return(0,i.mG)(this,void 0,void 0,(function(){var n,r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return null!=e&&"number"===typeof e.maxResults&&L("options.maxResults",1,1e3,e.maxResults),n=e||{},r=at(t.storage,t._location,"/",n.pageToken,n.maxResults),[4,t.storage.makeRequestWithTokens(r)];case 1:return[2,i.sent().getPromise()]}}))}))}function bt(t,e){return(0,i.mG)(this,void 0,void 0,(function(){var n;return(0,i.Jh)(this,(function(r){switch(r.label){case 0:return t._throwIfRoot("updateMetadata"),n=function(t,e,n,r){var i=F(e.fullServerUrl(),t.host),o=Y(n,r),a=t.maxOperationRetryTime,s=new Q(i,"PATCH",et(t,r),a);return s.headers={"Content-Type":"application/json; charset=utf-8"},s.body=o,s.errorHandler=it(e),s}(t.storage,t._location,e,Z()),[4,t.storage.makeRequestWithTokens(n)];case 1:return[2,r.sent().getPromise()]}}))}))}function wt(t){return(0,i.mG)(this,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getDownloadURL"),e=function(t,e,n){var r=F(e.fullServerUrl(),t.host),i=t.maxOperationRetryTime,o=new Q(r,"GET",nt(t,n),i);return o.errorHandler=it(e),o}(t.storage,t._location,Z()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise().then((function(t){if(null===t)throw new u("no-download-url","The given file does not have any download URLs.");return t}))]}}))}))}function _t(t){return(0,i.mG)(this,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("deleteObject"),e=function(t,e){var n=F(e.fullServerUrl(),t.host),r=t.maxOperationRetryTime,i=new Q(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=it(e),i}(t.storage,t._location),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}function Et(t,e){var n=function(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}(t._location.path,e),r=new O(t._location.bucket,n);return new mt(t.storage,r)}function Tt(t){return/^[A-Za-z]+:\/\//.test(t)}function It(t,e){if(t instanceof Ct){var n=t;if(null==n._bucket)throw new u("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");var r=new mt(n,n._bucket);return null!=e?It(r,e):r}return void 0!==e?Et(t,e):t}function St(t,e){if(e&&Tt(e)){if(t instanceof Ct)return new mt(t,e);throw d("To use ref(service, url), the first argument must be a Storage instance.")}return It(t,e)}function kt(t,e){var n=null===e||void 0===e?void 0:e.storageBucket;return null==n?null:O.makeFromBucketSpec(n,t)}var Ct=function(){function t(t,e,n,r,i,o){this.app=t,this._authProvider=e,this._appCheckProvider=n,this._pool=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=s,this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?O.makeFromBucketSpec(i,this._host):kt(this._host,this.app.options)}return Object.defineProperty(t.prototype,"host",{get:function(){return this._host},set:function(t){this._host=t,null!=this._url?this._bucket=O.makeFromBucketSpec(this._url,t):this._bucket=kt(t,this.app.options)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._maxUploadRetryTime},set:function(t){L("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._maxOperationRetryTime},set:function(t){L("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t},enumerable:!1,configurable:!0}),t.prototype._getAuthToken=function(){return(0,i.mG)(this,void 0,void 0,(function(){var t,e;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return this._overrideAuthToken?[2,this._overrideAuthToken]:(t=this._authProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype._getAppCheckToken=function(){return(0,i.mG)(this,void 0,void 0,(function(){var t;return(0,i.Jh)(this,(function(e){switch(e.label){case 0:return(t=this._appCheckProvider.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:return[2,e.sent().token];case 2:return[2,null]}}))}))},t.prototype._delete=function(){return this._deleted||(this._deleted=!0,this._requests.forEach((function(t){return t.cancel()})),this._requests.clear()),Promise.resolve()},t.prototype._makeStorageReference=function(t){return new mt(this,t)},t.prototype._makeRequest=function(t,e,n){var r=this;if(this._deleted)return new N(p());var i=function(t,e,n,r,i,o){var a=M(t.urlParams),s=t.url+a,u=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(u,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(u,n),function(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(null!==e&&void 0!==e?e:"AppManager")}(u,o),function(t,e){null!==e&&(t["X-Firebase-AppCheck"]=e)}(u,r),new j(s,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i)}(t,this._appId,e,n,this._pool,this._firebaseVersion);return this._requests.add(i),i.getPromise().then((function(){return r._requests.delete(i)}),(function(){return r._requests.delete(i)})),i},t.prototype.makeRequestWithTokens=function(t){return(0,i.mG)(this,void 0,void 0,(function(){var e,n,r;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return[4,Promise.all([this._getAuthToken(),this._getAppCheckToken()])];case 1:return e=i.sent(),n=e[0],r=e[1],[2,this._makeRequest(t,n,r)]}}))}))},t}();function At(t,e,n){return function(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new pt(t,new q(e),n)}(t=(0,o.m9)(t),e,n)}function xt(t){return function(t){return(0,i.mG)(this,void 0,void 0,(function(){var e;return(0,i.Jh)(this,(function(n){switch(n.label){case 0:return t._throwIfRoot("getMetadata"),e=ot(t.storage,t._location,Z()),[4,t.storage.makeRequestWithTokens(e)];case 1:return[2,n.sent().getPromise()]}}))}))}(t=(0,o.m9)(t))}function Ot(t,e){return St(t=(0,o.m9)(t),e)}function Nt(t,e,n,r){void 0===r&&(r={}),function(t,e,n,r){void 0===r&&(r={}),t.host="http://"+e+":"+n;var i=r.mockUserToken;i&&(t._overrideAuthToken="string"===typeof i?i:(0,o.Sg)(i,t.app.options.projectId))}(t,e,n,r)}var Dt=function(){function t(t,e,n){this._delegate=t,this.task=e,this.ref=n}return Object.defineProperty(t.prototype,"bytesTransferred",{get:function(){return this._delegate.bytesTransferred},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return this._delegate.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._delegate.state},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"totalBytes",{get:function(){return this._delegate.totalBytes},enumerable:!1,configurable:!0}),t}(),Rt=function(){function t(t,e){this._delegate=t,this._ref=e,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}return Object.defineProperty(t.prototype,"snapshot",{get:function(){return new Dt(this._delegate.snapshot,this,this._ref)},enumerable:!1,configurable:!0}),t.prototype.then=function(t,e){var n=this;return this._delegate.then((function(e){if(t)return t(new Dt(e,n,n._ref))}),e)},t.prototype.on=function(t,e,n,r){var i=this,o=void 0;return e&&(o="function"===typeof e?function(t){return e(new Dt(t,i,i._ref))}:{next:e.next?function(t){return e.next(new Dt(t,i,i._ref))}:void 0,complete:e.complete||void 0,error:e.error||void 0}),this._delegate.on(t,o,n||void 0,r||void 0)},t}(),Pt=function(){function t(t,e){this._delegate=t,this._service=e}return Object.defineProperty(t.prototype,"prefixes",{get:function(){var t=this;return this._delegate.prefixes.map((function(e){return new Lt(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){var t=this;return this._delegate.items.map((function(e){return new Lt(e,t._service)}))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"nextPageToken",{get:function(){return this._delegate.nextPageToken||null},enumerable:!1,configurable:!0}),t}(),Lt=function(){function t(t,e){this._delegate=t,this.storage=e}return Object.defineProperty(t.prototype,"name",{get:function(){return this._delegate.name},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this._delegate.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this._delegate.fullPath},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this._delegate.toString()},t.prototype.child=function(e){var n=function(t,e){return Et(t,e)}(this._delegate,e);return new t(n,this.storage)},Object.defineProperty(t.prototype,"root",{get:function(){return new t(this._delegate.root,this.storage)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){var e=this._delegate.parent;return null==e?null:new t(e,this.storage)},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return this._throwIfRoot("put"),new Rt(At(this._delegate,t,e),this)},t.prototype.putString=function(t,e,n){void 0===e&&(e=y.RAW),this._throwIfRoot("putString");var r=w(e,t),o=(0,i.pi)({},n);return null==o.contentType&&null!=r.contentType&&(o.contentType=r.contentType),new Rt(new pt(this._delegate,new q(r.data,!0),o),this)},t.prototype.listAll=function(){var t=this;return function(t){return vt(t=(0,o.m9)(t))}(this._delegate).then((function(e){return new Pt(e,t.storage)}))},t.prototype.list=function(t){var e=this;return function(t,e){return yt(t=(0,o.m9)(t),e)}(this._delegate,t||void 0).then((function(t){return new Pt(t,e.storage)}))},t.prototype.getMetadata=function(){return xt(this._delegate)},t.prototype.updateMetadata=function(t){return function(t,e){return bt(t=(0,o.m9)(t),e)}(this._delegate,t)},t.prototype.getDownloadURL=function(){return function(t){return wt(t=(0,o.m9)(t))}(this._delegate)},t.prototype.delete=function(){return this._throwIfRoot("delete"),function(t){return _t(t=(0,o.m9)(t))}(this._delegate)},t.prototype._throwIfRoot=function(t){if(""===this._delegate._location.path)throw m(t)},t}(),Ft=function(){function t(t,e){this.app=t,this._delegate=e}return Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this._delegate.maxOperationRetryTime},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this._delegate.maxUploadRetryTime},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){if(Tt(t))throw d("ref() expected a child path but got a URL, use refFromURL instead.");return new Lt(Ot(this._delegate,t),this)},t.prototype.refFromURL=function(t){if(!Tt(t))throw d("refFromURL() expected a full URL but got a child path, use ref() instead.");try{O.makeFromUrl(t,this._delegate.host)}catch(e){throw d("refFromUrl() expected a valid full URL but got an invalid one.")}return new Lt(Ot(this._delegate,t),this)},t.prototype.setMaxUploadRetryTime=function(t){this._delegate.maxUploadRetryTime=t},t.prototype.setMaxOperationRetryTime=function(t){this._delegate.maxOperationRetryTime=t},t.prototype.useEmulator=function(t,e,n){void 0===n&&(n={}),Nt(this._delegate,t,e,n)},t}();function Mt(t,e){var n=e.instanceIdentifier,i=t.getProvider("app").getImmediate(),o=t.getProvider("auth-internal"),a=t.getProvider("app-check-internal");return new Ft(i,new Ct(i,o,a,new x,n,r.Z.SDK_VERSION))}!function(t){var e={TaskState:k,TaskEvent:S,StringFormat:y,Storage:Ct,Reference:Lt};t.INTERNAL.registerComponent(new a.wA("storage",Mt,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.7.1")}(r.Z)},3542:function(t,e,n){"use strict";var r,i;t.exports=(null==(r=n.g.process)?void 0:r.env)&&"object"===typeof(null==(i=n.g.process)?void 0:i.env)?n.g.process:n(2351)},283:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(9454)}])},1605:function(t,e,n){"use strict";var r={};n.r(r),n.d(r,{FunctionToString:function(){return u},InboundFilters:function(){return y}});var i={};n.r(i),n.d(i,{Breadcrumbs:function(){return Vt},Dedupe:function(){return Yt},GlobalHandlers:function(){return Ct},LinkedErrors:function(){return Wt},TryCatch:function(){return Pt},UserAgent:function(){return Xt}});var o,a=n(157),s=n(1995),u=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){o=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=(0,s.HK)(this)||this;return o.apply(n,t)}},t.id="FunctionToString",t}();var c=function(){return c=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},c.apply(this,arguments)};function l(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function h(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function f(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(h(arguments[e]));return t}var d=n(8536),p=n(3699),m=n(9660),v="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__,g=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],y=function(){function t(e){void 0===e&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(e,n){e((function(e){var r=n();if(r){var i=r.getIntegration(t);if(i){var o=r.getClient(),a=o?o.getOptions():{},s=function(t,e){void 0===t&&(t={});void 0===e&&(e={});return{allowUrls:f(t.whitelistUrls||[],t.allowUrls||[],e.whitelistUrls||[],e.allowUrls||[]),denyUrls:f(t.blacklistUrls||[],t.denyUrls||[],e.blacklistUrls||[],e.denyUrls||[]),ignoreErrors:f(t.ignoreErrors||[],e.ignoreErrors||[],g),ignoreInternal:void 0===t.ignoreInternal||t.ignoreInternal}}(i._options,a);return function(t,e){if(e.ignoreInternal&&function(t){try{return"SentryError"===t.exception.values[0].type}catch(e){}return!1}(t))return v&&d.kg.warn("Event dropped due to being internal Sentry Error.\nEvent: "+(0,p.jH)(t)),!0;if(function(t,e){if(!e||!e.length)return!1;return function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},n=e.type,r=void 0===n?"":n,i=e.value,o=void 0===i?"":i;return[""+o,r+": "+o]}catch(a){return v&&d.kg.error("Cannot extract message for event "+(0,p.jH)(t)),[]}return[]}(t).some((function(t){return e.some((function(e){return(0,m.zC)(t,e)}))}))}(t,e.ignoreErrors))return v&&d.kg.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+(0,p.jH)(t)),!0;if(function(t,e){if(!e||!e.length)return!1;var n=w(t);return!!n&&e.some((function(t){return(0,m.zC)(n,t)}))}(t,e.denyUrls))return v&&d.kg.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+(0,p.jH)(t)+".\nUrl: "+w(t)),!0;if(!function(t,e){if(!e||!e.length)return!0;var n=w(t);return!n||e.some((function(t){return(0,m.zC)(n,t)}))}(t,e.allowUrls))return v&&d.kg.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+(0,p.jH)(t)+".\nUrl: "+w(t)),!0;return!1}(e,s)?null:e}}return e}))},t.id="InboundFilters",t}();function b(t){void 0===t&&(t=[]);for(var e=t.length-1;e>=0;e--){var n=t[e];if(n&&"<anonymous>"!==n.filename&&"[native code]"!==n.filename)return n.filename||null}return null}function w(t){try{if(t.stacktrace)return b(t.stacktrace.frames);var e;try{e=t.exception.values[0].stacktrace.frames}catch(n){}return e?b(e):null}catch(r){return v&&d.kg.error("Cannot extract url for event "+(0,p.jH)(t)),null}}var _,E=n(5907),T=n(7183);!function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"}(_||(_={}));var I=n(4005),S=n(1757),k=n(4194),C=n(4715);var A=n(9038);function x(t,e,n){void 0===e&&(e=1/0),void 0===n&&(n=1/0);try{return N("",t,e,n)}catch(r){return{ERROR:"**non-serializable** ("+r+")"}}}function O(t,e,n){void 0===e&&(e=3),void 0===n&&(n=102400);var r,i=x(t,e);return r=i,function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(r))>n?O(t,e-1,n):i}function N(t,e,r,i,o){void 0===r&&(r=1/0),void 0===i&&(i=1/0),void 0===o&&(o=function(){var t="function"===typeof WeakSet,e=t?new WeakSet:[];return[function(n){if(t)return!!e.has(n)||(e.add(n),!1);for(var r=0;r<e.length;r++)if(e[r]===n)return!0;return e.push(n),!1},function(n){if(t)e.delete(n);else for(var r=0;r<e.length;r++)if(e[r]===n){e.splice(r,1);break}}]}());var a=(0,C.CR)(o,2),u=a[0],c=a[1],l=e;if(l&&"function"===typeof l.toJSON)try{return l.toJSON()}catch(g){}if(null===e||["number","boolean","string"].includes(typeof e)&&!(0,S.i2)(e))return e;var h=function(t,e){try{return"domain"===t&&e&&"object"===typeof e&&e._events?"[Domain]":"domainEmitter"===t?"[DomainEmitter]":"undefined"!==typeof n.g&&e===n.g?"[Global]":"undefined"!==typeof window&&e===window?"[Window]":"undefined"!==typeof document&&e===document?"[Document]":(0,S.Cy)(e)?"[SyntheticEvent]":"number"===typeof e&&e!==e?"[NaN]":void 0===e?"[undefined]":"function"===typeof e?"[Function: "+(0,A.$P)(e)+"]":"symbol"===typeof e?"["+String(e)+"]":"bigint"===typeof e?"[BigInt: "+String(e)+"]":"[object "+Object.getPrototypeOf(e).constructor.name+"]"}catch(g){return"**non-serializable** ("+g+")"}}(t,e);if(!h.startsWith("[object "))return h;if(0===r)return h.replace("object ","");if(u(e))return"[Circular ~]";var f=Array.isArray(e)?[]:{},d=0,p=(0,S.VZ)(e)||(0,S.cO)(e)?(0,s.Sh)(e):e;for(var m in p)if(Object.prototype.hasOwnProperty.call(p,m)){if(d>=i){f[m]="[MaxProperties ~]";break}var v=p[m];f[m]=N(m,v,r-1,i,o),d+=1}return c(e),f}var D=n(7946),R="?";function P(t,e,n,r){var i={filename:t,function:e,in_app:!0};return void 0!==n&&(i.lineno=n),void 0!==r&&(i.colno=r),i}var L=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,F=/\((\S*)(?::(\d+))(?::(\d+))\)/,M=[30,function(t){var e=L.exec(t);if(e){if(e[2]&&0===e[2].indexOf("eval")){var n=F.exec(e[2]);n&&(e[2]=n[1],e[3]=n[2],e[4]=n[3])}var r=(0,a.CR)(W(e[1]||R,e[2]),2),i=r[0];return P(r[1],i,e[3]?+e[3]:void 0,e[4]?+e[4]:void 0)}}],j=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,U=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,B=[50,function(t){var e,n=j.exec(t);if(n){if(n[3]&&n[3].indexOf(" > eval")>-1){var r=U.exec(n[3]);r&&(n[1]=n[1]||"eval",n[3]=r[1],n[4]=r[2],n[5]="")}var i=n[3],o=n[1]||R;return o=(e=(0,a.CR)(W(o,i),2))[0],P(i=e[1],o,n[4]?+n[4]:void 0,n[5]?+n[5]:void 0)}}],V=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,q=[40,function(t){var e=V.exec(t);return e?P(e[2],e[1]||R,+e[3],e[4]?+e[4]:void 0):void 0}],G=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,H=[10,function(t){var e=G.exec(t);return e?P(e[2],e[3]||R,+e[1]):void 0}],K=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,z=[20,function(t){var e=K.exec(t);return e?P(e[5],e[3]||e[4]||R,+e[1],+e[2]):void 0}],W=function(t,e){var n=-1!==t.indexOf("safari-extension"),r=-1!==t.indexOf("safari-web-extension");return n||r?[-1!==t.indexOf("@")?t.split("@")[0]:R,n?"safari-extension:"+e:"safari-web-extension:"+e]:[t,e]};function Z(t){var e=X(t),n={type:t&&t.name,value:$(t)};return e.length&&(n.stacktrace={frames:e}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function J(t){return{exception:{values:[Z(t)]}}}function X(t){var e=t.stacktrace||t.stack||"",n=function(t){if(t){if("number"===typeof t.framesToPop)return t.framesToPop;if(Y.test(t.message))return 1}return 0}(t);try{return(0,A.pE)(H,z,M,q,B)(e,n)}catch(r){}return[]}var Y=/Minified React error #\d+;/i;function $(t){var e=t&&t.message;return e?e.error&&"string"===typeof e.error.message?e.error.message:e:"No error message"}function Q(t,e,n,r){var i;if((0,S.VW)(t)&&t.error)return J(t.error);if((0,S.TX)(t)||(0,S.fm)(t)){var o=t;if("stack"in t)i=J(t);else{var u=o.name||((0,S.TX)(o)?"DOMError":"DOMException"),c=o.message?u+": "+o.message:u;i=tt(c,e,n),(0,p.Db)(i,c)}return"code"in o&&(i.tags=(0,a.pi)((0,a.pi)({},i.tags),{"DOMException.code":""+o.code})),i}return(0,S.VZ)(t)?J(t):(0,S.PO)(t)||(0,S.cO)(t)?(i=function(t,e,n){var r={exception:{values:[{type:(0,S.cO)(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+(0,s.zf)(t)}]},extra:{__serialized__:O(t)}};if(e){var i=X(e);i.length&&(r.stacktrace={frames:i})}return r}(t,e,r),(0,p.EG)(i,{synthetic:!0}),i):(i=tt(t,e,n),(0,p.Db)(i,""+t,void 0),(0,p.EG)(i,{synthetic:!0}),i)}function tt(t,e,n){var r={message:t};if(n&&e){var i=X(e);i.length&&(r.stacktrace={frames:i})}return r}var et="undefined"===typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;function nt(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function rt(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(nt(arguments[e]));return t}function it(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=(0,T.Gd)();if(r&&r[t])return r[t].apply(r,rt(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function ot(t,e){return it("captureException",t,{captureContext:e,originalException:t,syntheticException:new Error("Sentry syntheticException")})}function at(t){it("withScope",t)}var st=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(t,n)||(t[n]=e[n]);return t});var ut=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return r.message=e,r.name=n.prototype.constructor.name,st(r,n.prototype),r}return(0,C.ZT)(e,t),e}(Error),ct=n(1923),lt=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function ht(t,e){void 0===e&&(e=!1);var n=t.host,r=t.path,i=t.pass,o=t.port,a=t.projectId;return t.protocol+"://"+t.publicKey+(e&&i?":"+i:"")+"@"+n+(o?":"+o:"")+"/"+(r?r+"/":r)+a}function ft(t){return"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),{user:t.publicKey||"",protocol:t.protocol,publicKey:t.publicKey||"",pass:t.pass||"",host:t.host,port:t.port||"",path:t.path||"",projectId:t.projectId}}function dt(t){var e="string"===typeof t?function(t){var e=lt.exec(t);if(!e)throw new ut("Invalid Sentry Dsn: "+t);var n=(0,C.CR)(e.slice(1),6),r=n[0],i=n[1],o=n[2],a=void 0===o?"":o,s=n[3],u=n[4],c=void 0===u?"":u,l="",h=n[5],f=h.split("/");if(f.length>1&&(l=f.slice(0,-1).join("/"),h=f.pop()),h){var d=h.match(/^\d+/);d&&(h=d[0])}return ft({host:s,pass:a,path:l,projectId:h,port:c,protocol:r,publicKey:i})}(t):ft(t);return function(t){if(ct.h){var e=t.port,n=t.projectId,r=t.protocol;if(["protocol","publicKey","host","projectId"].forEach((function(e){if(!t[e])throw new ut("Invalid Sentry Dsn: "+e+" missing")})),!n.match(/^\d+$/))throw new ut("Invalid Sentry Dsn: Invalid projectId "+n);if(!function(t){return"http"===t||"https"===t}(r))throw new ut("Invalid Sentry Dsn: Invalid protocol "+r);if(e&&isNaN(parseInt(e,10)))throw new ut("Invalid Sentry Dsn: Invalid port "+e)}}(e),e}!function(){function t(t,e,n){void 0===e&&(e={}),this.dsn=t,this._dsnObject=dt(t),this.metadata=e,this._tunnel=n}t.prototype.getDsn=function(){return this._dsnObject},t.prototype.forceEnvelope=function(){return!!this._tunnel},t.prototype.getBaseApiEndpoint=function(){return mt(this._dsnObject)},t.prototype.getStoreEndpoint=function(){return yt(this._dsnObject)},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return bt(this._dsnObject)},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return wt(this._dsnObject,this._tunnel)}}();function pt(t,e,n){return{initDsn:t,metadata:e||{},dsn:dt(t),tunnel:n}}function mt(t){var e=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return e+"//"+t.host+n+(t.path?"/"+t.path:"")+"/api/"}function vt(t,e){return""+mt(t)+t.projectId+"/"+e+"/"}function gt(t){return(0,s._j)({sentry_key:t.publicKey,sentry_version:"7"})}function yt(t){return vt(t,"store")}function bt(t){return yt(t)+"?"+gt(t)}function wt(t,e){return e||function(t){return vt(t,"envelope")}(t)+"?"+gt(t)}var _t=(0,E.R)(),Et=0;function Tt(){return Et>0}function It(){Et+=1,setTimeout((function(){Et-=1}))}function St(t,e,n){if(void 0===e&&(e={}),"function"!==typeof t)return t;try{var r=t.__sentry_wrapped__;if(r)return r;if((0,s.HK)(t))return t}catch(u){return t}var i=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"===typeof n&&n.apply(this,arguments);var i=r.map((function(t){return St(t,e)}));return t.apply(this,i)}catch(o){throw It(),at((function(t){t.addEventProcessor((function(t){return e.mechanism&&((0,p.Db)(t,void 0,void 0),(0,p.EG)(t,e.mechanism)),t.extra=(0,a.pi)((0,a.pi)({},t.extra),{arguments:r}),t})),ot(o)})),o}};try{for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(i[o]=t[o])}catch(c){}(0,s.$Q)(i,t),(0,s.xp)(t,"__sentry_wrapped__",i);try{Object.getOwnPropertyDescriptor(i,"name").configurable&&Object.defineProperty(i,"name",{get:function(){return t.name}})}catch(c){}return i}function kt(t){if(void 0===t&&(t={}),_t.document)if(t.eventId)if(t.dsn){var e=_t.document.createElement("script");e.async=!0,e.src=function(t,e){var n=dt(t),r=mt(n)+"embed/error-page/",i="dsn="+ht(n);for(var o in e)if("dsn"!==o)if("user"===o){if(!e.user)continue;e.user.name&&(i+="&name="+encodeURIComponent(e.user.name)),e.user.email&&(i+="&email="+encodeURIComponent(e.user.email))}else i+="&"+encodeURIComponent(o)+"="+encodeURIComponent(e[o]);return r+"?"+i}(t.dsn,t),t.onLoad&&(e.onload=t.onLoad);var n=_t.document.head||_t.document.body;n&&n.appendChild(e)}else et&&d.kg.error("Missing dsn option in showReportDialog call");else et&&d.kg.error("Missing eventId option in showReportDialog call")}var Ct=function(){function t(e){this.name=t.id,this._installFunc={onerror:At,onunhandledrejection:xt},this._options=(0,a.pi)({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50;var t,e=this._options;for(var n in e){var r=this._installFunc[n];r&&e[n]&&(t=n,et&&d.kg.log("Global Handler attached: "+t),r(),this._installFunc[n]=void 0)}},t.id="GlobalHandlers",t}();function At(){(0,I.o)("error",(function(t){var e=(0,a.CR)(Dt(),2),n=e[0],r=e[1];if(n.getIntegration(Ct)){var i=t.msg,o=t.url,s=t.line,u=t.column,c=t.error;if(!(Tt()||c&&c.__sentry_own_request__)){var l=void 0===c&&(0,S.HD)(i)?function(t,e,n,r){var i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,o=(0,S.VW)(t)?t.message:t,a="Error",s=o.match(i);s&&(a=s[1],o=s[2]);return Ot({exception:{values:[{type:a,value:o}]}},e,n,r)}(i,o,s,u):Ot(Q(c||i,void 0,r,!1),o,s,u);l.level=_.Error,Nt(n,c,l,"onerror")}}}))}function xt(){(0,I.o)("unhandledrejection",(function(t){var e=(0,a.CR)(Dt(),2),n=e[0],r=e[1];if(n.getIntegration(Ct)){var i=t;try{"reason"in t?i=t.reason:"detail"in t&&"reason"in t.detail&&(i=t.detail.reason)}catch(s){}if(Tt()||i&&i.__sentry_own_request__)return!0;var o=(0,S.pt)(i)?{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(i)}]}}:Q(i,void 0,r,!0);o.level=_.Error,Nt(n,i,o,"onunhandledrejection")}}))}function Ot(t,e,n,r){var i=t.exception=t.exception||{},o=i.values=i.values||[],a=o[0]=o[0]||{},s=a.stacktrace=a.stacktrace||{},u=s.frames=s.frames||[],c=isNaN(parseInt(r,10))?void 0:r,l=isNaN(parseInt(n,10))?void 0:n,h=(0,S.HD)(e)&&e.length>0?e:(0,k.l)();return 0===u.length&&u.push({colno:c,filename:h,function:"?",in_app:!0,lineno:l}),t}function Nt(t,e,n,r){(0,p.EG)(n,{handled:!1,type:r}),t.captureEvent(n,{originalException:e})}function Dt(){var t=(0,T.Gd)(),e=t.getClient();return[t,e&&e.getOptions().attachStacktrace]}var Rt=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Pt=function(){function t(e){this.name=t.id,this._options=(0,a.pi)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}return t.prototype.setupOnce=function(){var t=(0,E.R)();this._options.setTimeout&&(0,s.hl)(t,"setTimeout",Lt),this._options.setInterval&&(0,s.hl)(t,"setInterval",Lt),this._options.requestAnimationFrame&&(0,s.hl)(t,"requestAnimationFrame",Ft),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&(0,s.hl)(XMLHttpRequest.prototype,"send",Mt);var e=this._options.eventTarget;e&&(Array.isArray(e)?e:Rt).forEach(jt)},t.id="TryCatch",t}();function Lt(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0];return e[0]=St(r,{mechanism:{data:{function:(0,A.$P)(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}}function Ft(t){return function(e){return t.apply(this,[St(e,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,A.$P)(t)},handled:!0,type:"instrument"}})])}}function Mt(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this,i=["onload","onerror","onprogress","onreadystatechange"];return i.forEach((function(t){t in r&&"function"===typeof r[t]&&(0,s.hl)(r,t,(function(e){var n={mechanism:{data:{function:t,handler:(0,A.$P)(e)},handled:!0,type:"instrument"}},r=(0,s.HK)(e);return r&&(n.mechanism.data.handler=(0,A.$P)(r)),St(e,n)}))})),t.apply(this,e)}}function jt(t){var e=(0,E.R)(),n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&((0,s.hl)(n,"addEventListener",(function(e){return function(n,r,i){try{"function"===typeof r.handleEvent&&(r.handleEvent=St(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:(0,A.$P)(r),target:t},handled:!0,type:"instrument"}}))}catch(o){}return e.apply(this,[n,St(r,{mechanism:{data:{function:"addEventListener",handler:(0,A.$P)(r),target:t},handled:!0,type:"instrument"}}),i])}})),(0,s.hl)(n,"removeEventListener",(function(t){return function(e,n,r){var i=n;try{var o=i&&i.__sentry_wrapped__;o&&t.call(this,e,o,r)}catch(a){}return t.call(this,e,i,r)}})))}var Ut=["fatal","error","warning","log","info","debug","critical"];function Bt(t){return"warn"===t?_.Warning:function(t){return-1!==Ut.indexOf(t)}(t)?t:_.Log}var Vt=function(){function t(e){this.name=t.id,this._options=(0,a.pi)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype.addSentryBreadcrumb=function(t){this._options.sentry&&(0,T.Gd)().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:(0,p.jH)(t)},{event:t})},t.prototype.setupOnce=function(){this._options.console&&(0,I.o)("console",qt),this._options.dom&&(0,I.o)("dom",function(t){function e(e){var n,r="object"===typeof t?t.serializeAttribute:void 0;"string"===typeof r&&(r=[r]);try{n=e.event.target?(0,k.R)(e.event.target,r):(0,k.R)(e.event,r)}catch(i){n="<unknown>"}0!==n.length&&(0,T.Gd)().addBreadcrumb({category:"ui."+e.name,message:n},{event:e.event,name:e.name,global:e.global})}return e}(this._options.dom)),this._options.xhr&&(0,I.o)("xhr",Gt),this._options.fetch&&(0,I.o)("fetch",Ht),this._options.history&&(0,I.o)("history",Kt)},t.id="Breadcrumbs",t}();function qt(t){var e={category:"console",data:{arguments:t.args,logger:"console"},level:Bt(t.level),message:(0,m.nK)(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;e.message="Assertion failed: "+((0,m.nK)(t.args.slice(1)," ")||"console.assert"),e.data.arguments=t.args.slice(1)}(0,T.Gd)().addBreadcrumb(e,{input:t.args,level:t.level})}function Gt(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;var e=t.xhr.__sentry_xhr__||{},n=e.method,r=e.url,i=e.status_code,o=e.body;(0,T.Gd)().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:i},type:"http"},{xhr:t.xhr,input:o})}else;}function Ht(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method||(t.error?(0,T.Gd)().addBreadcrumb({category:"fetch",data:t.fetchData,level:_.Error,type:"http"},{data:t.error,input:t.args}):(0,T.Gd)().addBreadcrumb({category:"fetch",data:(0,a.pi)((0,a.pi)({},t.fetchData),{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response})))}function Kt(t){var e=(0,E.R)(),n=t.from,r=t.to,i=(0,p.en)(e.location.href),o=(0,p.en)(n),a=(0,p.en)(r);o.path||(o=i),i.protocol===a.protocol&&i.host===a.host&&(r=a.relative),i.protocol===o.protocol&&i.host===o.host&&(n=o.relative),(0,T.Gd)().addBreadcrumb({category:"navigation",data:{from:n,to:r}})}var zt=n(1684),Wt=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._key=e.key||"cause",this._limit=e.limit||5}return t.prototype.setupOnce=function(){(0,zt.c)((function(e,n){var r=(0,T.Gd)().getIntegration(t);return r?function(t,e,n,r){if(!n.exception||!n.exception.values||!r||!(0,S.V9)(r.originalException,Error))return n;var i=Zt(e,r.originalException,t);return n.exception.values=(0,a.fl)(i,n.exception.values),n}(r._key,r._limit,e,n):e}))},t.id="LinkedErrors",t}();function Zt(t,e,n,r){if(void 0===r&&(r=[]),!(0,S.V9)(e[n],Error)||r.length+1>=t)return r;var i=Z(e[n]);return Zt(t,e[n],n,(0,a.fl)([i],r))}var Jt=(0,E.R)(),Xt=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){(0,zt.c)((function(e){if((0,T.Gd)().getIntegration(t)){if(!Jt.navigator&&!Jt.location&&!Jt.document)return e;var n=e.request&&e.request.url||Jt.location&&Jt.location.href,r=(Jt.document||{}).referrer,i=(Jt.navigator||{}).userAgent,o=(0,a.pi)((0,a.pi)((0,a.pi)({},e.request&&e.request.headers),r&&{Referer:r}),i&&{"User-Agent":i}),s=(0,a.pi)((0,a.pi)({},n&&{url:n}),{headers:o});return(0,a.pi)((0,a.pi)({},e),{request:s})}return e}))},t.id="UserAgent",t}(),Yt=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(e,n){e((function(e){var r=n().getIntegration(t);if(r){try{if(function(t,e){if(!e)return!1;if(function(t,e){var n=t.message,r=e.message;if(!n&&!r)return!1;if(n&&!r||!n&&r)return!1;if(n!==r)return!1;if(!Qt(t,e))return!1;if(!$t(t,e))return!1;return!0}(t,e))return!0;if(function(t,e){var n=te(e),r=te(t);if(!n||!r)return!1;if(n.type!==r.type||n.value!==r.value)return!1;if(!Qt(t,e))return!1;if(!$t(t,e))return!1;return!0}(t,e))return!0;return!1}(e,r._previousEvent))return et&&d.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(i){return r._previousEvent=e}return r._previousEvent=e}return e}))},t.id="Dedupe",t}();function $t(t,e){var n=ee(t),r=ee(e);if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;if(r.length!==n.length)return!1;for(var i=0;i<r.length;i++){var o=r[i],a=n[i];if(o.filename!==a.filename||o.lineno!==a.lineno||o.colno!==a.colno||o.function!==a.function)return!1}return!0}function Qt(t,e){var n=t.fingerprint,r=e.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;try{return!(n.join("")!==r.join(""))}catch(i){return!1}}function te(t){return t.exception&&t.exception.values&&t.exception.values[0]}function ee(t){var e=t.exception;if(e)try{return e.values[0].stacktrace.frames}catch(n){return}else if(t.stacktrace)return t.stacktrace.frames}var ne={},re=(0,E.R)();re.Sentry&&re.Sentry.Integrations&&(ne=re.Sentry.Integrations);var ie=(0,a.pi)((0,a.pi)((0,a.pi)({},ne),r),i),oe="6.19.7";var ae=n(7790),se=[];function ue(t){return t.reduce((function(t,e){return t.every((function(t){return e.name!==t.name}))&&t.push(e),t}),[])}function ce(t){var e={};return function(t){var e=t.defaultIntegrations&&f(t.defaultIntegrations)||[],n=t.integrations,r=f(ue(e));Array.isArray(n)?r=f(r.filter((function(t){return n.every((function(e){return e.name!==t.name}))})),ue(n)):"function"===typeof n&&(r=n(r),r=Array.isArray(r)?r:[r]);var i=r.map((function(t){return t.name})),o="Debug";return-1!==i.indexOf(o)&&r.push.apply(r,f(r.splice(i.indexOf(o),1))),r}(t).forEach((function(t){e[t.name]=t,function(t){-1===se.indexOf(t.name)&&(t.setupOnce(zt.c,T.Gd),se.push(t.name),v&&d.kg.log("Integration installed: "+t.name))}(t)})),(0,s.xp)(e,"initialized",!0),e}var le="Not capturing exception because it's already been captured.",he=function(){function t(t,e){this._integrations={},this._numProcessing=0,this._backend=new t(e),this._options=e,e.dsn&&(this._dsn=dt(e.dsn))}return t.prototype.captureException=function(t,e,n){var r=this;if(!(0,p.YO)(t)){var i=e&&e.event_id;return this._process(this._getBackend().eventFromException(t,e).then((function(t){return r._captureEvent(t,e,n)})).then((function(t){i=t}))),i}v&&d.kg.log(le)},t.prototype.captureMessage=function(t,e,n,r){var i=this,o=n&&n.event_id,a=(0,S.pt)(t)?this._getBackend().eventFromMessage(String(t),e,n):this._getBackend().eventFromException(t,n);return this._process(a.then((function(t){return i._captureEvent(t,n,r)})).then((function(t){o=t}))),o},t.prototype.captureEvent=function(t,e,n){if(!(e&&e.originalException&&(0,p.YO)(e.originalException))){var r=e&&e.event_id;return this._process(this._captureEvent(t,e,n).then((function(t){r=t}))),r}v&&d.kg.log(le)},t.prototype.captureSession=function(t){this._isEnabled()?"string"!==typeof t.release?v&&d.kg.warn("Discarded session because of missing or non-string release"):(this._sendSession(t),t.update({init:!1})):v&&d.kg.warn("SDK not enabled, will not capture session.")},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.getTransport=function(){return this._getBackend().getTransport()},t.prototype.flush=function(t){var e=this;return this._isClientDoneProcessing(t).then((function(n){return e.getTransport().close(t).then((function(t){return n&&t}))}))},t.prototype.close=function(t){var e=this;return this.flush(t).then((function(t){return e.getOptions().enabled=!1,t}))},t.prototype.setupIntegrations=function(){this._isEnabled()&&!this._integrations.initialized&&(this._integrations=ce(this._options))},t.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return v&&d.kg.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t.prototype._updateSessionFromEvent=function(t,e){var n,r,i=!1,o=!1,a=e.exception&&e.exception.values;if(a){o=!0;try{for(var s=l(a),u=s.next();!u.done;u=s.next()){var h=u.value.mechanism;if(h&&!1===h.handled){i=!0;break}}}catch(d){n={error:d}}finally{try{u&&!u.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}}var f="ok"===t.status;(f&&0===t.errors||f&&i)&&(t.update(c(c({},i&&{status:"crashed"}),{errors:t.errors||Number(o||i)})),this.captureSession(t))},t.prototype._sendSession=function(t){this._getBackend().sendSession(t)},t.prototype._isClientDoneProcessing=function(t){var e=this;return new D.cW((function(n){var r=0,i=setInterval((function(){0==e._numProcessing?(clearInterval(i),n(!0)):(r+=1,t&&r>=t&&(clearInterval(i),n(!1)))}),1)}))},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},t.prototype._prepareEvent=function(t,e,n){var r=this,i=this.getOptions(),o=i.normalizeDepth,a=void 0===o?3:o,s=i.normalizeMaxBreadth,u=void 0===s?1e3:s,l=c(c({},t),{event_id:t.event_id||(n&&n.event_id?n.event_id:(0,p.DM)()),timestamp:t.timestamp||(0,ae.yW)()});this._applyClientOptions(l),this._applyIntegrationsMetadata(l);var h=e;n&&n.captureContext&&(h=zt.s.clone(h).update(n.captureContext));var f=(0,D.WD)(l);return h&&(f=h.applyToEvent(l,n)),f.then((function(t){return t&&(t.sdkProcessingMetadata=c(c({},t.sdkProcessingMetadata),{normalizeDepth:x(a)+" ("+typeof a+")"})),"number"===typeof a&&a>0?r._normalizeEvent(t,a,u):t}))},t.prototype._normalizeEvent=function(t,e,n){if(!t)return null;var r=c(c(c(c(c({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((function(t){return c(c({},t),t.data&&{data:x(t.data,e,n)})}))}),t.user&&{user:x(t.user,e,n)}),t.contexts&&{contexts:x(t.contexts,e,n)}),t.extra&&{extra:x(t.extra,e,n)});return t.contexts&&t.contexts.trace&&(r.contexts.trace=t.contexts.trace),r.sdkProcessingMetadata=c(c({},r.sdkProcessingMetadata),{baseClientNormalized:!0}),r},t.prototype._applyClientOptions=function(t){var e=this.getOptions(),n=e.environment,r=e.release,i=e.dist,o=e.maxValueLength,a=void 0===o?250:o;"environment"in t||(t.environment="environment"in e?n:"production"),void 0===t.release&&void 0!==r&&(t.release=r),void 0===t.dist&&void 0!==i&&(t.dist=i),t.message&&(t.message=(0,m.$G)(t.message,a));var s=t.exception&&t.exception.values&&t.exception.values[0];s&&s.value&&(s.value=(0,m.$G)(s.value,a));var u=t.request;u&&u.url&&(u.url=(0,m.$G)(u.url,a))},t.prototype._applyIntegrationsMetadata=function(t){var e=Object.keys(this._integrations);e.length>0&&(t.sdk=t.sdk||{},t.sdk.integrations=f(t.sdk.integrations||[],e))},t.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},t.prototype._captureEvent=function(t,e,n){return this._processEvent(t,e,n).then((function(t){return t.event_id}),(function(t){v&&d.kg.error(t)}))},t.prototype._processEvent=function(t,e,n){var r=this,i=this.getOptions(),o=i.beforeSend,a=i.sampleRate,s=this.getTransport();function u(t,e){s.recordLostEvent&&s.recordLostEvent(t,e)}if(!this._isEnabled())return(0,D.$2)(new ut("SDK not enabled, will not capture event."));var c="transaction"===t.type;return!c&&"number"===typeof a&&Math.random()>a?(u("sample_rate","event"),(0,D.$2)(new ut("Discarding event because it's not included in the random sample (sampling rate = "+a+")"))):this._prepareEvent(t,n,e).then((function(n){if(null===n)throw u("event_processor",t.type||"event"),new ut("An event processor returned null, will not send event.");return e&&e.data&&!0===e.data.__sentry__||c||!o?n:function(t){var e="`beforeSend` method has to return `null` or a valid event.";if((0,S.J8)(t))return t.then((function(t){if(!(0,S.PO)(t)&&null!==t)throw new ut(e);return t}),(function(t){throw new ut("beforeSend rejected with "+t)}));if(!(0,S.PO)(t)&&null!==t)throw new ut(e);return t}(o(n,e))})).then((function(e){if(null===e)throw u("before_send",t.type||"event"),new ut("`beforeSend` returned `null`, will not send event.");var i=n&&n.getSession&&n.getSession();return!c&&i&&r._updateSessionFromEvent(i,e),r._sendEvent(e),e})).then(null,(function(t){if(t instanceof ut)throw t;throw r.captureException(t,{data:{__sentry__:!0},originalException:t}),new ut("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+t)}))},t.prototype._process=function(t){var e=this;this._numProcessing+=1,t.then((function(t){return e._numProcessing-=1,t}),(function(t){return e._numProcessing-=1,t}))},t}();function fe(t,e){return void 0===e&&(e=[]),[t,e]}function de(t){var e=(0,C.CR)(t,2),n=e[0],r=e[1],i=JSON.stringify(n);return r.reduce((function(t,e){var n=(0,C.CR)(e,2),r=n[0],i=n[1],o=(0,S.pt)(i)?String(i):JSON.stringify(i);return t+"\n"+JSON.stringify(r)+"\n"+o}),i)}function pe(t){if(t.metadata&&t.metadata.sdk){var e=t.metadata.sdk;return{name:e.name,version:e.version}}}function me(t,e){return e?(t.sdk=t.sdk||{},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=f(t.sdk.integrations||[],e.integrations||[]),t.sdk.packages=f(t.sdk.packages||[],e.packages||[]),t):t}function ve(t,e){var n=pe(e),r="aggregates"in t?"sessions":"session";return[fe(c(c({sent_at:(new Date).toISOString()},n&&{sdk:n}),!!e.tunnel&&{dsn:ht(e.dsn)}),[[{type:r},t]]),r]}var ge=function(){function t(){}return t.prototype.sendEvent=function(t){return(0,D.WD)({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:"skipped"})},t.prototype.close=function(t){return(0,D.WD)(!0)},t}(),ye=function(){function t(t){this._options=t,this._options.dsn||v&&d.kg.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype.eventFromException=function(t,e){throw new ut("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(t,e,n){throw new ut("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(t){if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var e=function(t,e){var n=pe(e),r=t.type||"event",i=(t.sdkProcessingMetadata||{}).transactionSampling||{},o=i.method,a=i.rate;return me(t,e.metadata.sdk),t.tags=t.tags||{},t.extra=t.extra||{},t.sdkProcessingMetadata&&t.sdkProcessingMetadata.baseClientNormalized||(t.tags.skippedNormalization=!0,t.extra.normalizeDepth=t.sdkProcessingMetadata?t.sdkProcessingMetadata.normalizeDepth:"unset"),delete t.sdkProcessingMetadata,fe(c(c({event_id:t.event_id,sent_at:(new Date).toISOString()},n&&{sdk:n}),!!e.tunnel&&{dsn:ht(e.dsn)}),[[{type:r,sample_rates:[{id:o,rate:a}]},t]])}(t,pt(this._options.dsn,this._options._metadata,this._options.tunnel));this._newTransport.send(e).then(null,(function(t){v&&d.kg.error("Error while sending event:",t)}))}else this._transport.sendEvent(t).then(null,(function(t){v&&d.kg.error("Error while sending event:",t)}))},t.prototype.sendSession=function(t){if(this._transport.sendSession)if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var e=h(ve(t,pt(this._options.dsn,this._options._metadata,this._options.tunnel)),1)[0];this._newTransport.send(e).then(null,(function(t){v&&d.kg.error("Error while sending session:",t)}))}else this._transport.sendSession(t).then(null,(function(t){v&&d.kg.error("Error while sending session:",t)}));else v&&d.kg.warn("Dropping session because custom transport doesn't implement sendSession")},t.prototype.getTransport=function(){return this._transport},t.prototype._setupTransport=function(){return new ge},t}(),be=n(9798);function we(t){var e=[];function n(t){return e.splice(e.indexOf(t),1)[0]}return{$:e,add:function(r){if(!(void 0===t||e.length<t))return(0,D.$2)(new ut("Not adding Promise due to buffer limit reached."));var i=r();return-1===e.indexOf(i)&&e.push(i),i.then((function(){return n(i)})).then(null,(function(){return n(i).then(null,(function(){}))})),i},drain:function(t){return new D.cW((function(n,r){var i=e.length;if(!i)return n(!0);var o=setTimeout((function(){t&&t>0&&n(!1)}),t);e.forEach((function(t){(0,D.WD)(t).then((function(){--i||(clearTimeout(o),n(!0))}),r)}))}))}}}function _e(t,e){return t[e]||t.all||0}function Ee(t,e,n){return void 0===n&&(n=Date.now()),_e(t,e)>n}function Te(t,e,n){var r,i,o,a;void 0===n&&(n=Date.now());var s=(0,C.pi)({},t),u=e["x-sentry-rate-limits"],c=e["retry-after"];if(u)try{for(var l=(0,C.XA)(u.trim().split(",")),h=l.next();!h.done;h=l.next()){var f=h.value.split(":",2),d=parseInt(f[0],10),p=1e3*(isNaN(d)?60:d);if(f[1])try{for(var m=(o=void 0,(0,C.XA)(f[1].split(";"))),v=m.next();!v.done;v=m.next()){s[v.value]=n+p}}catch(g){o={error:g}}finally{try{v&&!v.done&&(a=m.return)&&a.call(m)}finally{if(o)throw o.error}}else s.all=n+p}}catch(y){r={error:y}}finally{try{h&&!h.done&&(i=l.return)&&i.call(l)}finally{if(r)throw r.error}}else c&&(s.all=n+function(t,e){void 0===e&&(e=Date.now());var n=parseInt(""+t,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+t);return isNaN(r)?6e4:r-e}(c,n));return s}function Ie(t){return t>=200&&t<300?"success":429===t?"rate_limit":t>=400&&t<500?"invalid":t>=500?"failed":"unknown"}function Se(t,e,n){void 0===n&&(n=we(t.bufferSize||30));var r={};return{send:function(t){var i=function(t){var e=(0,C.CR)(t,2),n=(0,C.CR)(e[1],1);return(0,C.CR)(n[0],1)[0].type}(t),o="event"===i?"error":i,a={category:o,body:de(t)};return Ee(r,o)?(0,D.$2)({status:"rate_limit",reason:ke(r,o)}):n.add((function(){return e(a).then((function(t){var e=t.body,n=t.headers,i=t.reason,a=Ie(t.statusCode);return n&&(r=Te(r,n)),"success"===a?(0,D.WD)({status:a,reason:i}):(0,D.$2)({status:a,reason:i||e||("rate_limit"===a?ke(r,o):"Unknown transport error")})}))}))},flush:function(t){return n.drain(t)}}}function ke(t,e){return"Too many "+e+" requests, backing off until: "+new Date(_e(t,e)).toISOString()}var Ce,Ae=(0,E.R)();function xe(){if(Ce)return Ce;if((0,be.Du)(Ae.fetch))return Ce=Ae.fetch.bind(Ae);var t=Ae.document,e=Ae.fetch;if(t&&"function"===typeof t.createElement)try{var n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n);var r=n.contentWindow;r&&r.fetch&&(e=r.fetch),t.head.removeChild(n)}catch(i){et&&d.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return Ce=e.bind(Ae)}function Oe(t,e){if("[object Navigator]"===Object.prototype.toString.call(Ae&&Ae.navigator)&&"function"===typeof Ae.navigator.sendBeacon)return Ae.navigator.sendBeacon.bind(Ae.navigator)(t,e);if((0,be.Ak)()){var n=xe();n(t,{body:e,method:"POST",credentials:"omit",keepalive:!0}).then(null,(function(t){console.error(t)}))}else;}function Ne(t){return"event"===t?"error":t}var De=(0,E.R)(),Re=function(){function t(t){var e=this;this.options=t,this._buffer=we(30),this._rateLimits={},this._outcomes={},this._api=pt(t.dsn,t._metadata,t.tunnel),this.url=bt(this._api.dsn),this.options.sendClientReports&&De.document&&De.document.addEventListener("visibilitychange",(function(){"hidden"===De.document.visibilityState&&e._flushOutcomes()}))}return t.prototype.sendEvent=function(t){return this._sendRequest(function(t,e){var n,r=pe(e),i=t.type||"event",o="transaction"===i||!!e.tunnel,a=(t.sdkProcessingMetadata||{}).transactionSampling||{},s=a.method,u=a.rate;me(t,e.metadata.sdk),t.tags=t.tags||{},t.extra=t.extra||{},t.sdkProcessingMetadata&&t.sdkProcessingMetadata.baseClientNormalized||(t.tags.skippedNormalization=!0,t.extra.normalizeDepth=t.sdkProcessingMetadata?t.sdkProcessingMetadata.normalizeDepth:"unset"),delete t.sdkProcessingMetadata;try{n=JSON.stringify(t)}catch(d){t.tags.JSONStringifyError=!0,t.extra.JSONStringifyError=d;try{n=JSON.stringify(x(t))}catch(p){var l=p;n=JSON.stringify({message:"JSON.stringify error after renormalization",extra:{message:l.message,stack:l.stack}})}}var h={body:n,type:i,url:o?wt(e.dsn,e.tunnel):bt(e.dsn)};if(o){var f=fe(c(c({event_id:t.event_id,sent_at:(new Date).toISOString()},r&&{sdk:r}),!!e.tunnel&&{dsn:ht(e.dsn)}),[[{type:i,sample_rates:[{id:s,rate:u}]},h.body]]);h.body=de(f)}return h}(t,this._api),t)},t.prototype.sendSession=function(t){return this._sendRequest(function(t,e){var n=h(ve(t,e),2),r=n[0],i=n[1];return{body:de(r),type:i,url:wt(e.dsn,e.tunnel)}}(t,this._api),t)},t.prototype.close=function(t){return this._buffer.drain(t)},t.prototype.recordLostEvent=function(t,e){var n;if(this.options.sendClientReports){var r=Ne(e)+":"+t;et&&d.kg.log("Adding outcome: "+r),this._outcomes[r]=(null!==(n=this._outcomes[r])&&void 0!==n?n:0)+1}},t.prototype._flushOutcomes=function(){if(this.options.sendClientReports){var t=this._outcomes;if(this._outcomes={},Object.keys(t).length){et&&d.kg.log("Flushing outcomes:\n"+JSON.stringify(t,null,2));var e,n,r,i=wt(this._api.dsn,this._api.tunnel),o=Object.keys(t).map((function(e){var n=(0,a.CR)(e.split(":"),2),r=n[0];return{reason:n[1],category:r,quantity:t[e]}})),s=(e=o,fe((n=this._api.tunnel&&ht(this._api.dsn))?{dsn:n}:{},[[{type:"client_report"},{timestamp:r||(0,ae.yW)(),discarded_events:e}]]));try{Oe(i,de(s))}catch(u){et&&d.kg.error(u)}}else et&&d.kg.log("No outcomes to flush")}},t.prototype._handleResponse=function(t){var e=t.requestType,n=t.response,r=t.headers,i=t.resolve,o=t.reject,a=Ie(n.status);this._rateLimits=Te(this._rateLimits,r),this._isRateLimited(e)&&et&&d.kg.warn("Too many "+e+" requests, backing off until: "+this._disabledUntil(e)),"success"!==a?o(n):i({status:a})},t.prototype._disabledUntil=function(t){var e=Ne(t);return new Date(_e(this._rateLimits,e))},t.prototype._isRateLimited=function(t){var e=Ne(t);return Ee(this._rateLimits,e)},t}(),Pe=function(t){function e(e,n){void 0===n&&(n=xe());var r=t.call(this,e)||this;return r._fetch=n,r}return(0,a.ZT)(e,t),e.prototype._sendRequest=function(t,e){var n=this;if(this._isRateLimited(t.type))return this.recordLostEvent("ratelimit_backoff",t.type),Promise.reject({event:e,type:t.type,reason:"Transport for "+t.type+" requests locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429});var r={body:t.body,method:"POST",referrerPolicy:(0,be.hv)()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(r,this.options.fetchParameters),void 0!==this.options.headers&&(r.headers=this.options.headers),this._buffer.add((function(){return new D.cW((function(e,i){n._fetch(t.url,r).then((function(r){var o={"x-sentry-rate-limits":r.headers.get("X-Sentry-Rate-Limits"),"retry-after":r.headers.get("Retry-After")};n._handleResponse({requestType:t.type,response:r,headers:o,resolve:e,reject:i})})).catch(i)}))})).then(void 0,(function(e){throw e instanceof ut?n.recordLostEvent("queue_overflow",t.type):n.recordLostEvent("network_error",t.type),e}))},e}(Re);var Le=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.ZT)(e,t),e.prototype._sendRequest=function(t,e){var n=this;return this._isRateLimited(t.type)?(this.recordLostEvent("ratelimit_backoff",t.type),Promise.reject({event:e,type:t.type,reason:"Transport for "+t.type+" requests locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429})):this._buffer.add((function(){return new D.cW((function(e,r){var i=new XMLHttpRequest;for(var o in i.onreadystatechange=function(){if(4===i.readyState){var o={"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")};n._handleResponse({requestType:t.type,response:i,headers:o,resolve:e,reject:r})}},i.open("POST",t.url),n.options.headers)Object.prototype.hasOwnProperty.call(n.options.headers,o)&&i.setRequestHeader(o,n.options.headers[o]);i.send(t.body)}))})).then(void 0,(function(e){throw e instanceof ut?n.recordLostEvent("queue_overflow",t.type):n.recordLostEvent("network_error",t.type),e}))},e}(Re),Fe=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return(0,a.ZT)(e,t),e.prototype.eventFromException=function(t,e){return function(t,e,n){var r=Q(t,e&&e.syntheticException||void 0,n);return(0,p.EG)(r),r.level=_.Error,e&&e.event_id&&(r.event_id=e.event_id),(0,D.WD)(r)}(t,e,this._options.attachStacktrace)},e.prototype.eventFromMessage=function(t,e,n){return void 0===e&&(e=_.Info),function(t,e,n,r){void 0===e&&(e=_.Info);var i=tt(t,n&&n.syntheticException||void 0,r);return i.level=e,n&&n.event_id&&(i.event_id=n.event_id),(0,D.WD)(i)}(t,e,n,this._options.attachStacktrace)},e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var e,n,r=(0,a.pi)((0,a.pi)({},this._options.transportOptions),{dsn:this._options.dsn,tunnel:this._options.tunnel,sendClientReports:this._options.sendClientReports,_metadata:this._options._metadata}),i=pt(r.dsn,r._metadata,r.tunnel),o=wt(i.dsn,i.tunnel);if(this._options.transport)return new this._options.transport(r);if((0,be.Ak)()){var s=(0,a.pi)({},r.fetchParameters);return this._newTransport=(e={requestOptions:s,url:o},void 0===n&&(n=xe()),Se({bufferSize:e.bufferSize},(function(t){var r=(0,a.pi)({body:t.body,method:"POST",referrerPolicy:"origin"},e.requestOptions);return n(e.url,r).then((function(t){return t.text().then((function(e){return{body:e,headers:{"x-sentry-rate-limits":t.headers.get("X-Sentry-Rate-Limits"),"retry-after":t.headers.get("Retry-After")},reason:t.statusText,statusCode:t.status}}))}))}))),new Pe(r)}return this._newTransport=function(t){return Se({bufferSize:t.bufferSize},(function(e){return new D.cW((function(n,r){var i=new XMLHttpRequest;for(var o in i.onreadystatechange=function(){if(4===i.readyState){var t={body:i.response,headers:{"x-sentry-rate-limits":i.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":i.getResponseHeader("Retry-After")},reason:i.statusText,statusCode:i.status};n(t)}},i.open("POST",t.url),t.headers)Object.prototype.hasOwnProperty.call(t.headers,o)&&i.setRequestHeader(o,t.headers[o]);i.send(e.body)}))}))}({url:o,headers:r.headers}),new Le(r)},e}(ye),Me=function(t){function e(e){void 0===e&&(e={});return e._metadata=e._metadata||{},e._metadata.sdk=e._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:oe}],version:oe},t.call(this,Fe,e)||this}return(0,a.ZT)(e,t),e.prototype.showReportDialog=function(t){void 0===t&&(t={}),(0,E.R)().document&&(this._isEnabled()?kt((0,a.pi)((0,a.pi)({},t),{dsn:t.dsn||this.getDsn()})):et&&d.kg.error("Trying to call showReportDialog with Sentry Client disabled"))},e.prototype._prepareEvent=function(e,n,r){return e.platform=e.platform||"javascript",t.prototype._prepareEvent.call(this,e,n,r)},e.prototype._sendEvent=function(e){var n=this.getIntegration(Vt);n&&n.addSentryBreadcrumb(e),t.prototype._sendEvent.call(this,e)},e}(he),je=[new y,new u,new Pt,new Vt,new Ct,new Wt,new Yt,new Xt];function Ue(t){if(void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=je),void 0===t.release){var e=(0,E.R)();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}void 0===t.autoSessionTracking&&(t.autoSessionTracking=!0),void 0===t.sendClientReports&&(t.sendClientReports=!0),function(t,e){!0===e.debug&&(v?d.kg.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var n=(0,T.Gd)(),r=n.getScope();r&&r.update(e.initialScope);var i=new t(e);n.bindClient(i)}(Me,t),t.autoSessionTracking&&function(){if("undefined"===typeof(0,E.R)().document)return void(et&&d.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));var t=(0,T.Gd)();if(!t.captureSession)return;Be(t),(0,I.o)("history",(function(t){var e=t.from,n=t.to;void 0!==e&&e!==n&&Be((0,T.Gd)())}))}()}function Be(t){t.startSession({ignoreDuration:!0}),t.captureSession()}var Ve=n(2252),qe=n(4741),Ge=n(1177),He=n(1265),Ke=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");var ze=n(7734),We=(0,E.R)();var Ze=n(4266),Je=function(t,e,n){var r;return function(i){e.value>=0&&(i||n)&&(e.delta=e.value-(r||0),(e.delta||void 0===r)&&(r=e.value,t(e)))}},Xe=function(t,e){return{name:t,value:null!==e&&void 0!==e?e:-1,delta:0,entries:[],id:"v2-"+Date.now()+"-"+(Math.floor(8999999999999*Math.random())+1e12)}},Ye=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){if("first-input"===t&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(t){return t.getEntries().map(e)}));return n.observe({type:t,buffered:!0}),n}}catch(r){}},$e=function(t,e){var n=function(r){"pagehide"!==r.type&&"hidden"!==(0,E.R)().document.visibilityState||(t(r),e&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},Qe=-1,tn=function(){return Qe<0&&(Qe="hidden"===(0,E.R)().document.visibilityState?0:1/0,$e((function(t){var e=t.timeStamp;Qe=e}),!0)),{get firstHiddenTime(){return Qe}}},en={},nn=(0,E.R)(),rn=function(){function t(t){void 0===t&&(t=!1),this._reportAllChanges=t,this._measurements={},this._performanceCursor=0,!(0,Ze.KV)()&&nn&&nn.performance&&nn.document&&(nn.performance.mark&&nn.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID())}return t.prototype.addPerformanceEntries=function(t){var e=this;if(nn&&nn.performance&&nn.performance.getEntries&&ae.Z1){qe.h&&d.kg.log("[Tracing] Adding & adjusting spans using Performance API");var n,r,i=(0,He.XL)(ae.Z1);if(nn.performance.getEntries().slice(this._performanceCursor).forEach((function(o){var a=(0,He.XL)(o.startTime),s=(0,He.XL)(o.duration);if(!("navigation"===t.op&&i+a<t.startTimestamp))switch(o.entryType){case"navigation":!function(t,e,n){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach((function(r){on(t,e,r,n)})),on(t,e,"secureConnection",n,"TLS/SSL","connectEnd"),on(t,e,"fetch",n,"cache","domainLookupStart"),on(t,e,"domainLookup",n,"DNS"),function(t,e,n){an(t,{op:"browser",description:"request",startTimestamp:n+(0,He.XL)(e.requestStart),endTimestamp:n+(0,He.XL)(e.responseEnd)}),an(t,{op:"browser",description:"response",startTimestamp:n+(0,He.XL)(e.responseStart),endTimestamp:n+(0,He.XL)(e.responseEnd)})}(t,e,n)}(t,o,i),n=i+(0,He.XL)(o.responseStart),r=i+(0,He.XL)(o.requestStart);break;case"mark":case"paint":case"measure":var u=function(t,e,n,r,i){var o=i+n,a=o+r;return an(t,{description:e.name,endTimestamp:a,op:e.entryType,startTimestamp:o}),o}(t,o,a,s,i),c=tn(),l=o.startTime<c.firstHiddenTime;"first-paint"===o.name&&l&&(qe.h&&d.kg.log("[Measurements] Adding FP"),e._measurements.fp={value:o.startTime},e._measurements["mark.fp"]={value:u}),"first-contentful-paint"===o.name&&l&&(qe.h&&d.kg.log("[Measurements] Adding FCP"),e._measurements.fcp={value:o.startTime},e._measurements["mark.fcp"]={value:u});break;case"resource":var h=o.name.replace(nn.location.origin,"");!function(t,e,n,r,i,o){if("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType)return;var a={};"transferSize"in e&&(a["Transfer Size"]=e.transferSize);"encodedBodySize"in e&&(a["Encoded Body Size"]=e.encodedBodySize);"decodedBodySize"in e&&(a["Decoded Body Size"]=e.decodedBodySize);var s=o+r;an(t,{description:n,endTimestamp:s+i,op:e.initiatorType?"resource."+e.initiatorType:"resource",startTimestamp:s,data:a})}(t,o,h,a,s,i)}})),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(t),"pageload"===t.op){var o=(0,He.XL)(ae.Z1);"number"===typeof n&&(qe.h&&d.kg.log("[Measurements] Adding TTFB"),this._measurements.ttfb={value:1e3*(n-t.startTimestamp)},"number"===typeof r&&r<=n&&(this._measurements["ttfb.requestTime"]={value:1e3*(n-r)})),["fcp","fp","lcp"].forEach((function(n){if(e._measurements[n]&&!(o>=t.startTimestamp)){var r=e._measurements[n].value,i=o+(0,He.XL)(r),a=Math.abs(1e3*(i-t.startTimestamp)),s=a-r;qe.h&&d.kg.log("[Measurements] Normalized "+n+" from "+r+" to "+a+" ("+s+")"),e._measurements[n].value=a}})),this._measurements["mark.fid"]&&this._measurements.fid&&an(t,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+(0,He.XL)(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),"fcp"in this._measurements||delete this._measurements.cls,t.setMeasurements(this._measurements),function(t,e,n){e&&(qe.h&&d.kg.log("[Measurements] Adding LCP Data"),e.element&&t.setTag("lcp.element",(0,k.R)(e.element)),e.id&&t.setTag("lcp.id",e.id),e.url&&t.setTag("lcp.url",e.url.trim().slice(0,200)),t.setTag("lcp.size",e.size));n&&n.sources&&(qe.h&&d.kg.log("[Measurements] Adding CLS Data"),n.sources.forEach((function(e,n){return t.setTag("cls.source."+(n+1),(0,k.R)(e.node))})))}(t,this._lcpEntry,this._clsEntry),t.setTag("sentry_reportAllChanges",this._reportAllChanges)}}},t.prototype._trackNavigator=function(t){var e=nn.navigator;if(e){var n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),sn(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),sn(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),sn(e.deviceMemory)&&t.setTag("deviceMemory",String(e.deviceMemory)),sn(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}},t.prototype._trackCLS=function(){var t=this;!function(t,e){var n,r=Xe("CLS",0),i=0,o=[],a=function(t){if(t&&!t.hadRecentInput){var e=o[0],a=o[o.length-1];i&&0!==o.length&&t.startTime-a.startTime<1e3&&t.startTime-e.startTime<5e3?(i+=t.value,o.push(t)):(i=t.value,o=[t]),i>r.value&&(r.value=i,r.entries=o,n&&n())}},s=Ye("layout-shift",a);s&&(n=Je(t,r,e),$e((function(){s.takeRecords().map(a),n(!0)})))}((function(e){var n=e.entries.pop();n&&(qe.h&&d.kg.log("[Measurements] Adding CLS"),t._measurements.cls={value:e.value},t._clsEntry=n)}))},t.prototype._trackLCP=function(){var t=this;!function(t,e){var n,r=tn(),i=Xe("LCP"),o=function(t){var e=t.startTime;e<r.firstHiddenTime&&(i.value=e,i.entries.push(t)),n&&n()},a=Ye("largest-contentful-paint",o);if(a){n=Je(t,i,e);var s=function(){en[i.id]||(a.takeRecords().map(o),a.disconnect(),en[i.id]=!0,n(!0))};["keydown","click"].forEach((function(t){addEventListener(t,s,{once:!0,capture:!0})})),$e(s,!0)}}((function(e){var n=e.entries.pop();if(n){var r=(0,He.XL)(ae.Z1),i=(0,He.XL)(n.startTime);qe.h&&d.kg.log("[Measurements] Adding LCP"),t._measurements.lcp={value:e.value},t._measurements["mark.lcp"]={value:r+i},t._lcpEntry=n}}),this._reportAllChanges)},t.prototype._trackFID=function(){var t=this;!function(t,e){var n,r=tn(),i=Xe("FID"),o=function(t){n&&t.startTime<r.firstHiddenTime&&(i.value=t.processingStart-t.startTime,i.entries.push(t),n(!0))},a=Ye("first-input",o);a&&(n=Je(t,i,e),$e((function(){a.takeRecords().map(o),a.disconnect()}),!0))}((function(e){var n=e.entries.pop();if(n){var r=(0,He.XL)(ae.Z1),i=(0,He.XL)(n.startTime);qe.h&&d.kg.log("[Measurements] Adding FID"),t._measurements.fid={value:e.value},t._measurements["mark.fid"]={value:r+i}}}))},t}();function on(t,e,n,r,i,o){var a=o?e[o]:e[n+"End"],s=e[n+"Start"];s&&a&&an(t,{op:"browser",description:null!==i&&void 0!==i?i:n,startTimestamp:r+(0,He.XL)(s),endTimestamp:r+(0,He.XL)(a)})}function an(t,e){var n=e.startTimestamp,r=(0,a._T)(e,["startTimestamp"]);return n&&t.startTimestamp>n&&(t.startTimestamp=n),t.startChild((0,a.pi)({startTimestamp:n},r))}function sn(t){return"number"===typeof t&&isFinite(t)}var un={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};function cn(t){var e=(0,a.pi)((0,a.pi)({},un),t),n=e.traceFetch,r=e.traceXHR,i=e.tracingOrigins,o=e.shouldCreateSpanForRequest,s={},u=function(t){if(s[t])return s[t];var e=i;return s[t]=e.some((function(e){return(0,m.zC)(t,e)}))&&!(0,m.zC)(t,"sentry_key"),s[t]},c=u;"function"===typeof o&&(c=function(t){return u(t)&&o(t)});var l={};n&&(0,I.o)("fetch",(function(t){!function(t,e,n){if(!(0,He.zu)()||!t.fetchData||!e(t.fetchData.url))return;if(t.endTimestamp){var r=t.fetchData.__span;if(!r)return;return void((o=n[r])&&(t.response?o.setHttpStatus(t.response.status):t.error&&o.setStatus("internal_error"),o.finish(),delete n[r]))}var i=(0,He.x1)();if(i){var o=i.startChild({data:(0,a.pi)((0,a.pi)({},t.fetchData),{type:"fetch"}),description:t.fetchData.method+" "+t.fetchData.url,op:"http.client"});t.fetchData.__span=o.spanId,n[o.spanId]=o;var s=t.args[0]=t.args[0],u=t.args[1]=t.args[1]||{},c=u.headers;(0,S.V9)(s,Request)&&(c=s.headers),c?"function"===typeof c.append?c.append("sentry-trace",o.toTraceparent()):c=Array.isArray(c)?(0,a.fl)(c,[["sentry-trace",o.toTraceparent()]]):(0,a.pi)((0,a.pi)({},c),{"sentry-trace":o.toTraceparent()}):c={"sentry-trace":o.toTraceparent()},u.headers=c}}(t,c,l)})),r&&(0,I.o)("xhr",(function(t){!function(t,e,n){if(!(0,He.zu)()||t.xhr&&t.xhr.__sentry_own_request__||!(t.xhr&&t.xhr.__sentry_xhr__&&e(t.xhr.__sentry_xhr__.url)))return;var r=t.xhr.__sentry_xhr__;if(t.endTimestamp){var i=t.xhr.__sentry_xhr_span_id__;if(!i)return;return void((s=n[i])&&(s.setHttpStatus(r.status_code),s.finish(),delete n[i]))}var o=(0,He.x1)();if(o){var s=o.startChild({data:(0,a.pi)((0,a.pi)({},r.data),{type:"xhr",method:r.method,url:r.url}),description:r.method+" "+r.url,op:"http.client"});if(t.xhr.__sentry_xhr_span_id__=s.spanId,n[t.xhr.__sentry_xhr_span_id__]=s,t.xhr.setRequestHeader)try{t.xhr.setRequestHeader("sentry-trace",s.toTraceparent())}catch(u){}}}(t,c,l)}))}var ln=(0,E.R)();var hn=(0,a.pi)({idleTimeout:Ge.nT,markBackgroundTransactions:!0,maxTransactionDuration:600,routingInstrumentation:function(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n=!0),ln&&ln.location){var r,i=ln.location.href;e&&(r=t({name:ln.location.pathname,op:"pageload"})),n&&(0,I.o)("history",(function(e){var n=e.to,o=e.from;void 0===o&&i&&-1!==i.indexOf(n)?i=void 0:o!==n&&(i=void 0,r&&(qe.h&&d.kg.log("[Tracing] Finishing current transaction with op: "+r.op),r.finish()),r=t({name:ln.location.pathname,op:"navigation"}))}))}else qe.h&&d.kg.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},un),fn=function(){function t(e){this.name=t.id,this._configuredIdleTimeout=void 0;var n=un.tracingOrigins;e&&(this._configuredIdleTimeout=e.idleTimeout,e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&0!==e.tracingOrigins.length?n=e.tracingOrigins:qe.h&&(this._emitOptionsWarning=!0)),this.options=(0,a.pi)((0,a.pi)((0,a.pi)({},hn),e),{tracingOrigins:n});var r=this.options._metricOptions;this._metrics=new rn(r&&r._reportAllChanges)}return t.prototype.setupOnce=function(t,e){var n=this;this._getCurrentHub=e,this._emitOptionsWarning&&(qe.h&&d.kg.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),qe.h&&d.kg.warn("[Tracing] We added a reasonable default for you: "+un.tracingOrigins));var r=this.options,i=r.routingInstrumentation,o=r.startTransactionOnLocationChange,a=r.startTransactionOnPageLoad,s=r.markBackgroundTransactions,u=r.traceFetch,c=r.traceXHR,l=r.tracingOrigins,h=r.shouldCreateSpanForRequest;i((function(t){return n._createRouteTransaction(t)}),a,o),s&&(We&&We.document?We.document.addEventListener("visibilitychange",(function(){var t=(0,He.x1)();if(We.document.hidden&&t){var e="cancelled";qe.h&&d.kg.log("[Tracing] Transaction: cancelled -> since tab moved to the background, op: "+t.op),t.status||t.setStatus(e),t.setTag("visibilitychange","document.hidden"),t.setTag(ze.d,ze.x[2]),t.finish()}})):qe.h&&d.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")),cn({traceFetch:u,traceXHR:c,tracingOrigins:l,shouldCreateSpanForRequest:h})},t.prototype._createRouteTransaction=function(t){var e=this;if(this._getCurrentHub){var n=this.options,r=n.beforeNavigate,i=n.idleTimeout,o=n.maxTransactionDuration,s="pageload"===t.op?function(){var t=function(t){var e=(0,E.R)().document.querySelector("meta[name="+t+"]");return e?e.getAttribute("content"):null}("sentry-trace");if(t)return function(t){var e=t.match(Ke);if(e){var n=void 0;return"1"===e[3]?n=!0:"0"===e[3]&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}}(t);return}():void 0,u=(0,a.pi)((0,a.pi)((0,a.pi)({},t),s),{trimEnd:!0}),c="function"===typeof r?r(u):u,l=void 0===c?(0,a.pi)((0,a.pi)({},u),{sampled:!1}):c;!1===l.sampled&&qe.h&&d.kg.log("[Tracing] Will not send "+l.op+" transaction because of beforeNavigate."),qe.h&&d.kg.log("[Tracing] Starting "+l.op+" transaction on scope");var h=this._getCurrentHub(),f=(0,E.R)().location,p=(0,Ve.lb)(h,l,i,!0,{location:f});return p.registerBeforeFinishCallback((function(t,n){e._metrics.addPerformanceEntries(t),function(t,e,n){var r=n-e.startTimestamp;n&&(r>t||r<0)&&(e.setStatus("deadline_exceeded"),e.setTag("maxTransactionDurationExceeded","true"))}((0,He.WB)(o),t,n)})),p.setTag("idleTimeout",this._configuredIdleTimeout),p}qe.h&&d.kg.warn("[Tracing] Did not create "+t.op+" transaction because _getCurrentHub is invalid.")},t.id="BrowserTracing",t}();(0,Ve.ro)();var dn=n(5632),pn=n.n(dn),mn=(0,E.R)(),vn={"routing.instrumentation":"next-router"},gn=void 0,yn=void 0,bn=void 0;function wn(t,e,n){void 0===e&&(e=!0),void 0===n&&(n=!0),bn=t,pn().ready((function(){if(e&&(yn=null!==pn().route?(0,p.rt)(pn().route):mn.location.pathname,gn=t({name:yn,op:"pageload",tags:vn})),n){var r=Object.getPrototypeOf(pn().router);(0,s.hl)(r,"changeState",_n)}}))}function _n(t){return function(e,n,r,i){for(var o=[],s=4;s<arguments.length;s++)o[s-4]=arguments[s];var u=(0,p.rt)(n);if(void 0!==bn&&yn!==u){gn&&gn.finish();var c=(0,a.pi)((0,a.pi)((0,a.pi)({},vn),{method:e}),i);yn&&(c.from=yn),gn=bn({name:yn=u,op:"navigation",tags:c})}return t.call.apply(t,(0,a.fl)([this,e,n,r,i],o))}}function En(t,e,n){var r=e.match(/([a-z]+)\.(.*)/i);null===r?t[e]=n:En(t[r[1]],r[2],n)}function Tn(t,e,n){return void 0===n&&(n={}),Array.isArray(e)?In(t,e,n):function(t,e,n){var r=function(r){var i=e(r);return In(t,i,n)};return r}(t,e,n)}function In(t,e,n){for(var r=!1,i=0;i<e.length;i++){e[i].name===t.name&&(r=!0);var o=n[e[i].name];o&&En(e[i],o.keyPath,o.value)}return r?e:(0,a.fl)(e,[t])}(0,a.pi)((0,a.pi)({},ie),{BrowserTracing:fn});var Sn=new fn({tracingOrigins:(0,a.fl)(un.tracingOrigins,[/^(api\/)/]),routingInstrumentation:wn});var kn=n(3542);!function(t){!function(t,e){t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.nextjs",packages:e.map((function(t){return{name:"npm:@sentry/"+t,version:oe}})),version:oe}}(t,["nextjs","react"]),t.environment=t.environment||"production";var e=void 0===t.tracesSampleRate&&void 0===t.tracesSampler?t.integrations:function(t){return t?Tn(Sn,t,{BrowserTracing:{keyPath:"options.routingInstrumentation",value:wn}}):[Sn]}(t.integrations);!function(t){t._metadata=t._metadata||{},t._metadata.sdk=t._metadata.sdk||{name:"sentry.javascript.react",packages:[{name:"npm:@sentry/react",version:oe}],version:oe},Ue(t)}((0,a.pi)((0,a.pi)({},t),{integrations:e})),it("configureScope",(function(t){t.setTag("runtime","browser"),t.addEventProcessor((function(t){return"transaction"===t.type&&"/404"===t.transaction?null:t}))}))}({dsn:kn.env.SENTRY_DSN||kn.env.NEXT_PUBLIC_SENTRY_DSN||"https://0ea8c10c315f41fb946c2f2b112963ca@o235797.ingest.sentry.io/5896987",tracesSampleRate:.3})},9604:function(t,e,n){"use strict";n.d(e,{J:function(){return i}});var r=n(2322),i=(n(2784),function(t){var e,n=t.name,i=t.color,o=t.size,a=void 0===o?20:o,s=t.marginRight,u=t.marginLeft;return"tick"===n?e=(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 24C18.6274 24 24 18.6274 24 12C24 5.37258 18.6274 0 12 0C5.37258 0 0 5.37258 0 12C0 18.6274 5.37258 24 12 24ZM16.1947 7.19467C16.7876 6.60178 17.7124 6.60178 18.3053 7.19467C18.8982 7.78756 18.8982 8.71244 18.3053 9.30533L10.8053 16.8053C10.6861 16.9246 10.537 17.0439 10.3452 17.1291C10.1502 17.2158 9.95001 17.25 9.75 17.25C9.54999 17.25 9.34978 17.2158 9.15477 17.1291C8.96302 17.0439 8.81395 16.9246 8.69467 16.8053L5.69467 13.8053C5.10178 13.2124 5.10178 12.2876 5.69467 11.6947C6.28756 11.1018 7.21244 11.1018 7.80533 11.6947L9.75 13.6393L16.1947 7.19467Z",fill:"#48BB79"}):"error"===n?e=(0,r.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M24 12C24 18.6274 18.6274 24 12 24C5.37258 24 0 18.6274 0 12C0 5.37258 5.37258 0 12 0C18.6274 0 24 5.37258 24 12ZM10 6C10 4.89543 10.8954 4 12 4C13.1046 4 14 4.89543 14 6V12C14 13.1046 13.1046 14 12 14C10.8954 14 10 13.1046 10 12V6ZM12 16C10.8954 16 10 16.8954 10 18C10 19.1046 10.8954 20 12 20C13.1046 20 14 19.1046 14 18C14 16.8954 13.1046 16 12 16Z",fill:"#F83C3B"}):"user"===n?e=(0,r.jsx)("path",{fill:"currentColor",d:"M12 19.2c-2.5 0-4.71-1.28-6-3.2.03-2 4-3.1 6-3.1s5.97 1.1 6 3.1a7.232 7.232 0 0 1-6 3.2M12 5a3 3 0 0 1 3 3 3 3 0 0 1-3 3 3 3 0 0 1-3-3 3 3 0 0 1 3-3m0-3A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10c0-5.53-4.5-10-10-10z"}):"help"===n?e=(0,r.jsx)("path",{fill:"currentColor",d:"M15.07,11.25L14.17,12.17C13.45,12.89 13,13.5 13,15H11V14.5C11,13.39 11.45,12.39 12.17,11.67L13.41,10.41C13.78,10.05 14,9.55 14,9C14,7.89 13.1,7 12,7A2,2 0 0,0 10,9H8A4,4 0 0,1 12,5A4,4 0 0,1 16,9C16,9.88 15.64,10.67 15.07,11.25M13,19H11V17H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z"}):"battle"===n?e=(0,r.jsx)("path",{fill:"currentColor",d:"M6.2,2.44L18.1,14.34L20.22,12.22L21.63,13.63L19.16,16.1L22.34,19.28C22.73,19.67 22.73,20.3 22.34,20.69L21.63,21.4C21.24,21.79 20.61,21.79 20.22,21.4L17,18.23L14.56,20.7L13.15,19.29L15.27,17.17L3.37,5.27V2.44H6.2M15.89,10L20.63,5.26V2.44H17.8L13.06,7.18L15.89,10M10.94,15L8.11,12.13L5.9,14.34L3.78,12.22L2.37,13.63L4.84,16.1L1.66,19.29C1.27,19.68 1.27,20.31 1.66,20.7L2.37,21.41C2.76,21.8 3.39,21.8 3.78,21.41L7,18.23L9.44,20.7L10.85,19.29L8.73,17.17L10.94,15Z"}):"link"===n?e=(0,r.jsx)("path",{fill:"currentColor",d:"M14.6667 0V2.66667H19.4533L6.34667 15.7733L8.22667 17.6533L21.3333 4.54667V9.33333H24V0H14.6667ZM21.3333 21.3333H2.66667V2.66667H12V0H2.66667C1.18667 0 0 1.2 0 2.66667V21.3333C0 22.0406 0.280951 22.7189 0.781048 23.219C1.28115 23.719 1.95942 24 2.66667 24H21.3333C22.0406 24 22.7189 23.719 23.219 23.219C23.719 22.7189 24 22.0406 24 21.3333V12H21.3333V21.3333Z"}):"bell"===n?e=(0,r.jsx)("path",{fill:"currentColor",d:"M21,19V20H3V19L5,17V11C5,7.9 7.03,5.17 10,4.29C10,4.19 10,4.1 10,4A2,2 0 0,1 12,2A2,2 0 0,1 14,4C14,4.1 14,4.19 14,4.29C16.97,5.17 19,7.9 19,11V17L21,19M14,21A2,2 0 0,1 12,23A2,2 0 0,1 10,21"}):"twitter"===n?e=(0,r.jsx)("path",{fill:"currentColor",d:"M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.2-1.95-.5v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.02-.06C3.44 20.29 5.7 21 8.12 21 16 21 20.33 14.46 20.33 8.79c0-.19 0-.37-.01-.56.84-.6 1.56-1.36 2.14-2.23z"}):"github"===n?e=(0,r.jsx)("path",{fill:"currentColor",d:"M12 2A10 10 0 0 0 2 12c0 4.42 2.87 8.17 6.84 9.5.5.08.66-.23.66-.5v-1.69c-2.77.6-3.36-1.34-3.36-1.34-.46-1.16-1.11-1.47-1.11-1.47-.91-.62.07-.6.07-.6 1 .07 1.53 1.03 1.53 1.03.87 1.52 2.34 1.07 2.91.83.09-.65.35-1.09.63-1.34-2.22-.25-4.55-1.11-4.55-4.92 0-1.11.38-2 1.03-2.71-.1-.25-.45-1.29.1-2.64 0 0 .84-.27 2.75 1.02.79-.22 1.65-.33 2.5-.33.85 0 1.71.11 2.5.33 1.91-1.29 2.75-1.02 2.75-1.02.55 1.35.2 2.39.1 2.64.65.71 1.03 1.6 1.03 2.71 0 3.82-2.34 4.66-4.57 4.91.36.31.69.92.69 1.85V21c0 .27.16.59.67.5C19.14 20.16 22 16.42 22 12A10 10 0 0 0 12 2z"}):"codepen"===n?e=(0,r.jsx)("path",{fill:"currentColor",d:"M15.09,12L12,14.08V14.09L8.91,12L12,9.92V9.92L15.09,12M12,2C11.84,2 11.68,2.06 11.53,2.15L2.5,8.11C2.27,8.22 2.09,8.43 2,8.67V14.92C2,15.33 2,15.33 2.15,15.53L11.53,21.86C11.67,21.96 11.84,22 12,22C12.16,22 12.33,21.95 12.47,21.85L21.85,15.5C22,15.33 22,15.33 22,14.92V8.67C21.91,8.42 21.73,8.22 21.5,8.1L12.47,2.15C12.32,2.05 12.16,2 12,2M16.58,13L19.59,15.04L12.83,19.6V15.53L16.58,13M19.69,8.9L16.58,11L12.83,8.47V4.38L19.69,8.9M20.33,10.47V13.53L18.07,12L20.33,10.47M7.42,13L11.17,15.54V19.6L4.41,15.04L7.42,13M4.31,8.9L11.17,4.39V8.5L7.42,11L4.31,8.9M3.67,10.5L5.93,12L3.67,13.54V10.5Z"}):"earth"===n?e=(0,r.jsx)("path",{fill:"currentColor",d:"M17.9,17.39C17.64,16.59 16.89,16 16,16H15V13A1,1 0 0,0 14,12H8V10H10A1,1 0 0,0 11,9V7H13A2,2 0 0,0 15,5V4.59C17.93,5.77 20,8.64 20,12C20,14.08 19.2,15.97 17.9,17.39M11,19.93C7.05,19.44 4,16.08 4,12C4,11.38 4.08,10.78 4.21,10.21L9,15V16A2,2 0 0,0 11,18M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}):"plus-round"===n?e=(0,r.jsx)("path",{fill:"currentColor",d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}):"discord"===n?e=(0,r.jsx)("path",{fill:"currentColor",d:"M22,24L16.75,19L17.38,21H4.5A2.5,2.5 0 0,1 2,18.5V3.5A2.5,2.5 0 0,1 4.5,1H19.5A2.5,2.5 0 0,1 22,3.5V24M12,6.8C9.32,6.8 7.44,7.95 7.44,7.95C8.47,7.03 10.27,6.5 10.27,6.5L10.1,6.33C8.41,6.36 6.88,7.53 6.88,7.53C5.16,11.12 5.27,14.22 5.27,14.22C6.67,16.03 8.75,15.9 8.75,15.9L9.46,15C8.21,14.73 7.42,13.62 7.42,13.62C7.42,13.62 9.3,14.9 12,14.9C14.7,14.9 16.58,13.62 16.58,13.62C16.58,13.62 15.79,14.73 14.54,15L15.25,15.9C15.25,15.9 17.33,16.03 18.73,14.22C18.73,14.22 18.84,11.12 17.12,7.53C17.12,7.53 15.59,6.36 13.9,6.33L13.73,6.5C13.73,6.5 15.53,7.03 16.56,7.95C16.56,7.95 14.68,6.8 12,6.8M9.93,10.59C10.58,10.59 11.11,11.16 11.1,11.86C11.1,12.55 10.58,13.13 9.93,13.13C9.29,13.13 8.77,12.55 8.77,11.86C8.77,11.16 9.28,10.59 9.93,10.59M14.1,10.59C14.75,10.59 15.27,11.16 15.27,11.86C15.27,12.55 14.75,13.13 14.1,13.13C13.46,13.13 12.94,12.55 12.94,11.86C12.94,11.16 13.45,10.59 14.1,10.59Z"}):"gear"===n&&(e=(0,r.jsx)("path",{fill:"currentColor",d:"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z"})),"mail"===n&&(e=(0,r.jsx)("path",{fill:"currentColor",d:"M20,8L12,13L4,8V6L12,11L20,6M20,4H4C2.89,4 2,4.89 2,6V18A2,2 0 0,0 4,20H20A2,2 0 0,0 22,18V6C22,4.89 21.1,4 20,4Z"})),"leaderboard"===n&&(e=(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("path",{d:"M4.5 12h-3c-.828427 0-1.5.6716-1.5 1.5v6c0 .8284.671573 1.5 1.5 1.5h3c.82843 0 1.5-.6716 1.5-1.5v-6c0-.8284-.67157-1.5-1.5-1.5Zm9-9h-3C9.67157 3 9 3.67157 9 4.5v15c0 .8284.67157 1.5 1.5 1.5h3c.8284 0 1.5-.6716 1.5-1.5v-15c0-.82843-.6716-1.5-1.5-1.5Zm9 4.5h-3c-.8284 0-1.5.67157-1.5 1.5v10.5c0 .8284.6716 1.5 1.5 1.5h3c.8284 0 1.5-.6716 1.5-1.5V9c0-.82843-.6716-1.5-1.5-1.5Z",fill:"#fff"})})),(0,r.jsx)("svg",{width:a,height:a,viewBox:"0 0 24 24",fill:i||"none",style:{verticalAlign:"middle",marginRight:s||"0.5rem",marginLeft:u||"0"},xmlns:"http://www.w3.org/2000/svg",children:e})})},8329:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(2322),i=function(t){var e=t.height,n=void 0===e?18:e,i=t.style;return(0,r.jsx)("img",{height:n,className:"pro-badge",style:i,src:"/images/pro-badge.svg",alt:"Pro badge"})}},3290:function(t,e,n){"use strict";n.d(e,{q:function(){return r}});var r=function(t){var e=t.name,n=t.category,r=t.label;window.gtag&&window.gtag("event",e,{event_category:n,event_label:r})}},3552:function(t,e,n){"use strict";n.d(e,{S:function(){return r}});var r=n(2784).createContext({user:null,setUser:function(){}})},9550:function(t,e,n){"use strict";var r=n(5532);r.Z.apps.length||r.Z.initializeApp({apiKey:"AIzaSyCR1oteCf0oGnq0HXymDmcn0jOf7IXUmuo",authDomain:"cssbattleapp.firebaseapp.com",databaseURL:"https://cssbattleapp.firebaseio.com",projectId:"cssbattleapp",storageBucket:"cssbattleapp.appspot.com",messagingSenderId:"924387938820"})},1893:function(t,e,n){"use strict";n.d(e,{a:function(){return o}});var r=n(2784),i=n(3552);function o(){return(0,r.useContext)(i.S)}},7414:function(t,e,n){"use strict";n.d(e,{P:function(){return i}});var r=n(2784),i=function(){var t=(0,r.useState)(!1),e=t[0],n=t[1];return(0,r.useEffect)((function(){n(!0)}),[]),e}},9454:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return be}});var r=n(865),i=n(6670),o=n(2322),a=n(2784),s=n.t(a,2),u=n(7729),c=n.n(u),l=n(5632),h=n(8788),f=n(4776),d=n.n(f);function p(){return m.apply(this,arguments)}function m(){return(m=(0,h.Z)(d().mark((function t(){var e,n;return d().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/api/session?action=add");case 2:return e=t.sent,t.next=5,e.text();case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function v(){(0,a.useEffect)((function(){var t;(function(){var t=new RegExp("(googlebot/|bot|Googlebot-Mobile|Googlebot-Image|Google favicon|Mediapartners-Google|bingbot|slurp|java|wget|curl|Commons-HttpClient|Python-urllib|libwww|httpunit|nutch|phpcrawl|msnbot|jyxobot|FAST-WebCrawler|FAST Enterprise Crawler|biglotron|teoma|convera|seekbot|gigablast|exabot|ngbot|ia_archiver|GingerCrawler|webmon |httrack|webcrawler|grub.org|UsineNouvelleCrawler|antibot|netresearchserver|speedy|fluffy|bibnum.bnf|findlink|msrbot|panscient|yacybot|AISearchBot|IOI|ips-agent|tagoobot|MJ12bot|dotbot|woriobot|yanga|buzzbot|mlbot|yandexbot|purebot|Linguee Bot|Voyager|CyberPatrol|voilabot|baiduspider|citeseerxbot|spbot|twengabot|postrank|turnitinbot|scribdbot|page2rss|sitebot|linkdex|Adidxbot|blekkobot|ezooms|dotbot|Mail.RU_Bot|discobot|heritrix|findthatfile|europarchive.org|NerdByNature.Bot|sistrix crawler|ahrefsbot|Aboundex|domaincrawler|wbsearchbot|summify|ccbot|edisterbot|seznambot|ec2linkfinder|gslfbot|aihitbot|intelium_bot|facebookexternalhit|yeti|RetrevoPageAnalyzer|lb-spider|sogou|lssbot|careerbot|wotbox|wocbot|ichiro|DuckDuckBot|lssrocketcrawler|drupact|webcompanycrawler|acoonbot|openindexspider|gnam gnam spider|web-archive-net.com.bot|backlinkcrawler|coccoc|integromedb|content crawler spider|toplistbot|seokicks-robot|it2media-domain-crawler|ip-web-crawler.com|siteexplorer.info|elisabot|proximic|changedetection|blexbot|arabot|WeSEE:Search|niki-bot|CrystalSemanticsBot|rogerbot|360Spider|psbot|InterfaxScanBot|Lipperhey SEO Service|CC Metadata Scaper|g00g1e.net|GrapeshotCrawler|urlappendbot|brainobot|fr-crawler|binlar|SimpleCrawler|Livelapbot|Twitterbot|cXensebot|smtbot|bnf.fr_bot|A6-Indexer|ADmantX|Facebot|Twitterbot|OrangeBot|memorybot|AdvBot|MegaIndex|SemanticScholarBot|ltx71|nerdybot|xovibot|BUbiNG|Qwantify|archive.org_bot|Applebot|TweetmemeBot|crawler4j|findxbot|SemrushBot|yoozBot|lipperhey|y!j-asr|Domain Re-Animator Bot|AddThis)","i"),e=navigator.userAgent;return t.test(e)})()||window.sessionStorage.getItem("cssbattleSessionLogged")||(window.sessionStorage.setItem("cssbattleSessionLogged",!0),p().then((function(e){return t=e})),setInterval((function(){p().then((function(e){return t=e}))}),65e3),window.addEventListener("beforeunload",(function(){navigator.sendBeacon("/api/session?action=remove&sessionId=".concat(t))})))}),[])}var g=n(3552),y=n(2367),b=(n(7007),n(9461),n(7175),n(1552),n(7102),n(9550),n(137)),w=n(7037),_=n(7414),E=n(930);function T(...t){return e=>t.forEach((t=>function(t,e){"function"==typeof t?t(e):null!=t&&(t.current=e)}(t,e)))}function I(...t){return a.useCallback(T(...t),t)}var S=n(7896);const k=a.forwardRef(((t,e)=>{const{children:n,...r}=t;return a.Children.toArray(n).some(x)?a.createElement(a.Fragment,null,a.Children.map(n,(t=>x(t)?a.createElement(C,(0,S.Z)({},r,{ref:e}),t.props.children):t))):a.createElement(C,(0,S.Z)({},r,{ref:e}),n)}));k.displayName="Slot";const C=a.forwardRef(((t,e)=>{const{children:n,...r}=t;return a.isValidElement(n)?a.cloneElement(n,{...O(r,n.props),ref:T(e,n.ref)}):a.Children.count(n)>1?a.Children.only(null):null}));C.displayName="SlotClone";const A=({children:t})=>a.createElement(a.Fragment,null,t);function x(t){return a.isValidElement(t)&&t.type===A}function O(t,e){const n={...e};for(const r in e){const i=t[r],o=e[r];/^on[A-Z]/.test(r)?n[r]=(...t)=>{null==o||o(...t),null==i||i(...t)}:"style"===r?n[r]={...i,...o}:"className"===r&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...t,...n}}var N=new WeakMap,D=new WeakMap,R={},P=0,L=function(t,e,n){void 0===e&&(e=function(t){return"undefined"===typeof document?null:(Array.isArray(t)?t[0]:t).ownerDocument.body}(t)),void 0===n&&(n="data-aria-hidden");var r=Array.isArray(t)?t:[t];R[n]||(R[n]=new WeakMap);var i=R[n],o=[],a=new Set,s=function(t){t&&!a.has(t)&&(a.add(t),s(t.parentNode))};r.forEach(s);var u=function(t){!t||r.indexOf(t)>=0||Array.prototype.forEach.call(t.children,(function(t){if(a.has(t))u(t);else{var e=t.getAttribute("aria-hidden"),r=null!==e&&"false"!==e,s=(N.get(t)||0)+1,c=(i.get(t)||0)+1;N.set(t,s),i.set(t,c),o.push(t),1===s&&r&&D.set(t,!0),1===c&&t.setAttribute(n,"true"),r||t.setAttribute("aria-hidden","true")}}))};return u(e),a.clear(),P++,function(){o.forEach((function(t){var e=N.get(t)-1,r=i.get(t)-1;N.set(t,e),i.set(t,r),e||(D.has(t)||t.removeAttribute("aria-hidden"),D.delete(t)),r||t.removeAttribute(n)})),--P||(N=new WeakMap,N=new WeakMap,D=new WeakMap,R={})}},F=n(9037);let M=0;function j(){a.useEffect((()=>{var t,e;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",null!==(t=n[0])&&void 0!==t?t:U()),document.body.insertAdjacentElement("beforeend",null!==(e=n[1])&&void 0!==e?e:U()),M++,()=>{1===M&&document.querySelectorAll("[data-radix-focus-guard]").forEach((t=>t.remove())),M--}}),[])}function U(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",t}const B=["a","button","div","h2","h3","img","li","nav","ol","p","span","svg","ul"].reduce(((t,e)=>({...t,[e]:a.forwardRef(((t,n)=>{const{asChild:r,...i}=t,o=r?k:e;return a.useEffect((()=>{window[Symbol.for("radix-ui")]=!0}),[]),a.createElement(o,(0,S.Z)({},i,{ref:n}))}))})),{}),V=Boolean(null===globalThis||void 0===globalThis?void 0:globalThis.document)?a.useLayoutEffect:()=>{},q=t=>{const{present:e,children:n}=t,r=function(t){const[e,n]=a.useState(),r=a.useRef({}),i=a.useRef(t),o=a.useRef("none"),s=t?"mounted":"unmounted",[u,c]=function(t,e){return a.useReducer(((t,n)=>{const r=e[t][n];return null!=r?r:t}),t)}(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return a.useEffect((()=>{const t=G(r.current);o.current="mounted"===u?t:"none"}),[u]),V((()=>{const e=r.current,n=i.current;if(n!==t){const r=o.current,a=G(e);if(t)c("MOUNT");else if("none"===a||"none"===(null==e?void 0:e.display))c("UNMOUNT");else{const t=r!==a;c(n&&t?"ANIMATION_OUT":"UNMOUNT")}i.current=t}}),[t,c]),V((()=>{if(e){const t=t=>{const n=G(r.current).includes(t.animationName);t.target===e&&n&&c("ANIMATION_END")},n=t=>{t.target===e&&(o.current=G(r.current))};return e.addEventListener("animationstart",n),e.addEventListener("animationcancel",t),e.addEventListener("animationend",t),()=>{e.removeEventListener("animationstart",n),e.removeEventListener("animationcancel",t),e.removeEventListener("animationend",t)}}c("ANIMATION_END")}),[e,c]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:a.useCallback((t=>{t&&(r.current=getComputedStyle(t)),n(t)}),[])}}(e),i="function"==typeof n?n({present:r.isPresent}):a.Children.only(n),o=I(r.ref,i.ref);return"function"==typeof n||r.isPresent?a.cloneElement(i,{ref:o}):null};function G(t){return(null==t?void 0:t.animationName)||"none"}q.displayName="Presence";var H=n(8316);const K=a.forwardRef(((t,e)=>{var n;const{container:r=(null===globalThis||void 0===globalThis||null===(n=globalThis.document)||void 0===n?void 0:n.body),...i}=t;return r?H.createPortal(a.createElement(B.div,(0,S.Z)({},i,{ref:e})),r):null}));function z(t){const e=a.useRef(t);return a.useEffect((()=>{e.current=t})),a.useMemo((()=>(...t)=>{var n;return null===(n=e.current)||void 0===n?void 0:n.call(e,...t)}),[])}const W={bubbles:!1,cancelable:!0},Z=a.forwardRef(((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...s}=t,[u,c]=a.useState(null),l=z(i),h=z(o),f=a.useRef(null),d=I(e,(t=>c(t))),p=a.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;a.useEffect((()=>{if(r){function t(t){if(p.paused||!u)return;const e=t.target;u.contains(e)?f.current=e:$(f.current,{select:!0})}function e(t){!p.paused&&u&&(u.contains(t.relatedTarget)||$(f.current,{select:!0}))}return document.addEventListener("focusin",t),document.addEventListener("focusout",e),()=>{document.removeEventListener("focusin",t),document.removeEventListener("focusout",e)}}}),[r,u,p.paused]),a.useEffect((()=>{if(u){Q.add(p);const t=document.activeElement;if(!u.contains(t)){const e=new Event("focusScope.autoFocusOnMount",W);u.addEventListener("focusScope.autoFocusOnMount",l),u.dispatchEvent(e),e.defaultPrevented||(function(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if($(r,{select:e}),document.activeElement!==n)return}(J(u).filter((t=>"A"!==t.tagName)),{select:!0}),document.activeElement===t&&$(u))}return()=>{u.removeEventListener("focusScope.autoFocusOnMount",l),setTimeout((()=>{const e=new Event("focusScope.autoFocusOnUnmount",W);u.addEventListener("focusScope.autoFocusOnUnmount",h),u.dispatchEvent(e),e.defaultPrevented||$(null!=t?t:document.body,{select:!0}),u.removeEventListener("focusScope.autoFocusOnUnmount",h),Q.remove(p)}),0)}}}),[u,l,h,p]);const m=a.useCallback((t=>{if(!n&&!r)return;if(p.paused)return;const e="Tab"===t.key&&!t.altKey&&!t.ctrlKey&&!t.metaKey,i=document.activeElement;if(e&&i){const e=t.currentTarget,[r,o]=function(t){const e=J(t);return[X(e,t),X(e.reverse(),t)]}(e);r&&o?t.shiftKey||i!==o?t.shiftKey&&i===r&&(t.preventDefault(),n&&$(o,{select:!0})):(t.preventDefault(),n&&$(r,{select:!0})):i===e&&t.preventDefault()}}),[n,r,p.paused]);return a.createElement(B.div,(0,S.Z)({tabIndex:-1},s,{ref:d,onKeyDown:m}))}));function J(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:t=>{const e="INPUT"===t.tagName&&"hidden"===t.type;return t.disabled||t.hidden||e?NodeFilter.FILTER_SKIP:t.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function X(t,e){for(const n of t)if(!Y(n,{upTo:e}))return n}function Y(t,{upTo:e}){if("hidden"===getComputedStyle(t).visibility)return!0;for(;t;){if(void 0!==e&&t===e)return!1;if("none"===getComputedStyle(t).display)return!0;t=t.parentElement}return!1}function $(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&function(t){return t instanceof HTMLInputElement&&"select"in t}(t)&&e&&t.select()}}const Q=function(){let t=[];return{add(e){const n=t[0];e!==n&&(null==n||n.pause()),t=tt(t,e),t.unshift(e)},remove(e){var n;t=tt(t,e),null===(n=t[0])||void 0===n||n.resume()}}}();function tt(t,e){const n=[...t],r=n.indexOf(e);return-1!==r&&n.splice(r,1),n}let et,nt=0;function rt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(r){if(null==t||t(r),!1===n||!r.defaultPrevented)return null==e?void 0:e(r)}}const it=a.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),ot=a.forwardRef(((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:s,onDismiss:u,...c}=t,l=a.useContext(it),[h,f]=a.useState(null),[,d]=a.useState({}),p=I(e,(t=>f(t))),m=Array.from(l.layers),[v]=[...l.layersWithOutsidePointerEventsDisabled].slice(-1),g=m.indexOf(v),y=h?m.indexOf(h):-1,b=l.layersWithOutsidePointerEventsDisabled.size>0,w=y>=g,_=function(t){const e=z((t=>{const e=t.target,n=[...l.branches].some((t=>t.contains(e)));w&&!n&&(null==i||i(t),null==s||s(t),t.defaultPrevented||null==u||u())})),n=a.useRef(!1);return a.useEffect((()=>{const t=t=>{t.target&&!n.current&&st("dismissableLayer.pointerDownOutside",e,{originalEvent:t}),n.current=!1},r=window.setTimeout((()=>{document.addEventListener("pointerdown",t)}),0);return()=>{window.clearTimeout(r),document.removeEventListener("pointerdown",t)}}),[e]),{onPointerDownCapture:()=>n.current=!0}}(),E=function(t){const e=z((t=>{const e=t.target;[...l.branches].some((t=>t.contains(e)))||(null==o||o(t),null==s||s(t),t.defaultPrevented||null==u||u())})),n=a.useRef(!1);return a.useEffect((()=>{const t=t=>{t.target&&!n.current&&st("dismissableLayer.focusOutside",e,{originalEvent:t})};return document.addEventListener("focusin",t),()=>document.removeEventListener("focusin",t)}),[e]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}();return function(t){const e=z(t);a.useEffect((()=>{const t=t=>{"Escape"===t.key&&e(t)};return document.addEventListener("keydown",t),()=>document.removeEventListener("keydown",t)}),[e])}((t=>{y===l.layers.size-1&&(null==r||r(t),t.defaultPrevented||null==u||u())})),function({disabled:t}){const e=a.useRef(!1);V((()=>{if(t){function n(){nt--,0===nt&&(document.body.style.pointerEvents=et)}function r(t){e.current="mouse"!==t.pointerType}return 0===nt&&(et=document.body.style.pointerEvents),document.body.style.pointerEvents="none",nt++,document.addEventListener("pointerup",r),()=>{e.current?document.addEventListener("click",n,{once:!0}):n(),document.removeEventListener("pointerup",r)}}}),[t])}({disabled:n}),a.useEffect((()=>{h&&(n&&l.layersWithOutsidePointerEventsDisabled.add(h),l.layers.add(h),at())}),[h,n,l]),a.useEffect((()=>()=>{h&&(l.layers.delete(h),l.layersWithOutsidePointerEventsDisabled.delete(h),at())}),[h,l]),a.useEffect((()=>{const t=()=>d({});return document.addEventListener("dismissableLayer.update",t),()=>document.removeEventListener("dismissableLayer.update",t)}),[]),a.createElement(B.div,(0,S.Z)({},c,{ref:p,style:{pointerEvents:b?w?"auto":"none":void 0,...t.style},onFocusCapture:rt(t.onFocusCapture,E.onFocusCapture),onBlurCapture:rt(t.onBlurCapture,E.onBlurCapture),onPointerDownCapture:rt(t.onPointerDownCapture,_.onPointerDownCapture)}))}));function at(){const t=new Event("dismissableLayer.update");document.dispatchEvent(t)}function st(t,e,n){const r=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});return e&&r.addEventListener(t,e,{once:!0}),!r.dispatchEvent(i)}const ut=s["useId".toString()]||(()=>{});let ct=0;function lt(t){const[e,n]=a.useState(ut());return V((()=>{t||n((t=>null!=t?t:String(ct++)))}),[t]),t||(e?`radix-${e}`:"")}function ht(...t){const e=t[0];if(1===t.length)return e;const n=()=>{const n=t.map((t=>({useScope:t(),scopeName:t.scopeName})));return function(t){const r=n.reduce(((e,{useScope:n,scopeName:r})=>({...e,...n(t)[`__scope${r}`]})),{});return a.useMemo((()=>({[`__scope${e.scopeName}`]:r})),[r])}};return n.scopeName=e.scopeName,n}const[ft,dt]=function(t,e=[]){let n=[];const r=()=>{const e=n.map((t=>a.createContext(t)));return function(n){const r=(null==n?void 0:n[t])||e;return a.useMemo((()=>({[`__scope${t}`]:{...n,[t]:r}})),[n,r])}};return r.scopeName=t,[function(e,r){const i=a.createContext(r),o=n.length;function s(e){const{scope:n,children:r,...s}=e,u=(null==n?void 0:n[t][o])||i,c=a.useMemo((()=>s),Object.values(s));return a.createElement(u.Provider,{value:c},r)}return n=[...n,r],s.displayName=e+"Provider",[s,function(n,s){const u=(null==s?void 0:s[t][o])||i,c=a.useContext(u);if(c)return c;if(void 0!==r)return r;throw new Error(`\`${n}\` must be used within \`${e}\``)}]},ht(r,...e)]}("Dialog"),[pt,mt]=ft("Dialog"),vt=a.forwardRef(((t,e)=>{const{forceMount:n,...r}=t,i=mt("DialogOverlay",t.__scopeDialog);return i.modal?a.createElement(q,{present:n||i.open},a.createElement(gt,(0,S.Z)({},r,{ref:e}))):null})),gt=a.forwardRef(((t,e)=>{const{__scopeDialog:n,...r}=t,i=mt("DialogOverlay",n);return a.createElement(F.Z,{as:k,allowPinchZoom:i.allowPinchZoom,shards:[i.contentRef]},a.createElement(B.div,(0,S.Z)({"data-state":Et(i.open)},r,{ref:e,style:{pointerEvents:"auto",...r.style}})))})),yt=a.forwardRef(((t,e)=>{const{forceMount:n,...r}=t,i=mt("DialogContent",t.__scopeDialog);return a.createElement(q,{present:n||i.open},i.modal?a.createElement(bt,(0,S.Z)({},r,{ref:e})):a.createElement(wt,(0,S.Z)({},r,{ref:e})))})),bt=a.forwardRef(((t,e)=>{const n=mt("DialogContent",t.__scopeDialog),r=a.useRef(null),i=I(e,n.contentRef,r);return a.useEffect((()=>{const t=r.current;if(t)return L(t)}),[]),a.createElement(_t,(0,S.Z)({},t,{ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:rt(t.onCloseAutoFocus,(t=>{var e;t.preventDefault(),null===(e=n.triggerRef.current)||void 0===e||e.focus()})),onPointerDownOutside:rt(t.onPointerDownOutside,(t=>{const e=t.detail.originalEvent,n=0===e.button&&!0===e.ctrlKey;(2===e.button||n)&&t.preventDefault()})),onFocusOutside:rt(t.onFocusOutside,(t=>t.preventDefault()))}))})),wt=a.forwardRef(((t,e)=>{const n=mt("DialogContent",t.__scopeDialog),r=a.useRef(!1);return a.createElement(_t,(0,S.Z)({},t,{ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:e=>{var i,o;null===(i=t.onCloseAutoFocus)||void 0===i||i.call(t,e),e.defaultPrevented||(r.current||null===(o=n.triggerRef.current)||void 0===o||o.focus(),e.preventDefault()),r.current=!1},onInteractOutside:e=>{var i,o;null===(i=t.onInteractOutside)||void 0===i||i.call(t,e),e.defaultPrevented||(r.current=!0);const a=e.target;(null===(o=n.triggerRef.current)||void 0===o?void 0:o.contains(a))&&e.preventDefault()}}))})),_t=a.forwardRef(((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:o,...s}=t,u=mt("DialogContent",n),c=I(e,a.useRef(null));return j(),a.createElement(a.Fragment,null,a.createElement(Z,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:o},a.createElement(ot,(0,S.Z)({role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Et(u.open)},s,{ref:c,onDismiss:()=>u.onOpenChange(!1)}))),!1)}));function Et(t){return t?"open":"closed"}const[Tt,It]=function(t,e){const n=a.createContext(e);function r(t){const{children:e,...r}=t,i=a.useMemo((()=>r),Object.values(r));return a.createElement(n.Provider,{value:i},e)}return r.displayName=t+"Provider",[r,function(r){const i=a.useContext(n);if(i)return i;if(void 0!==e)return e;throw new Error(`\`${r}\` must be used within \`${t}\``)}]}("DialogTitleWarning",{contentName:"DialogContent",titleName:"DialogTitle",docsSlug:"dialog"}),St=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:o,modal:s=!0,allowPinchZoom:u}=t,c=a.useRef(null),l=a.useRef(null),[h=!1,f]=function({prop:t,defaultProp:e,onChange:n=(()=>{})}){const[r,i]=function({defaultProp:t,onChange:e}){const n=a.useState(t),[r]=n,i=a.useRef(r),o=z(e);return a.useEffect((()=>{i.current!==r&&(o(r),i.current=r)}),[r,i,o]),n}({defaultProp:e,onChange:n}),o=void 0!==t,s=o?t:r,u=z(n);return[s,a.useCallback((e=>{if(o){const n=e,r="function"==typeof e?n(t):e;r!==t&&u(r)}else i(e)}),[o,t,i,u])]}({prop:r,defaultProp:i,onChange:o});return a.createElement(pt,{scope:e,triggerRef:c,contentRef:l,contentId:lt(),titleId:lt(),descriptionId:lt(),open:h,onOpenChange:f,onOpenToggle:a.useCallback((()=>f((t=>!t))),[f]),modal:s,allowPinchZoom:u},n)},kt=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,o=mt("DialogPortal",e);return a.createElement(a.Fragment,null,a.Children.map(r,(t=>a.createElement(q,{present:n||o.open},a.createElement(K,{asChild:!0,container:i},t)))))},Ct=vt,At=yt;var xt=n(844),Ot='[cmdk-group=""]',Nt='[cmdk-group-items=""]',Dt='[cmdk-item=""]',Rt=`${Dt}:not([aria-disabled="true"])`,Pt="cmdk-item-select",Lt="data-value",Ft=(t,e)=>xt(t,e),Mt=a.createContext(void 0),jt=()=>a.useContext(Mt),Ut=a.createContext(void 0),Bt=()=>a.useContext(Ut),Vt=a.createContext(void 0),qt=a.forwardRef(((t,e)=>{let n=a.useRef(null),r=ne((()=>({search:"",value:"",filtered:{count:0,items:new Map,groups:new Set}}))),i=ne((()=>new Set)),o=ne((()=>new Map)),s=ne((()=>new Map)),u=ne((()=>new Set)),c=te(t),{label:l,children:h,value:f,onValueChange:d,filter:p,shouldFilter:m,...v}=t,g=a.useId(),y=a.useId(),b=a.useId(),w=ae();ee((()=>{if(void 0!==f){let t=f.trim().toLowerCase();r.current.value=t,w(6,C),_.emit()}}),[f]);let _=a.useMemo((()=>({subscribe:t=>(u.current.add(t),()=>u.current.delete(t)),snapshot:()=>r.current,setState:(t,e,n)=>{var i,o,a;if(!Object.is(r.current[t],e)){if(r.current[t]=e,"search"===t)k(),I(),w(1,(()=>{S(),_.emit()}));else if("value"===t){if(void 0!==(null==(i=c.current)?void 0:i.value))return void(null==(a=(o=c.current).onValueChange)||a.call(o,e));n||w(5,C)}_.emit()}},emit:()=>{u.current.forEach((t=>t()))}})),[]),E=a.useMemo((()=>({value:(t,e)=>{e!==s.current.get(t)&&(s.current.set(t,e),r.current.filtered.items.set(t,T(e)),w(2,(()=>{I(),_.emit()})))},item:(t,e)=>(i.current.add(t),e&&(o.current.has(e)?o.current.get(e).add(t):o.current.set(e,new Set([t]))),w(3,(()=>{k(),I(),r.current.value||S(),_.emit()})),()=>{s.current.delete(t),i.current.delete(t),r.current.filtered.items.delete(t),w(4,(()=>{k(),S(),_.emit()}))}),group:t=>(o.current.has(t)||o.current.set(t,new Set),()=>{s.current.delete(t),o.current.delete(t)}),filter:()=>c.current.shouldFilter,label:l||t["aria-label"],listId:g,inputId:b,labelId:y})),[]);function T(t){var e;let n=(null==(e=c.current)?void 0:e.filter)??Ft;return t?n(t,r.current.search):0}function I(){if(!n.current||!r.current.search||!1===c.current.shouldFilter)return;let t=r.current.filtered.items,e=[];r.current.filtered.groups.forEach((n=>{let r=o.current.get(n),i=0;r.forEach((e=>{let n=t.get(e);i=Math.max(n,i)})),e.push([n,i])}));let i=n.current.querySelector('[cmdk-list-sizer=""]');x().sort(((e,n)=>{let r=e.getAttribute(Lt),i=n.getAttribute(Lt);return(t.get(i)??0)-(t.get(r)??0)})).forEach((t=>{let e=t.closest(Nt);e?e.appendChild(t.parentElement===e?t:t.closest(`${Nt} > *`)):i.appendChild(t.parentElement===i?t:t.closest(`${Nt} > *`))})),e.sort(((t,e)=>e[1]-t[1])).forEach((t=>{let e=n.current.querySelector(`${Ot}[${Lt}="${t[0]}"]`);null==e||e.parentElement.appendChild(e)}))}function S(){let t=x().find((t=>!t.ariaDisabled)),e=null==t?void 0:t.getAttribute(Lt);r.current.value=e||void 0}function k(){if(!r.current.search||!1===c.current.shouldFilter)return void(r.current.filtered.count=i.current.size);r.current.filtered.groups=new Set;let t=0;for(let e of i.current){let n=T(s.current.get(e));r.current.filtered.items.set(e,n),n>0&&t++}for(let[e,n]of o.current)for(let t of n)if(r.current.filtered.items.get(t)>0){r.current.filtered.groups.add(e);break}r.current.filtered.count=t}function C(){var t,e,n;let r=A();r&&((null==(t=r.parentElement)?void 0:t.firstChild)===r&&(null==(n=null==(e=r.closest(Ot))?void 0:e.querySelector('[cmdk-group-heading=""]'))||n.scrollIntoView({block:"nearest"})),r.scrollIntoView({block:"nearest"}))}function A(){return n.current.querySelector(`${Dt}[aria-selected="true"]`)}function x(){return Array.from(n.current.querySelectorAll(Rt))}function O(t){let e=x()[t];e&&_.setState("value",e.getAttribute(Lt))}function N(t){let e=A(),n=x(),r=n.findIndex((t=>t===e)),i=n[r+t];i&&_.setState("value",i.getAttribute(Lt))}function D(t){let e,n=A(),r=null==n?void 0:n.closest(Ot);for(;r&&!e;)r=t>0?$t(r,Ot):Qt(r,Ot),e=null==r?void 0:r.querySelector(Rt);e?_.setState("value",e.getAttribute(Lt)):N(t)}let R=()=>O(r.current.filtered.count-1),P=t=>{t.preventDefault(),t.metaKey?R():t.altKey?D(1):N(1)},L=t=>{t.preventDefault(),t.metaKey?O(0):t.altKey?D(-1):N(-1)};return a.createElement("div",{ref:re([n,e]),...v,"cmdk-root":"",onKeyDown:t=>{var e;if(null==(e=v.onKeyDown)||e.call(v,t),!t.defaultPrevented)switch(t.key){case"n":case"j":t.ctrlKey&&P(t);break;case"ArrowDown":P(t);break;case"p":case"k":t.ctrlKey&&L(t);break;case"ArrowUp":L(t);break;case"Home":t.preventDefault(),O(0);break;case"End":t.preventDefault(),R();break;case"Enter":{t.preventDefault();let e=A();if(e){let t=new Event(Pt);e.dispatchEvent(t)}}}}},a.createElement("label",{"cmdk-label":"",htmlFor:E.inputId,id:E.labelId,style:se},l),a.createElement(Ut.Provider,{value:_},a.createElement(Mt.Provider,{value:E},h)))})),Gt=a.forwardRef(((t,e)=>{let n=a.useId(),r=a.useRef(null),i=a.useContext(Vt),o=jt(),s=te(t);ee((()=>o.item(n,i)),[]);let u=oe(n,r,[t.value,t.children,r]),c=Bt(),l=ie((t=>t.value&&t.value===u.current)),h=ie((t=>!1===o.filter()||(!t.search||t.filtered.items.get(n)>0)));function f(){var t,e;null==(e=(t=s.current).onSelect)||e.call(t,u.current)}if(a.useEffect((()=>{let e=r.current;if(e&&!t.disabled)return e.addEventListener(Pt,f),()=>e.removeEventListener(Pt,f)}),[h,t.onSelect,t.disabled]),!h)return null;let{disabled:d,value:p,onSelect:m,...v}=t;return a.createElement("div",{ref:re([r,e]),...v,"cmdk-item":"",role:"option","aria-disabled":d||void 0,"aria-selected":l||void 0,onPointerMove:d?void 0:function(){c.setState("value",u.current,!0)},onClick:d?void 0:f},t.children)})),Ht=a.forwardRef(((t,e)=>{let{heading:n,children:r,...i}=t,o=a.useId(),s=a.useRef(null),u=a.useRef(null),c=a.useId(),l=jt(),h=ie((t=>!t.search||t.filtered.groups.has(o)));ee((()=>l.group(o)),[]),oe(o,s,[t.value,t.heading,u]);let f=a.createElement(Vt.Provider,{value:o},r);return a.createElement("div",{ref:re([s,e]),...i,"cmdk-group":"",role:"presentation",hidden:!h||void 0},n&&a.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),a.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},f))})),Kt=a.forwardRef(((t,e)=>{let{alwaysRender:n,...r}=t,i=a.useRef(null),o=ie((t=>!t.search));return n||o?a.createElement("div",{ref:re([i,e]),...r,"cmdk-separator":"",role:"separator"}):null})),zt=a.forwardRef(((t,e)=>{let{onValueChange:n,...r}=t,i=null!=t.value,o=Bt(),s=ie((t=>t.search)),u=jt();return a.useEffect((()=>{null!=t.value&&o.setState("search",t.value)}),[t.value]),a.createElement("input",{ref:e,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,id:u.inputId,type:"text",value:i?t.value:s,onChange:t=>{i||o.setState("search",t.target.value),null==n||n(t.target.value)}})})),Wt=a.forwardRef(((t,e)=>{let{children:n,...r}=t,i=a.useRef(null),o=a.useRef(null),s=jt();return a.useEffect((()=>{if(o.current&&i.current){let t=o.current,e=i.current,n=new ResizeObserver((()=>{let n=t.getBoundingClientRect().height;e.style.setProperty("--cmdk-list-height",n.toFixed(1)+"px")}));return n.observe(t),()=>n.unobserve(t)}}),[]),a.createElement("div",{ref:re([i,e]),...r,"cmdk-list":"",role:"listbox","aria-label":"Suggestions",id:s.listId,"aria-labelledby":s.inputId},a.createElement("div",{ref:o,"cmdk-list-sizer":""},n))})),Zt=a.forwardRef(((t,e)=>{let{open:n,onOpenChange:r,...i}=t;return a.createElement(St,{open:n,onOpenChange:r},a.createElement(kt,null,a.createElement(Ct,{"cmdk-overlay":""}),a.createElement(At,{"aria-label":t.label,"cmdk-dialog":""},a.createElement(qt,{ref:e,...i}))))})),Jt=a.forwardRef(((t,e)=>{let n=a.useRef(!0),r=ie((t=>0===t.filtered.count));return a.useEffect((()=>{n.current=!1}),[]),n.current||!r?null:a.createElement("div",{ref:e,...t,"cmdk-empty":"",role:"presentation"})})),Xt=a.forwardRef(((t,e)=>{let{progress:n,children:r,...i}=t;return a.createElement("div",{ref:e,...i,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":"Loading..."},a.createElement("div",{"aria-hidden":!0},r))})),Yt=Object.assign(qt,{List:Wt,Item:Gt,Input:zt,Group:Ht,Separator:Kt,Dialog:Zt,Empty:Jt,Loading:Xt});function $t(t,e){let n=t.nextElementSibling;for(;n;){if(n.matches(e))return n;n=n.nextElementSibling}}function Qt(t,e){let n=t.previousElementSibling;for(;n;){if(n.matches(e))return n;n=n.previousElementSibling}}function te(t){let e=a.useRef(t);return ee((()=>{e.current=t})),e}var ee=typeof window>"u"?a.useEffect:a.useLayoutEffect;function ne(t){let e=a.useRef();return void 0===e.current&&(e.current=t()),e}function re(t){return e=>{t.forEach((t=>{"function"==typeof t?t(e):null!=t&&(t.current=e)}))}}function ie(t){let e=Bt(),n=()=>t(e.snapshot());return a.useSyncExternalStore(e.subscribe,n,n)}function oe(t,e,n){let r=a.useRef(),i=jt();return ee((()=>{var o;let a=(()=>{var t;for(let e of n){if("string"==typeof e)return e.trim().toLowerCase();if("object"==typeof e&&"current"in e&&e.current)return null==(t=e.current.textContent)?void 0:t.trim().toLowerCase()}})();i.value(t,a),null==(o=e.current)||o.setAttribute(Lt,a),r.current=a})),r}var ae=()=>{let[t,e]=a.useState(),n=ne((()=>new Map));return ee((()=>{n.current.forEach((t=>t())),n.current=new Map}),[t]),(t,r)=>{n.current.set(t,r),e({})}},se={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"},ue=n(1893),ce=n(8329),le=n(9604),he=n(8396),fe=n.n(he),de=n(8688),pe=n.n(de),me=n(7500);function ve(t){var e=t.isOpen,n=t.onOpenChange,r=t.onRequestClose,i=function(t){g.push(t),p(""),r()},s=function(t){window.open(t,"_blank"),p(""),r()},u=(0,a.useState)([]),c=u[0],h=u[1],f=(0,a.useState)(""),d=f[0],p=f[1],m=c[c.length-1],v=(0,ue.a)(),g=(0,l.useRouter)();return(0,a.useEffect)((function(){e||(p(""),h([]))}),[e]),(0,o.jsxs)(Yt.Dialog,{className:fe().dialog,open:e,onOpenChange:n,label:"Command Menu",onKeyDown:function(t){"Escape"===t.key&&c.length&&(t.preventDefault(),h((function(t){return t.slice(0,-1)})),p(""))},children:[(0,o.jsx)(Yt.Input,{value:d,onValueChange:p,placeholder:"Search anything here..."}),(0,o.jsxs)(Yt.List,{children:[(0,o.jsx)(Yt.Empty,{children:"No results found."}),!m&&(0,o.jsxs)(o.Fragment,{children:[v&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Yt.Item,{onSelect:function(){i("/me")},children:"My analytics"}),(0,o.jsx)(Yt.Separator,{})]}),(0,o.jsxs)(Yt.Group,{heading:"Help",children:[(0,o.jsx)(Yt.Item,{onSelect:function(){return i("/tips")},children:"Tips & Tricks"}),(0,o.jsx)(Yt.Item,{onSelect:function(){return i("/learn")},children:"Learn CSS"}),(0,o.jsx)(Yt.Item,{onSelect:function(){return i("/faqs")},children:"FAQs"})]}),(0,o.jsx)(Yt.Separator,{}),(0,o.jsx)(Yt.Item,{onSelect:function(){var t=pe()[Math.floor(Math.random()*pe().length)];i("/play/".concat(t.id))},children:"I am feeling lucky \ud83c\udfaf"}),!(null===v||void 0===v?void 0:v.isPro)&&(0,o.jsxs)(Yt.Item,{onSelect:function(){return i("/pro")},children:["Upgrade to ",(0,o.jsx)(ce.Z,{style:{marginLeft:"0.5rem"}})]}),v&&(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(Yt.Item,{onSelect:function(){return i("/settings")},children:"Settings"}),(0,o.jsx)(Yt.Item,{onSelect:function(){return i("/player/".concat(v.username||v.uid))},children:"My profile"})]}),(0,o.jsx)(Yt.Item,{onSelect:function(){return i("/")},children:"Home"}),(0,o.jsx)(Yt.Item,{onSelect:function(){return i("/blog")},children:"Blog"}),(0,o.jsx)(Yt.Separator,{}),(0,o.jsxs)(Yt.Group,{heading:"Community",children:[(0,o.jsx)(Yt.Item,{onSelect:function(){s("https://community.cssbattle.dev")},children:"Community"}),(0,o.jsxs)(Yt.Item,{onSelect:function(){s("https://discord.gg/rvqvbcFM86")},children:["Join on Discord ",(0,o.jsx)(le.J,{name:"discord",size:"18"})]})]}),(0,o.jsx)(Yt.Separator,{}),(0,o.jsx)(Yt.Item,{onSelect:function(){h((0,E.Z)(c).concat(["targets"])),p("")},children:"Play target \u25b6"}),(0,o.jsx)(Yt.Item,{onSelect:function(){h((0,E.Z)(c).concat(["battles"])),p("")},children:"Battles \u25b6"}),(0,o.jsx)(Yt.Separator,{}),(0,o.jsx)(Yt.Item,{onSelect:function(){s("https://github.com/cssbattle/forum/issues")},children:"Report a bug"}),(0,o.jsx)(Yt.Item,{onSelect:function(){return i("/changelog")},children:"Changelog"}),d?pe().map((function(t){return(0,o.jsxs)(Yt.Item,{onSelect:function(){i("/play/".concat(t.id)),h([])},children:["Play target #",t.id," - ",t.name]},t.id)})):null,d?me.battles.map((function(t){return(0,o.jsxs)(Yt.Item,{onSelect:function(){i("/battle/".concat(t.id)),h([])},children:["Battle #",t.id," - ",t.name]},t.id)})):null]}),"targets"===m&&(0,o.jsx)(Yt.Group,{heading:"Play target \u25bc",children:pe().map((function(t){return(0,o.jsxs)(Yt.Item,{onSelect:function(){i("/play/".concat(t.id)),h([])},children:["Play target #",t.id," - ",t.name]},t.id)}))}),"battles"===m&&(0,o.jsx)(Yt.Group,{heading:"Battles \u25bc",children:me.battles.map((function(t){return(0,o.jsxs)(Yt.Item,{onSelect:function(){i("/battle/".concat(t.id)),h([])},children:["Battle #",t.id," - ",t.name]},t.id)}))})]})]})}var ge=n(5532),ye=n(3290);n(9899);var be=function(t){var e=t.Component,n=t.pageProps,s=(0,l.useRouter)(),u=(0,a.useState)((function(){var t=window.localStorage.getItem("lastUser"),e=JSON.parse(t);return e&&(e.gameMode=!!window.localStorage.getItem("gamemode")),t?e:null})),h=u[0],f=u[1],d=(0,a.useState)(!1),p=d[0],m=d[1],E=(0,_.P)();return(0,a.useEffect)((function(){console.log("\n _______  _______  _______  _______  _______  _______  _______  ___      _______ \n|       ||       ||       ||  _    ||   _   ||       ||       ||   |    |       |\n|       ||  _____||  _____|| |_|   ||  |_|  ||_     _||_     _||   |    |    ___|\n|       || |_____ | |_____ |       ||       |  |   |    |   |  |   |    |   |___ \n|      _||_____  ||_____  ||  _   | |       |  |   |    |   |  |   |___ |    ___|\n|     |_  _____| | _____| || |_|   ||   _   |  |   |    |   |  |       ||   |___ \n|_______||_______||_______||_______||__| |__|  |___|    |___|  |_______||_______|\n"),console.log("{\u2694\ufe0f} Join our community forum -> https://community.cssbattle.dev");var t=JSON.parse(window.localStorage.getItem("lastUser"));if(t&&t.isPro&&t.settings&&"light"===t.settings.theme){var e=document.createElement("link");e.href="/light-theme.css",e.rel="stylesheet",e.id="lightThemeLink",document.head.append(e)}}),[]),v(),(0,a.useEffect)((function(){if(window.dataLayer=window.dataLayer||[],window.gtag=function(){dataLayer.push(arguments)},gtag("js",new Date),!location.href.match(/localhost/)){var t=document.createElement("script");t.src="https://www.googletagmanager.com/gtag/js?id=UA-136774468-1",t.async=!0,document.body.appendChild(t)}window.gtag&&window.gtag("config","UA-136774468-1")}),[]),(0,a.useEffect)((function(){ge.Z.auth().onAuthStateChanged((function(t){if(t){(0,y.xX)(t);["isPro","settings","gameMode"].forEach((function(e){h&&h[e]&&(t[e]=h[e])})),f(t),(0,w.$Y)(t.uid,!0).then((function(e){var n=(0,r.Z)((0,i.Z)((0,r.Z)({},t),{isPro:!1}),e);(0,y.xX)(n),n.firebaseUser=t,n.getIdToken=t.getIdToken,f(n),window.localStorage.getItem("pendingEmailSubscription")&&((0,w.Ii)(n.uid,{"settings.emailNotifications":!0}),window.localStorage.removeItem("pendingEmailSubscription"))}))}else window.localStorage.removeItem("lastUser"),f(null)}))}),[]),(0,a.useEffect)((function(){var t=function(t){(t.metaKey||t.ctrlKey)&&"k"===t.key&&(m((function(t){return t||(0,ye.q)({name:"commandPaletteOpen"}),!t})),t.preventDefault())};return document.addEventListener("keydown",t),function(){return document.removeEventListener("keydown",t)}}),[]),(0,o.jsxs)(g.S.Provider,{value:h,children:[(0,o.jsxs)(c(),{children:[(0,o.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1, shrink-to-fit=no"}),(0,o.jsx)("meta",{property:"og:url",content:"https://cssbattle.dev"},"url"),(0,o.jsx)("meta",{property:"og:image",content:"https://cssbattle.dev/images/banner.png"},"banner"),(0,o.jsx)("meta",{property:"og:title",content:"CSSBattle"},"ogTitle"),(0,o.jsx)("title",{children:"CSSBattle"},"title"),(0,o.jsx)("meta",{property:"og:description",content:"CSS Code Golfing game is here!"},"desc"),(0,o.jsx)("meta",{name:"twitter:card",content:"summary_large_image"}),(0,o.jsx)("link",{rel:"shortcut icon",href:"/images/logo-square.png"}),(0,o.jsx)("style",{id:"critical-css",type:E?"ruby":void 0,children:"/* CRITICAL CSS */\n          body {\n            background-color: #171d23;\n          }\n\n          body:after {\n            font-size: 1.5rem;\n            text-align: center;\n            font-family: 'IBM Plex Mono', 'Menlo', 'DejaVu Sans Mono',\n              'Lucida Console', monospace;\n            color: #cbd1e1;\n            display: block;\n            content: 'Hang on! The battleground is getting setup...';\n            width: 400px;\n            position: fixed;\n            top: 40vh;\n            left: calc(50vw - 200px);\n            opacity: 0;\n            animation: 0.3s show ease forwards;\n            animation-delay: 1s;\n          }\n\n          @keyframes show {\n            to {\n              opacity: 1;\n            }\n          }"})]}),function(){s.asPath;return!0}()&&(0,o.jsx)(e,(0,r.Z)({},n)),E&&(0,o.jsx)(ve,{isOpen:p,onOpenChange:m,onRequestClose:function(){m(!1)}}),(0,o.jsx)(b.Ix,{position:"bottom-right",autoClose:3e3}),(0,o.jsx)("div",{id:"portal-root"})]})}},7037:function(t,e,n){"use strict";n.d(e,{$Y:function(){return G},A9:function(){return lt},CU:function(){return Xt},DI:function(){return Yt},FC:function(){return Nt},GT:function(){return it},HC:function(){return F},Ii:function(){return bt},Ko:function(){return y},Qz:function(){return Ut},R6:function(){return X},Sv:function(){return wt},T8:function(){return Et},TU:function(){return Vt},Ty:function(){return K},UZ:function(){return $},V6:function(){return Pt},W:function(){return kt},Ws:function(){return Mt},X2:function(){return V},XU:function(){return U},Z6:function(){return At},a8:function(){return re},bQ:function(){return z},bl:function(){return g},c_:function(){return ee},ch:function(){return Lt},d:function(){return at},dT:function(){return Kt},eL:function(){return nt},en:function(){return $t},g5:function(){return Qt},hC:function(){return It},pc:function(){return yt},pn:function(){return Gt},qW:function(){return Ot},r8:function(){return vt},sk:function(){return ut},uL:function(){return tt},uf:function(){return Z},wd:function(){return pt},y:function(){return Dt}});var r=n(8788),i=n(7842),o=n(2838),a=n(865),s=n(6670),u=n(6383),c=n(4776),l=n.n(c),h=n(2367),f=n(7500),d=n(8688),p=n.n(d),m=n(5532);n(9550);n(3334);var v=m.Z.firestore(),g="https://cssbattle.dev/api",y="/packages/nextjs/api",b="battles",w="battleScores",_="targetScores",E="purchases",T="subscriptions",I="submissions",S="following",k="scores",C="levels",A="editorPlugins",x="course";function O(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=v.collection(_),r=n.where("levelId","==",t).orderBy(e?"score":"overall.score","desc").orderBy(e?"lastUpdated":"overall.lastUpdated");return r}function N(t){var e=[];return t.forEach((function(t){e.push((0,a.Z)({id:t.id},t.data()))})),e.length,e}function D(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.withoutId,r=void 0!==n&&n;return t.get().then((function(t){return t.exists?r?t.data():(0,a.Z)({id:t.id},t.data()):null}))}function R(t){return t.get().then(N)}function P(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.sort((function(t,n){return e?t.score===n.score?t.lastUpdated-n.lastUpdated:n.score-t.score:(null===(r=t.overall)||void 0===r?void 0:r.score)===(null===(i=n.overall)||void 0===i?void 0:i.score)?(null===(o=t.overall)||void 0===o?void 0:o.lastUpdated)-(null===(a=n.overall)||void 0===a?void 0:a.lastUpdated):((null===(s=n.overall)||void 0===s?void 0:s.score)||0)-((null===(u=t.overall)||void 0===u?void 0:u.score)||0);var r,i,o,a,s,u}))}function L(t){return v.doc("scores/".concat(t)).get().then((function(t){return t.exists?t.data():void 0})).catch((function(){}))}function F(t){return M.apply(this,arguments)}function M(){return(M=(0,r.Z)(l().mark((function t(e){var n,r,i;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=function(t){return R(v.collection(_).where("levelId","==",t).where("userId","==",n)).then((function(t){return t[0]}))},n=e.userId,r=e.levelIds,t.abrupt("return",Promise.all(r.filter(Boolean).map(i)).then((function(t){return t.filter(Boolean).reduce((function(t,e){return t[e.levelId]=e,t}),{})})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(t){return R(v.collection(S).where("followerId","==",t)).then((function(t){return t.map((function(t){return t.followedId}))}))}function U(t){return B.apply(this,arguments)}function B(){return(B=(0,r.Z)(l().mark((function t(e){var n,r,i,o;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.userId,r=e.levelId,i=e.limit,o=v.collection(I).where("userId","==",n).where("levelId","==",r).orderBy("timestamp","desc"),i&&(o=o.limit(i)),t.abrupt("return",R(o).catch((function(t){return console.log("Error getting document:",t),0})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function V(t){return q.apply(this,arguments)}function q(){return q=(0,r.Z)(l().mark((function t(e){var n,i,o,s;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=function(t){return i.apply(this,arguments)},i=function(){return i=(0,r.Z)(l().mark((function t(e){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",D(v.doc("submissions/".concat(e))));case 1:case"end":return t.stop()}}),t)}))),i.apply(this,arguments)},t.next=6,X({levelId:e});case 6:return o=t.sent,t.next=9,Promise.all(o.map((function(t){return n(t.submissionId)})));case 9:return s=t.sent,t.abrupt("return",o.map((function(t,e){return(0,a.Z)({},s[e],t)})));case 11:case"end":return t.stop()}}),t)}))),q.apply(this,arguments)}function G(t,e){return H.apply(this,arguments)}function H(){return(H=(0,r.Z)(l().mark((function t(e,n){var r,i;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.location.href.match(/localhost/)&&!n){t.next=4;break}return t.abrupt("return",D(v.doc("players/".concat(e))).then((function(t){return t&&(t=(0,s.Z)((0,a.Z)({},t),{displayName:t.displayName||"User"})),t})));case 4:return t.next=6,fetch("".concat(y,"/playerProfile?userId=").concat(e));case 6:return r=t.sent,t.next=9,r.json();case 9:return i=t.sent,t.abrupt("return",i);case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function K(t){return R(v.collection("players").where("username","==",t)).then((function(t){if(t.length)return(0,s.Z)((0,a.Z)({id:t[0].id},t[0]),{displayName:t[0].displayName||"User"})}))}function z(){return W.apply(this,arguments)}function W(){return W=(0,r.Z)(l().mark((function t(){var e,n,r,i=arguments;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=i.length>0&&void 0!==i[0]?i[0]:10,n=v.collection(k),r=n.orderBy("score","desc").orderBy("lastUpdated").limit(e),t.abrupt("return",r.get().then((function(t){var e=N(t);if(!e.length)return[];var n=e.map((function(t){return G(t.id)}));return Promise.all(n).then((function(t){return t.map((function(t,n){return(0,s.Z)((0,a.Z)({},e[n]),{rank:n+1,playedCount:Object.keys(e[n].levels).length,playerProfile:t})}))}))})).catch((function(t){return console.log("Error getting document:",t),0})));case 4:case"end":return t.stop()}}),t)}))),W.apply(this,arguments)}function Z(t){return J.apply(this,arguments)}function J(){return(J=(0,r.Z)(l().mark((function t(e){var n,r,i;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.userId,t.next=3,j(n);case 3:if((r=t.sent).length){t.next=6;break}return t.abrupt("return",[]);case 6:return r.push(n),i=r.map((function(t){return Promise.all([G(t),L(t)])})),t.abrupt("return",Promise.all(i).then((function(t){return t=t.map((function(t,e){var n=(0,u.Z)(t,2),r=n[0],i=n[1];return(0,s.Z)((0,a.Z)({},i),{id:r.id,playedCount:Object.keys(i.levels).length,playerProfile:r})})),P(t)})));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function X(t){return Y.apply(this,arguments)}function Y(){return(Y=(0,r.Z)(l().mark((function t(e){var n,r,i,o,u;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.levelId,r=e.numberOfPlayers,i=void 0===r?10:r,o=e.isCSSLeaderboard,u=O(n,void 0===o||o).limit(i),t.abrupt("return",R(u).then((function(t){if(!t.length)return[];var e=t.map((function(t){return G(t.userId)}));return Promise.all(e).then((function(e){return e.map((function(e,n){return(0,s.Z)((0,a.Z)({id:t[n].id},t[n]),{rank:n+1,playerProfile:e})}))}))})).catch((function(t){return console.log("Error getting document:",t),0})));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function $(t){return Q.apply(this,arguments)}function Q(){return(Q=(0,r.Z)(l().mark((function t(e){var n,r,i,o,c,h;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.userId,r=e.levelId,i=e.isCSSLeaderboard,o=void 0===i||i,t.next=3,j(n);case 3:if((c=t.sent).length){t.next=6;break}return t.abrupt("return",[]);case 6:return c.push(n),h=c.map((function(t){return Promise.all([G(t),lt({playerId:t,levelId:r}).then((function(t){return t||{score:0}}))])})),t.abrupt("return",Promise.all(h).then((function(t){return t=t.map((function(t,e){var n=(0,u.Z)(t,2),r=n[0],i=n[1];return(0,s.Z)((0,a.Z)({},i),{id:r.id,playerProfile:r})})),P(t,o)})));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function tt(t){return et.apply(this,arguments)}function et(){return et=(0,r.Z)(l().mark((function t(e){var n,i,o,c,h,f,d;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.battleId,i=e.numberOfPlayers,o=void 0===i?10:i,c=e.isCSSLeaderboard,h=void 0===c||c,f=v.collection(w),d=f.where("battleId","==",n).orderBy(h?"score":"overall.score","desc").orderBy(h?"lastUpdated":"overall.lastUpdated").limit(o),t.abrupt("return",R(d).then(function(){var t=(0,r.Z)(l().mark((function t(e){var r,i;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.length){t.next=2;break}return t.abrupt("return",[]);case 2:return t.next=4,Lt(n);case 4:return r=t.sent,i=e.map((function(t){return Promise.all([G(t.userId),F({userId:t.userId,levelIds:r.levelIds})])})),t.abrupt("return",Promise.all(i).then((function(t){return t.map((function(t,n){var i=(0,u.Z)(t,2),o=i[0],c=i[1];return(0,s.Z)((0,a.Z)({},e[n]),{id:e[n].userId,rank:n+1,playedCount:r.levelIds.filter((function(t){return c[t]})).length,playerProfile:o})}))})));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){return console.log("Error getting document:",t),[]})));case 4:case"end":return t.stop()}}),t)}))),et.apply(this,arguments)}function nt(t){return rt.apply(this,arguments)}function rt(){return(rt=(0,r.Z)(l().mark((function t(e){var n,r,i,o,c,h,f;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.userId,r=e.battleId,i=e.isCSSLeaderboard,o=void 0===i||i,t.next=3,Lt(r);case 3:return c=t.sent,t.next=6,j(n);case 6:if((h=t.sent).length){t.next=9;break}return t.abrupt("return",[]);case 9:return h.push(n),f=h.map((function(t){return Promise.all([G(t),L(t),v.collection(w).where("userId","==",t).where("battleId","==",r).get().then((function(t){return N(t)[0]||{score:0}}))])})),t.abrupt("return",Promise.all(f).then((function(t){return t=t.map((function(t,e){var n=(0,u.Z)(t,3),r=n[0],i=n[1],o=n[2];return(0,s.Z)((0,a.Z)({},o),{id:r.id,playedCount:c.levelIds.filter((function(t){return i.levels[t]})).length,playerProfile:r})})),P(t,o)})));case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function it(t){return ot.apply(this,arguments)}function ot(){return(ot=(0,r.Z)(l().mark((function t(e){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=O(e).limit(1),t.abrupt("return",R(n).then((function(t){if(!t.length)return null;var n=t.map((function(t){return G(t.userId)}));return n.length?Promise.all(n).then((function(n){return n.map((function(n,r){return{levelId:e,highscore:{score:t[r].score,codeSize:t[r].codeSize,match:t[r].match,playerProfile:n}}}))[0]})):null})).catch((function(t){return console.log("Error getting document:",t),null})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function at(t){return st.apply(this,arguments)}function st(){return(st=(0,r.Z)(l().mark((function t(e){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.map((function(t){return it(t)})),t.abrupt("return",Promise.all(n));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ut(t){return ct.apply(this,arguments)}function ct(){return(ct=(0,r.Z)(l().mark((function t(e){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=O(e).limit(3),t.abrupt("return",R(n).catch((function(t){return console.log("Error getting document:",t),[]})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function lt(t){return ht.apply(this,arguments)}function ht(){return(ht=(0,r.Z)(l().mark((function t(e){var n,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.playerId,r=e.levelId,t.abrupt("return",D(v.doc("".concat(_,"/").concat(n,"_").concat(r)),{withoutId:!0}).catch((function(){})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ft(t){return dt.apply(this,arguments)}function dt(){return(dt=(0,r.Z)(l().mark((function t(e){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.playerId,t.abrupt("return",v.doc("scores/".concat(n)).get().then((function(t){return t.exists?t.data():{}})).catch((function(){return{}})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function pt(t){return mt.apply(this,arguments)}function mt(){return(mt=(0,r.Z)(l().mark((function t(e){var n,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.playerId,t.next=3,ft({playerId:n});case 3:return r=t.sent,t.abrupt("return",r.levels||{});case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function vt(t){return gt.apply(this,arguments)}function gt(){return(gt=(0,r.Z)(l().mark((function t(e){var n,r,i,o,a,s,u,c;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.token,r=void 0===n?"":n,i=e.userId,o=e.levelId,a=e.battleId,s=new URLSearchParams((0,h.BE)({token:r,userId:i,battleId:a,levelId:o})),t.prev=3,t.next=6,fetch("https://us-central1-cssbattleapp.cloudfunctions.net/getRank?".concat(s));case 6:return c=t.sent,t.next=9,c.json();case 9:u=t.sent,t.next=15;break;case 12:return t.prev=12,t.t0=t.catch(3),t.abrupt("return",null);case 15:return t.abrupt("return",u);case 16:case"end":return t.stop()}}),t,null,[[3,12]])})))).apply(this,arguments)}function yt(){return D(v.doc("global/stats"))}function bt(t,e){return v.doc("players/".concat(t)).update(e)}function wt(t,e){return _t.apply(this,arguments)}function _t(){return(_t=(0,r.Z)(l().mark((function t(e,n){var r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getIdToken();case 2:return r=t.sent,t.abrupt("return",fetch("".concat(g,"/saveUsername"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:r,username:n})}).then((function(t){if(!t.ok)throw t;return t.text()})).catch((function(t){if((0,o.Z)(t,Response))throw t.text()})));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Et(t){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,r.Z)(l().mark((function t(e){var n,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.followedId,r=e.followerId,t.abrupt("return",v.collection(S).doc("".concat(n,"_").concat(r)).get().then((function(t){return t.exists})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function It(t){return St.apply(this,arguments)}function St(){return(St=(0,r.Z)(l().mark((function t(e){var n,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.followedId,r=e.followerId,t.abrupt("return",v.collection(S).doc("".concat(n,"_").concat(r)).set({followedId:n,followerId:r,timestamp:m.Z.firestore.FieldValue.serverTimestamp()}));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function kt(t){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,r.Z)(l().mark((function t(e){var n,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.followedId,r=e.followerId,t.abrupt("return",v.collection(S).doc("".concat(n,"_").concat(r)).delete());case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function At(t){return xt.apply(this,arguments)}function xt(){return(xt=(0,r.Z)(l().mark((function t(e){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.userId,t.abrupt("return",v.collection(A).where("userId","==",n).get().then(N).catch((function(t){return console.log("Error getting document:",t),0})));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ot(t){var e={title:t.title,code:t.code,shouldAutoRun:t.shouldAutoRun||!1};return t.id?v.collection(A).doc(t.id).update((0,s.Z)((0,a.Z)({},e),{updatedOn:m.Z.firestore.FieldValue.serverTimestamp()})):v.collection(A).add((0,s.Z)((0,a.Z)({},e),{userId:t.userId,createdOn:m.Z.firestore.FieldValue.serverTimestamp()})).then((function(t){return t.id}))}function Nt(t){return v.collection(A).doc(t.id).delete()}function Dt(t){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,r.Z)(l().mark((function t(e){var n,r,i,o,a,s;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.userId,r=v.collection(T).where("userId","==",n).where("type","==","subscription_payment_succeeded").orderBy("timestamp","desc"),i=v.collection(T).where("userId","==",n).where("type","==","subscription_created").orderBy("timestamp","desc"),t.t0=u.Z,t.next=6,Promise.all([R(i),R(r)]);case 6:return t.t1=t.sent,o=(0,t.t0)(t.t1,2),a=o[0],s=o[1],t.abrupt("return",{lastSubscription:a[0],lastPayment:s[0]});case 11:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Pt(t){var e=v.collection("events").orderBy("timestamp","desc");return t&&(e=e.where("data.battleId","==",t)),(e=e.limit(20)).get().then((function(t){var e=N(t);if(!e.length)return e;(0,h.P$)(e);var n=e.map((function(t){return G(t.data.userId)}));return Promise.all(n).then((function(t){return t.map((function(t,n){return(0,s.Z)((0,a.Z)({},e[n]),{timestamp:1e3*e[n].timestamp.seconds,playerProfile:t})}))}))}))}function Lt(t){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,r.Z)(l().mark((function t(e){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=f.battles.find((function(t){return t.id===e})))){t.next=3;break}return t.abrupt("return",n);case 3:return t.abrupt("return",D(v.collection(b).doc(e)));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Mt(t){return jt.apply(this,arguments)}function jt(){return(jt=(0,r.Z)(l().mark((function t(e){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(n=e?f.battles.find((function(t){return t.levelIds.includes(e.id)})):null)){t.next=3;break}return t.abrupt("return",n);case 3:return t.abrupt("return",D(v.collection(b).doc(e.battleId)));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Ut(t){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,r.Z)(l().mark((function t(e){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return",{});case 2:if(!(n=p().find((function(t){return t.id===e})))){t.next=5;break}return t.abrupt("return",n);case 5:return t.abrupt("return",D(v.collection(C).doc(e)));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Vt(t){return qt.apply(this,arguments)}function qt(){return(qt=(0,r.Z)(l().mark((function t(e){var n;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.map((function(t){return Ut(t)})),t.abrupt("return",Promise.all(n));case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Gt(t){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,r.Z)(l().mark((function t(e){var n,r,i,o,u,c,d,p;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.userId,r=e.battle,i=e.levels,o=e.oldLevels,u=(0,h.BE)({name:r.name,description:r.description,duration:r.duration,status:r.status,levelIds:i?i.map((function(t){return t.id})):void 0,startDate:r.startDate,endDate:r.endDate}),console.table(u),u.startDate&&(u.startDate=m.Z.firestore.FieldValue.serverTimestamp()),u.endDate&&(u.endDate=m.Z.firestore.FieldValue.serverTimestamp()),!(i&&o&&o.length)){t.next=12;break}if(!(c=o.filter((function(t){return!i.find((function(e){return e.id===t.id}))})).map((function(t){return t.id}))).length){t.next=12;break}return d=c.map((function(t){return Zt(t)})),console.log("levels to delete",c),t.next=12,Promise.all(d);case 12:if(p=i?i.map((function(t){return Wt({userId:n,battleId:r.id,level:t})})):Promise.resolve(),console.log("saving battle",r,i,n,u),!r.id){t.next=18;break}return t.abrupt("return",Promise.all([v.collection(b).doc(r.id).update((0,s.Z)((0,a.Z)({},u),{updatedOn:m.Z.firestore.FieldValue.serverTimestamp()})),p]));case 18:return t.abrupt("return",v.collection(b).add((0,s.Z)((0,a.Z)({},u),{createdBy:n,status:f.BattleStatuses.UPCOMING,createdOn:m.Z.firestore.FieldValue.serverTimestamp(),updatedOn:m.Z.firestore.FieldValue.serverTimestamp()})).then((function(t){return t.id})));case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Kt(t){return zt.apply(this,arguments)}function zt(){return(zt=(0,r.Z)(l().mark((function t(e){var n,r,i;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.battleId,r=e.levelIds,i=(void 0===r?[]:r).map((function(t){return Zt(t)})),t.next=4,Promise.all(i);case 4:return t.abrupt("return",v.doc("".concat(b,"/").concat(n)).delete());case 5:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Wt(t){var e=t.userId,n=t.battleId,r=t.level,i=(0,h.BE)((0,a.Z)({createdBy:e,battleId:n,updatedOn:m.Z.firestore.FieldValue.serverTimestamp()},r));return console.log("level saving ",i),v.collection("levels").doc(r.id).set(i)}function Zt(t){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,r.Z)(l().mark((function t(e){var r,i,o;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(5120),r=m.Z.storage(),t.next=4,Ut(e);case 4:return i=t.sent,o=r.ref().child(decodeURIComponent(i.image.match(/user.*png/)[0])),t.abrupt("return",Promise.all([v.doc("".concat(C,"/").concat(e)).delete(),o.delete()]));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Xt(t){return R(v.collection(b).where("createdBy","==",t))}function Yt(t){return R(v.collection(E).where("userId","==",t).where("type","==","customBattle"))}function $t(t,e){return v.collection(E).where("userId","==",t).where("type","==","customBattle").where("isUsed","==",!1).onSnapshot((function(t){var n=N(t);e(n)}))}function Qt(t){return te.apply(this,arguments)}function te(){return(te=(0,r.Z)(l().mark((function t(e){var n,r;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(v.collection(w).where("userId","==",e));case 2:return n=t.sent,t.next=5,Promise.all(n.map((function(t){return Lt(t.battleId)})));case 5:return r=t.sent,t.abrupt("return",r.map((function(t,e){return(0,a.Z)({},n[e],t)})));case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ee(t){return ne.apply(this,arguments)}function ne(){return(ne=(0,r.Z)(l().mark((function t(e){return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",D(v.doc("".concat(x,"/").concat(e))));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function re(t){return ie.apply(this,arguments)}function ie(){return(ie=(0,r.Z)(l().mark((function t(e){var n,r,o,a,s;return l().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.userId,r=e.courseName,o=e.levelId,a=e.hasCompleted,s={level:o,lastUpdated:m.Z.firestore.FieldValue.serverTimestamp()},a&&(s.completedDate=m.Z.firestore.FieldValue.serverTimestamp()),t.abrupt("return",v.doc("course/".concat(n)).update((0,i.Z)({},r,s)));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}},2367:function(t,e,n){"use strict";n.d(e,{BE:function(){return c},Ds:function(){return s},NR:function(){return w},P$:function(){return v},SG:function(){return u},TF:function(){return m},TN:function(){return E},VG:function(){return f},WQ:function(){return g},Z3:function(){return I},cT:function(){return b},hM:function(){return d},lC:function(){return h},nX:function(){return _},qA:function(){return T},tF:function(){return S},wm:function(){return y},x4:function(){return l},xX:function(){return p}});var r=n(865),i=n(6670),o=n(2788),a=n(5532);function s(t,e,n){var r;return function(){var i=this,o=arguments,a=function(){r=null,n||t.apply(i,o)},s=n&&!r;clearTimeout(r),r=setTimeout(a,e),s&&t.apply(i,o)}}function u(t,e,n){for(var r=e.split("."),i=t;r.length>1;){var o=r.shift();i[o]=i[o]||{},i=i[o]}return i[r[0]]=n,t}function c(t){return Object.keys(t).forEach((function(e){t[e]&&"object"===typeof t[e]?c(t[e]):void 0!==t[e]&&null!==t[e]||delete t[e]})),t}function l(t){if(0===t)return"-";var e=t%10,n=t%100;return 1===e&&11!==n?t+"st":2===e&&12!==n?t+"nd":3===e&&13!==n?t+"rd":t+"th"}function h(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,e=Date.now()+1e3*t;!function t(){(0,o.Z)({particleCount:1,startVelocity:0,ticks:100,origin:{x:Math.random(),y:Math.random()-.2},colors:[["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"][~~(7*Math.random())]]}),Date.now()<e&&requestAnimationFrame(t)}()}var f=function(t){"object"!==typeof t&&(t=new Date(t));var e,n=Math.floor((new Date-t)/1e3),r=Math.floor(n/31536e3);return r>=1?e="year":(r=Math.floor(n/2592e3))>=1?e="month":(r=Math.floor(n/86400))>=1?e="day":(r=Math.floor(n/3600))>=1?e="hour":(r=Math.floor(n/60))>=1?e="minute":(r=n,e="second"),(r>1||0===r)&&(e+="s"),r+" "+e};function d(t,e){var n=Math.abs(new Date(e)-new Date(t))/1e3,r=Math.floor(n/86400);n-=86400*r;var i=Math.floor(n/3600)%24;n-=3600*i;var o=Math.floor(n/60)%60;return n-=60*o,{days:r,hours:i,minutes:o,seconds:Math.floor(n%60)}}function p(t){var e={};["uid","displayName","photoURL","isPro","settings"].map((function(n){return e[n]=t[n]})),window.localStorage.setItem("lastUser",JSON.stringify(e))}function m(t,e){return new Function("code","\n  ".concat(t.code,"\n\n  return run(code);\n  "))(e)}function v(t){for(var e=function(t,e){return t.data.userId===e.data.userId&&t.data.levelId===e.data.levelId&&t.data.previousUserId===e.data.previousUserId},n=0;n<t.length-1;){for(var r=n;r+1<t.length&&e(t[n],t[r+1]);)t[n].data.previousUserCodeSize=t[r+1].data.previousUserCodeSize,r++;n!==r&&t.splice(n+1,r-n),n++}}function g(t){for(var e=function(t,e){return t.code.trim()===e.code.trim()},n=0;n<t.length-1;){for(var r=n+1;r<t.length;)e(t[n],t[r])?t.splice(r,1):r++;n++}}function y(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,e="abcdefghijklmnopqrstuvqxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n="",r=t;r--;)n+=e[~~(Math.random()*e.length)];return n}function b(t){var e=t.path,r=t.file;n(5120);var i=a.Z.storage().ref().child(e).put(r);return new Promise((function(t,n){i.on("state_changed",(function(t){}),(function(t){console.log(t),n()}),(function(){t("https://firebasestorage.googleapis.com/v0/b/cssbattleapp.appspot.com/o/".concat(encodeURIComponent(e),"?alt=media"))}))}))}function w(t){return t.length>6}function _(t,e){return"https://cssbattle.dev/api/adRedirect?url=".concat(encodeURIComponent(t),"&sponsorId=").concat(e)}function E(t,e){return Math.floor(Math.random()*(e-t+1))+t}function T(t){var e=t.score,n=t.codeSize,r=t.levelId,i=(t.levelName,["I am on ".concat(e," score with just ").concat(n," characters on Target ").concat(r,". Do you have what it takes to beat that? \ud83d\ude0e"),"Just scored ".concat(e," on Target ").concat(r,"! Join me in the best ever CSS game \u2694\ufe0f"),"I recreated Target ".concat(r," in just ").concat(n," bytes of CSS! Having fun in this crazy CSS game!"),"I just finished a challenge on Target ".concat(r," with ").concat(e," score! Who can do better?"),"Want to have fun with CSS while learning? Beat my score of ".concat(e," on Target ").concat(r," in CSSBattle! \ud83d\udd25"),"CSS art FTW! I created Target ".concat(r," on CSSBattle in just ").concat(n," characters!! \ud83e\udd29 Beat that!"),"Scored ".concat(e," points on Target ").concat(r," of CSSBattle - where CSS and fun meets! Who's up for a challenge?")]);return i[~~(Math.random()*i.length)]}function I(t){var e=t.url,n=t.text,r=t.hashTags;return"https://twitter.com/share?url=".concat(e,"&text=").concat(n,"&hashtags=").concat(r,"&via=css_battle&related=css_battle")}function S(t,e){var n,o=t||{},a=!1,s=null===(n=e.validationTags)||void 0===n?void 0:n.includes("css");if(s&&(a=!(null===t||void 0===t?void 0:t.score)||e.score>t.score)&&(o=(0,r.Z)({},o,e)),s||(a=!(null===t||void 0===t?void 0:t.nonCss)||e.score>t.nonCss.score)&&(o=(0,i.Z)((0,r.Z)({},o),{nonCss:e})),o.nonCss){var u=o.nonCss.score>(o.score||0);o.overall={score:u?o.nonCss.score:o.score,codeSize:u?o.nonCss.codeSize:o.codeSize}}return{newObj:o,isAHighScore:a}}},8396:function(t){t.exports={dialog:"CommandPalette_dialog__Uy7o1"}},7007:function(){},7175:function(){},9461:function(){},7102:function(){},1552:function(){},2351:function(t){!function(){var e={308:function(t){var e,n,r=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(t){if(e===setTimeout)return setTimeout(t,0);if((e===i||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(r){try{return e.call(null,t,0)}catch(r){return e.call(this,t,0)}}}!function(){try{e="function"===typeof setTimeout?setTimeout:i}catch(t){e=i}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(t){n=o}}();var s,u=[],c=!1,l=-1;function h(){c&&s&&(c=!1,s.length?u=s.concat(u):l=-1,u.length&&f())}function f(){if(!c){var t=a(h);c=!0;for(var e=u.length;e;){for(s=u,u=[];++l<e;)s&&s[l].run();l=-1,e=u.length}s=null,c=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}r.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new d(t,e)),1!==u.length||c||a(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(t){return[]},r.binding=function(t){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(t){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var o=n[t]={exports:{}},a=!0;try{e[t](o,o.exports,r),a=!1}finally{a&&delete n[t]}return o.exports}r.ab="//";var i=r(308);t.exports=i}()},7729:function(t,e,n){t.exports=n(5913)},5632:function(t,e,n){t.exports=n(3642)},8262:function(t,e,n){"use strict";var r=n(3586);function i(){}function o(){}o.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},3980:function(t,e,n){t.exports=n(8262)()},3586:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},6847:function(t,e,n){"use strict";function r(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==t&&void 0!==t&&this.setState(t)}function i(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!==n&&void 0!==n?n:null}.bind(this))}function o(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof t.getDerivedStateFromProps&&"function"!==typeof e.getSnapshotBeforeUpdate)return t;var n=null,a=null,s=null;if("function"===typeof e.componentWillMount?n="componentWillMount":"function"===typeof e.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof e.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof e.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof e.componentWillUpdate?s="componentWillUpdate":"function"===typeof e.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var u=t.displayName||t.name,c="function"===typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof t.getDerivedStateFromProps&&(e.componentWillMount=r,e.componentWillReceiveProps=i),"function"===typeof e.getSnapshotBeforeUpdate){if("function"!==typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=o;var l=e.componentDidUpdate;e.componentDidUpdate=function(t,e,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,t,e,r)}}return t}n.r(e),n.d(e,{polyfill:function(){return a}}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},9037:function(t,e,n){"use strict";n.d(e,{Z:function(){return M}});var r=n(5163),i=n(2784),o="right-scroll-bar-position",a="width-before-scroll-bar",s=n(2442),u=(0,n(4597)._)(),c=function(){},l=i.forwardRef((function(t,e){var n=i.useRef(null),o=i.useState({onScrollCapture:c,onWheelCapture:c,onTouchMoveCapture:c}),a=o[0],l=o[1],h=t.forwardProps,f=t.children,d=t.className,p=t.removeScrollBar,m=t.enabled,v=t.shards,g=t.sideCar,y=t.noIsolation,b=t.inert,w=t.allowPinchZoom,_=t.as,E=void 0===_?"div":_,T=(0,r._T)(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),I=g,S=(0,s.q)([n,e]),k=(0,r.pi)((0,r.pi)({},T),a);return i.createElement(i.Fragment,null,m&&i.createElement(I,{sideCar:u,removeScrollBar:p,shards:v,noIsolation:y,inert:b,setCallbacks:l,allowPinchZoom:!!w,lockRef:n}),h?i.cloneElement(i.Children.only(f),(0,r.pi)((0,r.pi)({},k),{ref:S})):i.createElement(E,(0,r.pi)({},k,{className:d,ref:S}),f))}));l.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},l.classNames={fullWidth:a,zeroRight:o};var h,f=function(t){var e=t.sideCar,n=(0,r._T)(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var o=e.read();if(!o)throw new Error("Sidecar medium not found");return i.createElement(o,(0,r.pi)({},n))};f.isSideCarExport=!0;function d(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=h||n.nc;return e&&t.setAttribute("nonce",e),t}var p=function(){var t=0,e=null;return{add:function(n){var r,i;0==t&&(e=d())&&(i=n,(r=e).styleSheet?r.styleSheet.cssText=i:r.appendChild(document.createTextNode(i)),function(t){(document.head||document.getElementsByTagName("head")[0]).appendChild(t)}(e)),t++},remove:function(){!--t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},m=function(){var t=function(){var t=p();return function(e,n){i.useEffect((function(){return t.add(e),function(){t.remove()}}),[e&&n])}}();return function(e){var n=e.styles,r=e.dynamic;return t(n,r),null}},v={left:0,top:0,right:0,gap:0},g=function(t){return parseInt(t||"",10)||0},y=function(t){if(void 0===t&&(t="margin"),"undefined"===typeof window)return v;var e=function(t){var e=window.getComputedStyle(document.body),n=e["padding"===t?"paddingLeft":"marginLeft"],r=e["padding"===t?"paddingTop":"marginTop"],i=e["padding"===t?"paddingRight":"marginRight"];return[g(n),g(r),g(i)]}(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},b=m(),w=function(t,e,n,r){var i=t.left,s=t.top,u=t.right,c=t.gap;return void 0===n&&(n="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(r,";\n   padding-right: ").concat(c,"px ").concat(r,";\n  }\n  body {\n    overflow: hidden ").concat(r,";\n    overscroll-behavior: contain;\n    ").concat([e&&"position: relative ".concat(r,";"),"margin"===n&&"\n    padding-left: ".concat(i,"px;\n    padding-top: ").concat(s,"px;\n    padding-right: ").concat(u,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(c,"px ").concat(r,";\n    "),"padding"===n&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(o," {\n    right: ").concat(c,"px ").concat(r,";\n  }\n  \n  .").concat(a," {\n    margin-right: ").concat(c,"px ").concat(r,";\n  }\n  \n  .").concat(o," .").concat(o," {\n    right: 0 ").concat(r,";\n  }\n  \n  .").concat(a," .").concat(a," {\n    margin-right: 0 ").concat(r,";\n  }\n  \n  body {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(c,"px;\n  }\n")},_=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,o=void 0===r?"margin":r,a=i.useMemo((function(){return y(o)}),[o]);return i.createElement(b,{styles:w(a,!e,o,n?"":"!important")})},E=!1;if("undefined"!==typeof window)try{var T=Object.defineProperty({},"passive",{get:function(){return E=!0,!0}});window.addEventListener("test",T,T),window.removeEventListener("test",T,T)}catch(j){E=!1}var I=!!E&&{passive:!1},S=function(t,e){var n=window.getComputedStyle(t);return"hidden"!==n[e]&&!(n.overflowY===n.overflowX&&!function(t){return"TEXTAREA"===t.tagName}(t)&&"visible"===n[e])},k=function(t,e){var n=e;do{if("undefined"!==typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),C(t,n)){var r=A(t,n);if(r[1]>r[2])return!0}n=n.parentNode}while(n&&n!==document.body);return!1},C=function(t,e){return"v"===t?function(t){return S(t,"overflowY")}(e):function(t){return S(t,"overflowX")}(e)},A=function(t,e){return"v"===t?[(n=e).scrollTop,n.scrollHeight,n.clientHeight]:function(t){return[t.scrollLeft,t.scrollWidth,t.clientWidth]}(e);var n},x=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},O=function(t){return[t.deltaX,t.deltaY]},N=function(t){return t&&"current"in t?t.current:t},D=function(t){return"\n  .block-interactivity-".concat(t," {pointer-events: none;}\n  .allow-interactivity-").concat(t," {pointer-events: all;}\n")},R=0,P=[];var L=function(t,e){return t.useMedium(e),f}(u,(function(t){var e=i.useRef([]),n=i.useRef([0,0]),o=i.useRef(),a=i.useState(R++)[0],s=i.useState((function(){return m()}))[0],u=i.useRef(t);i.useEffect((function(){u.current=t}),[t]),i.useEffect((function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var e=(0,r.ev)([t.lockRef.current],(t.shards||[]).map(N),!0).filter(Boolean);return e.forEach((function(t){return t.classList.add("allow-interactivity-".concat(a))})),function(){document.body.classList.remove("block-interactivity-".concat(a)),e.forEach((function(t){return t.classList.remove("allow-interactivity-".concat(a))}))}}}),[t.inert,t.lockRef.current,t.shards]);var c=i.useCallback((function(t,e){if("touches"in t&&2===t.touches.length)return!u.current.allowPinchZoom;var r,i=x(t),a=n.current,s="deltaX"in t?t.deltaX:a[0]-i[0],c="deltaY"in t?t.deltaY:a[1]-i[1],l=t.target,h=Math.abs(s)>Math.abs(c)?"h":"v";if("touches"in t&&"h"===h&&"range"===l.type)return!1;var f=k(h,l);if(!f)return!0;if(f?r=h:(r="v"===h?"h":"v",f=k(h,l)),!f)return!1;if(!o.current&&"changedTouches"in t&&(s||c)&&(o.current=r),!r)return!0;var d=o.current||r;return function(t,e,n,r,i){var o=function(t,e){return"h"===t&&"rtl"===e?-1:1}(t,window.getComputedStyle(e).direction),a=o*r,s=n.target,u=e.contains(s),c=!1,l=a>0,h=0,f=0;do{var d=A(t,s),p=d[0],m=d[1]-d[2]-o*p;(p||m)&&C(t,s)&&(h+=m,f+=p),s=s.parentNode}while(!u&&s!==document.body||u&&(e.contains(s)||e===s));return(l&&(i&&0===h||!i&&a>h)||!l&&(i&&0===f||!i&&-a>f))&&(c=!0),c}(d,e,t,"h"===d?s:c,!0)}),[]),l=i.useCallback((function(t){var n=t;if(P.length&&P[P.length-1]===s){var r="deltaY"in n?O(n):x(n),i=e.current.filter((function(t){return t.name===n.type&&t.target===n.target&&(e=t.delta,i=r,e[0]===i[0]&&e[1]===i[1]);var e,i}))[0];if(i&&i.should)n.cancelable&&n.preventDefault();else if(!i){var o=(u.current.shards||[]).map(N).filter(Boolean).filter((function(t){return t.contains(n.target)}));(o.length>0?c(n,o[0]):!u.current.noIsolation)&&n.cancelable&&n.preventDefault()}}}),[]),h=i.useCallback((function(t,n,r,i){var o={name:t,delta:n,target:r,should:i};e.current.push(o),setTimeout((function(){e.current=e.current.filter((function(t){return t!==o}))}),1)}),[]),f=i.useCallback((function(t){n.current=x(t),o.current=void 0}),[]),d=i.useCallback((function(e){h(e.type,O(e),e.target,c(e,t.lockRef.current))}),[]),p=i.useCallback((function(e){h(e.type,x(e),e.target,c(e,t.lockRef.current))}),[]);i.useEffect((function(){return P.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:p}),document.addEventListener("wheel",l,I),document.addEventListener("touchmove",l,I),document.addEventListener("touchstart",f,I),function(){P=P.filter((function(t){return t!==s})),document.removeEventListener("wheel",l,I),document.removeEventListener("touchmove",l,I),document.removeEventListener("touchstart",f,I)}}),[]);var v=t.removeScrollBar,g=t.inert;return i.createElement(i.Fragment,null,g?i.createElement(s,{styles:D(a)}):null,v?i.createElement(_,{gapMode:"margin"}):null)})),F=i.forwardRef((function(t,e){return i.createElement(l,(0,r.pi)({},t,{ref:e,sideCar:L}))}));F.classNames=l.classNames;var M=F},7838:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=o(n(2784)),i=o(n(3980));function o(t){return t&&t.__esModule?t:{default:t}}function a(t){var e=t.closeToast,n=t.type,i=t.ariaLabel;return r.default.createElement("button",{className:"Toastify__close-button Toastify__close-button--"+n,type:"button",onClick:e,"aria-label":i},"\u2716")}a.propTypes={closeToast:i.default.func,arialLabel:i.default.string},a.defaultProps={ariaLabel:"close"};var s=a;e.default=s},4057:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=u(n(2784)),i=u(n(3980)),o=u(n(2779)),a=n(9148),s=n(9543);function u(t){return t&&t.__esModule?t:{default:t}}function c(){return c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c.apply(this,arguments)}function l(t){var e,n=t.delay,i=t.isRunning,a=t.closeToast,s=t.type,u=t.hide,l=t.className,h=t.style,f=t.controlledProgress,d=t.progress,p=t.isProgressDone,m=t.rtl,v=c({},h,{animationDuration:n+"ms",animationPlayState:i?"running":"paused",opacity:u?0:1,transform:f?"scaleX("+d+")":null}),g=(0,o.default)("Toastify__progress-bar",f?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar--"+s,{"Toastify__progress-bar--rtl":m},l),y=((e={})[f&&p?"onTransitionEnd":"onAnimationEnd"]=f&&!p?null:a,e);return r.default.createElement("div",c({className:g,style:v},y))}l.propTypes={delay:s.falseOrDelay.isRequired,isRunning:i.default.bool.isRequired,closeToast:i.default.func.isRequired,rtl:i.default.bool.isRequired,type:i.default.string,hide:i.default.bool,className:i.default.oneOfType([i.default.string,i.default.object]),progress:i.default.number,controlledProgress:i.default.bool,isProgressDone:i.default.bool},l.defaultProps={type:a.TYPE.DEFAULT,hide:!1};var h=l;e.default=h},7513:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(2784)),i=c(n(3980)),o=c(n(2779)),a=c(n(4057)),s=n(9148),u=n(9543);function c(t){return t&&t.__esModule?t:{default:t}}function l(){return l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l.apply(this,arguments)}function h(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientX:t.clientX}function f(t){return t.targetTouches&&t.targetTouches.length>=1?t.targetTouches[0].clientY:t.clientY}var d=function(){},p=function(t){var e,n;function i(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={isRunning:!0,preventExitTransition:!1},e.flag={canCloseOnClick:!0,canDrag:!1},e.drag={start:0,x:0,y:0,deltaX:0,removalDistance:0},e.ref=null,e.pauseToast=function(){e.props.autoClose&&e.setState({isRunning:!1})},e.playToast=function(){e.props.autoClose&&e.setState({isRunning:!0})},e.onDragStart=function(t){e.flag.canCloseOnClick=!0,e.flag.canDrag=!0,e.ref.style.transition="",e.drag.start=e.drag.x=h(t.nativeEvent),e.drag.removalDistance=e.ref.offsetWidth*(e.props.draggablePercent/100)},e.onDragMove=function(t){e.flag.canDrag&&(e.state.isRunning&&e.pauseToast(),e.drag.x=h(t),e.drag.deltaX=e.drag.x-e.drag.start,e.drag.start!==e.drag.x&&(e.flag.canCloseOnClick=!1),e.ref.style.transform="translateX("+e.drag.deltaX+"px)",e.ref.style.opacity=1-Math.abs(e.drag.deltaX/e.drag.removalDistance))},e.onDragEnd=function(t){if(e.flag.canDrag){if(e.flag.canDrag=!1,Math.abs(e.drag.deltaX)>e.drag.removalDistance)return void e.setState({preventExitTransition:!0},e.props.closeToast);e.drag.y=f(t),e.ref.style.transition="transform 0.2s, opacity 0.2s",e.ref.style.transform="translateX(0)",e.ref.style.opacity=1}},e.onDragTransitionEnd=function(){var t=e.ref.getBoundingClientRect(),n=t.top,r=t.bottom,i=t.left,o=t.right;e.props.pauseOnHover&&e.drag.x>=i&&e.drag.x<=o&&e.drag.y>=n&&e.drag.y<=r?e.pauseToast():e.playToast()},e}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var s=i.prototype;return s.componentDidMount=function(){this.props.onOpen(this.props.children.props),this.props.draggable&&this.bindDragEvents(),this.props.pauseOnFocusLoss&&this.bindFocusEvents()},s.componentDidUpdate=function(t){t.draggable!==this.props.draggable&&(this.props.draggable?this.bindDragEvents():this.unbindDragEvents()),t.pauseOnFocusLoss!==this.props.pauseOnFocusLoss&&(this.props.pauseOnFocusLoss?this.bindFocusEvents():this.unbindFocusEvents())},s.componentWillUnmount=function(){this.props.onClose(this.props.children.props),this.props.draggable&&this.unbindDragEvents(),this.props.pauseOnFocusLoss&&this.unbindFocusEvents()},s.bindFocusEvents=function(){window.addEventListener("focus",this.playToast),window.addEventListener("blur",this.pauseToast)},s.unbindFocusEvents=function(){window.removeEventListener("focus",this.playToast),window.removeEventListener("blur",this.pauseToast)},s.bindDragEvents=function(){document.addEventListener("mousemove",this.onDragMove),document.addEventListener("mouseup",this.onDragEnd),document.addEventListener("touchmove",this.onDragMove),document.addEventListener("touchend",this.onDragEnd)},s.unbindDragEvents=function(){document.removeEventListener("mousemove",this.onDragMove),document.removeEventListener("mouseup",this.onDragEnd),document.removeEventListener("touchmove",this.onDragMove),document.removeEventListener("touchend",this.onDragEnd)},s.render=function(){var t=this,e=this.props,n=e.closeButton,i=e.children,s=e.autoClose,u=e.pauseOnHover,c=e.closeOnClick,h=e.type,f=e.hideProgressBar,d=e.closeToast,p=e.transition,m=e.position,v=e.onExited,g=e.className,y=e.bodyClassName,b=e.progressClassName,w=e.progressStyle,_=e.updateId,E=e.role,T=e.progress,I=e.isProgressDone,S=e.rtl,k={className:(0,o.default)("Toastify__toast","Toastify__toast--"+h,{"Toastify__toast--rtl":S},g)};s&&u&&(k.onMouseEnter=this.pauseToast,k.onMouseLeave=this.playToast),c&&(k.onClick=function(){return t.flag.canCloseOnClick&&d()});var C=parseFloat(T)===T;return r.default.createElement(p,{in:this.props.in,appear:!0,unmountOnExit:!0,onExited:v,position:m,preventExitTransition:this.state.preventExitTransition},r.default.createElement("div",l({},k,{ref:function(e){return t.ref=e},onMouseDown:this.onDragStart,onTouchStart:this.onDragStart,onTransitionEnd:this.onDragTransitionEnd}),r.default.createElement("div",l({},this.props.in&&{role:E},{className:(0,o.default)("Toastify__toast-body",y)}),i),n&&n,(s||C)&&r.default.createElement(a.default,l({},_&&!C?{key:"pb-"+_}:{},{rtl:S,delay:s,isRunning:this.state.isRunning,closeToast:d,hide:f,type:h,style:w,className:b,controlledProgress:C,isProgressDone:I,progress:T}))))},i}(r.Component);p.propTypes={closeButton:u.falseOrElement.isRequired,autoClose:u.falseOrDelay.isRequired,children:i.default.node.isRequired,closeToast:i.default.func.isRequired,position:i.default.oneOf((0,u.objectValues)(s.POSITION)).isRequired,pauseOnHover:i.default.bool.isRequired,pauseOnFocusLoss:i.default.bool.isRequired,closeOnClick:i.default.bool.isRequired,transition:i.default.func.isRequired,rtl:i.default.bool.isRequired,hideProgressBar:i.default.bool.isRequired,draggable:i.default.bool.isRequired,draggablePercent:i.default.number.isRequired,in:i.default.bool,onExited:i.default.func,onOpen:i.default.func,onClose:i.default.func,type:i.default.oneOf((0,u.objectValues)(s.TYPE)),className:i.default.oneOfType([i.default.string,i.default.object]),bodyClassName:i.default.oneOfType([i.default.string,i.default.object]),progressClassName:i.default.oneOfType([i.default.string,i.default.object]),progressStyle:i.default.object,progress:i.default.number,isProgressDone:i.default.bool,updateId:i.default.oneOfType([i.default.string,i.default.number]),ariaLabel:i.default.string},p.defaultProps={type:s.TYPE.DEFAULT,in:!0,onOpen:d,onClose:d,className:null,bodyClassName:null,progressClassName:null,updateId:null,role:"alert"};var m=p;e.default=m},7013:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(2784)),i=d(n(3980)),o=d(n(2779)),a=d(n(996)),s=d(n(7513)),u=d(n(7838)),c=n(2161),l=n(9148),h=d(n(6788)),f=n(9543);function d(t){return t&&t.__esModule?t:{default:t}}function p(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function m(){return m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m.apply(this,arguments)}var v=function(t){var e,n;function i(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).state={toast:[]},e.toastKey=1,e.collection={},e.isToastActive=function(t){return-1!==e.state.toast.indexOf(t)},e}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var u=i.prototype;return u.componentDidMount=function(){var t=this;h.default.on(l.ACTION.SHOW,(function(e,n){return t.show(e,n)})).on(l.ACTION.CLEAR,(function(e){return e?t.removeToast(e):t.clear()})).emit(l.ACTION.DID_MOUNT,this)},u.componentWillUnmount=function(){h.default.off(l.ACTION.SHOW).off(l.ACTION.CLEAR).emit(l.ACTION.WILL_UNMOUNT)},u.removeToast=function(t){this.setState({toast:this.state.toast.filter((function(e){return e!==t}))},this.dispatchChange)},u.dispatchChange=function(){h.default.emit(l.ACTION.ON_CHANGE,this.state.toast.length)},u.makeCloseButton=function(t,e,n){var i=this,o=this.props.closeButton;return((0,r.isValidElement)(t)||!1===t)&&(o=t),!1!==o&&(0,r.cloneElement)(o,{closeToast:function(){return i.removeToast(e)},type:n})},u.getAutoCloseDelay=function(t){return!1===t||(0,f.isValidDelay)(t)?t:this.props.autoClose},u.canBeRendered=function(t){return(0,r.isValidElement)(t)||"string"===typeof t||"number"===typeof t||"function"===typeof t},u.parseClassName=function(t){return"string"===typeof t?t:null!==t&&"object"===typeof t&&"toString"in t?t.toString():null},u.show=function(t,e){var n,i=this;if(!this.canBeRendered(t))throw new Error("The element you provided cannot be rendered. You provided an element of type "+typeof t);var o=e.toastId,a=function(){return i.removeToast(o)},s={id:o,key:e.key||this.toastKey++,type:e.type,closeToast:a,updateId:e.updateId,rtl:this.props.rtl,position:e.position||this.props.position,transition:e.transition||this.props.transition,className:this.parseClassName(e.className||this.props.toastClassName),bodyClassName:this.parseClassName(e.bodyClassName||this.props.bodyClassName),closeButton:this.makeCloseButton(e.closeButton,o,e.type),pauseOnHover:"boolean"===typeof e.pauseOnHover?e.pauseOnHover:this.props.pauseOnHover,pauseOnFocusLoss:"boolean"===typeof e.pauseOnFocusLoss?e.pauseOnFocusLoss:this.props.pauseOnFocusLoss,draggable:"boolean"===typeof e.draggable?e.draggable:this.props.draggable,draggablePercent:"number"!==typeof e.draggablePercent||isNaN(e.draggablePercent)?this.props.draggablePercent:e.draggablePercent,closeOnClick:"boolean"===typeof e.closeOnClick?e.closeOnClick:this.props.closeOnClick,progressClassName:this.parseClassName(e.progressClassName||this.props.progressClassName),progressStyle:this.props.progressStyle,autoClose:this.getAutoCloseDelay(e.autoClose),hideProgressBar:"boolean"===typeof e.hideProgressBar?e.hideProgressBar:this.props.hideProgressBar,progress:parseFloat(e.progress),isProgressDone:e.isProgressDone};"function"===typeof e.onOpen&&(s.onOpen=e.onOpen),"function"===typeof e.onClose&&(s.onClose=e.onClose),(0,r.isValidElement)(t)&&"string"!==typeof t.type&&"number"!==typeof t.type?t=(0,r.cloneElement)(t,{closeToast:a}):"function"===typeof t&&(t=t({closeToast:a})),this.collection=m({},this.collection,((n={})[o]={position:s.position,options:s,content:t},n)),this.setState({toast:(s.updateId?p(this.state.toast):p(this.state.toast).concat([o])).filter((function(t){return t!==e.staleToastId}))},this.dispatchChange)},u.makeToast=function(t,e){return r.default.createElement(s.default,m({},e,{isDocumentHidden:this.state.isDocumentHidden,key:"toast-"+e.key}),t)},u.clear=function(){this.setState({toast:[]})},u.renderToast=function(){var t=this,e={},n=this.props,i=n.className,s=n.style;return(n.newestOnTop?Object.keys(this.collection).reverse():Object.keys(this.collection)).forEach((function(n){var r=t.collection[n],i=r.position,o=r.options,a=r.content;e[i]||(e[i]=[]),-1!==t.state.toast.indexOf(o.id)?e[i].push(t.makeToast(a,o)):(e[i].push(null),delete t.collection[n])})),Object.keys(e).map((function(n){var u=1===e[n].length&&null===e[n][0],c={className:(0,o.default)("Toastify__toast-container","Toastify__toast-container--"+n,{"Toastify__toast-container--rtl":t.props.rtl},t.parseClassName(i)),style:u?m({},s,{pointerEvents:"none"}):m({},s)};return r.default.createElement(a.default,m({},c,{key:"container-"+n}),e[n])}))},u.render=function(){return r.default.createElement("div",{className:"Toastify"},this.renderToast())},i}(r.Component);v.propTypes={position:i.default.oneOf((0,f.objectValues)(l.POSITION)),autoClose:f.falseOrDelay,closeButton:f.falseOrElement,hideProgressBar:i.default.bool,pauseOnHover:i.default.bool,closeOnClick:i.default.bool,newestOnTop:i.default.bool,className:i.default.oneOfType([i.default.string,i.default.object]),style:i.default.object,toastClassName:i.default.oneOfType([i.default.string,i.default.object]),bodyClassName:i.default.oneOfType([i.default.string,i.default.object]),progressClassName:i.default.oneOfType([i.default.string,i.default.object]),progressStyle:i.default.object,transition:i.default.func,rtl:i.default.bool,draggable:i.default.bool,draggablePercent:i.default.number,pauseOnFocusLoss:i.default.bool},v.defaultProps={position:l.POSITION.TOP_RIGHT,transition:c.Bounce,rtl:!1,autoClose:5e3,hideProgressBar:!1,closeButton:r.default.createElement(u.default,null),pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,newestOnTop:!1,draggable:!0,draggablePercent:80,className:null,style:null,toastClassName:null,bodyClassName:null,progressClassName:null,progressStyle:null};var g=v;e.default=g},2161:function(t,e,n){"use strict";e.__esModule=!0,e.Flip=e.Zoom=e.Slide=e.Bounce=void 0;var r,i=(r=n(9817))&&r.__esModule?r:{default:r};var o=(0,i.default)({enter:"Toastify__bounce-enter",exit:"Toastify__bounce-exit",appendPosition:!0});e.Bounce=o;var a=(0,i.default)({enter:"Toastify__slide-enter",exit:"Toastify__slide-exit",duration:[450,750],appendPosition:!0});e.Slide=a;var s=(0,i.default)({enter:"Toastify__zoom-enter",exit:"Toastify__zoom-exit"});e.Zoom=s;var u=(0,i.default)({enter:"Toastify__flip-enter",exit:"Toastify__flip-exit"});e.Flip=u},137:function(t,e,n){"use strict";var r=s(n(7013));e.Ix=r.default;var i=n(2161);i.Bounce,i.Slide,i.Zoom,i.Flip;var o=n(9148);o.POSITION,o.TYPE;var a=s(n(2340));function s(t){return t&&t.__esModule?t:{default:t}}e.Am=a.default,s(n(9817)).default},2340:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r,i=(r=n(6788))&&r.__esModule?r:{default:r},o=n(9148);function a(){return a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a.apply(this,arguments)}var s=null,u=[],c=function(){return!1};function l(t,e){return a({},t,{type:e,toastId:f(t)})}function h(){return(Math.random().toString(36)+Date.now().toString(36)).substr(2,10)}function f(t){return t&&("string"===typeof t.toastId||"number"===typeof t.toastId&&!isNaN(t.toastId))?t.toastId:h()}function d(t,e){return null!==s?i.default.emit(o.ACTION.SHOW,t,e):u.push({action:o.ACTION.SHOW,content:t,options:e}),e.toastId}var p=a((function(t,e){return d(t,l(e,e&&e.type||o.TYPE.DEFAULT))}),{success:function(t,e){return d(t,l(e,o.TYPE.SUCCESS))},info:function(t,e){return d(t,l(e,o.TYPE.INFO))},warn:function(t,e){return d(t,l(e,o.TYPE.WARNING))},warning:function(t,e){return d(t,l(e,o.TYPE.WARNING))},error:function(t,e){return d(t,l(e,o.TYPE.ERROR))},dismiss:function(t){return void 0===t&&(t=null),s&&i.default.emit(o.ACTION.CLEAR,t)},isActive:c,update:function(t,e){setTimeout((function(){if(s&&"undefined"!==typeof s.collection[t]){var n=s.collection[t],r=n.options,i=n.content,o=a({},r,e,{toastId:e.toastId||t});e.toastId&&e.toastId!==t?o.staleToastId=t:o.updateId=h();var u="undefined"!==typeof o.render?o.render:i;delete o.render,d(u,o)}}),0)},done:function(t,e){void 0===e&&(e=1),p.update(t,{progress:e,isProgressDone:!0})},onChange:function(t){"function"===typeof t&&i.default.on(o.ACTION.ON_CHANGE,t)},POSITION:o.POSITION,TYPE:o.TYPE});i.default.on(o.ACTION.DID_MOUNT,(function(t){s=t,p.isActive=function(t){return s.isToastActive(t)},u.forEach((function(t){i.default.emit(t.action,t.content,t.options)})),u=[]})).on(o.ACTION.WILL_UNMOUNT,(function(){s=null,p.isActive=c}));var m=p;e.default=m},9148:function(t,e){"use strict";e.__esModule=!0,e.ACTION=e.TYPE=e.POSITION=void 0;e.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"};e.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"};e.ACTION={SHOW:0,CLEAR:1,DID_MOUNT:2,WILL_UNMOUNT:3,ON_CHANGE:4}},9817:function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t){var e=t.enter,n=t.exit,o=t.duration,u=void 0===o?750:o,c=t.appendPosition,l=void 0!==c&&c;return function(t){var o,c,h=t.children,f=t.position,d=t.preventExitTransition,p=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["children","position","preventExitTransition"]),m=l?e+"--"+f:e,v=l?n+"--"+f:n;Array.isArray(u)&&2===u.length?(o=u[0],c=u[1]):o=c=u;return r.default.createElement(i.default,a({},p,{timeout:d?0:{enter:o,exit:c},onEnter:function(t){t.classList.add(m),t.style.animationFillMode="forwards",t.style.animationDuration=.001*o+"s"},onEntered:function(t){t.classList.remove(m),t.style.cssText=""},onExit:d?s:function(t){t.classList.add(v),t.style.animationFillMode="forwards",t.style.animationDuration=.001*c+"s"}}),h)}};var r=o(n(2784)),i=o(n(5268));function o(t){return t&&t.__esModule?t:{default:t}}function a(){return a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a.apply(this,arguments)}var s=function(){}},6788:function(t,e){"use strict";e.__esModule=!0,e.default=void 0;var n={list:new Map,on:function(t,e){return this.list.has(t)||this.list.set(t,[]),this.list.get(t).push(e),this},off:function(t){return this.list.delete(t),this},emit:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return!!this.list.has(t)&&(this.list.get(t).forEach((function(t){return setTimeout((function(){return t.call.apply(t,[null].concat(n))}),0)})),!0)}},r=n;e.default=r},9543:function(t,e,n){"use strict";e.__esModule=!0,e.isValidDelay=i,e.objectValues=function(t){return Object.keys(t).map((function(e){return t[e]}))},e.falseOrElement=e.falseOrDelay=void 0;var r=n(2784);function i(t){return"number"===typeof t&&!isNaN(t)&&t>0}function o(t){return t.isRequired=function(e,n,r){if("undefined"===typeof e[n])return new Error("The prop "+n+" is marked as required in \n      "+r+", but its value is undefined.");t(e,n,r)},t}var a=o((function(t,e,n){var r=t[e];return!1===r||i(r)?null:new Error(n+" expect "+e+" \n      to be a valid Number > 0 or equal to false. "+r+" given.")}));e.falseOrDelay=a;var s=o((function(t,e,n){var i=t[e];return!1===i||(0,r.isValidElement)(i)?null:new Error(n+" expect "+e+" \n      to be a valid react element or equal to false. "+i+" given.")}));e.falseOrElement=s},5268:function(t,e,n){"use strict";e.__esModule=!0,e.default=e.EXITING=e.ENTERED=e.ENTERING=e.EXITED=e.UNMOUNTED=void 0;var r=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};r.get||r.set?Object.defineProperty(e,n,r):e[n]=t[n]}return e.default=t,e}(n(3980)),i=s(n(2784)),o=s(n(8316)),a=n(6847);n(6530);function s(t){return t&&t.__esModule?t:{default:t}}var u="unmounted";e.UNMOUNTED=u;var c="exited";e.EXITED=c;var l="entering";e.ENTERING=l;var h="entered";e.ENTERED=h;var f="exiting";e.EXITING=f;var d=function(t){var e,n;function r(e,n){var r;r=t.call(this,e,n)||this;var i,o=n.transitionGroup,a=o&&!o.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?a?(i=c,r.appearStatus=l):i=h:i=e.unmountOnExit||e.mountOnEnter?u:c,r.state={status:i},r.nextCallback=null,r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=r.prototype;return a.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(t,e){return t.in&&e.status===u?{status:c}:null},a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==l&&n!==h&&(e=l):n!==l&&n!==h||(e=f)}this.updateStatus(!1,e)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var t,e,n,r=this.props.timeout;return t=e=n=r,null!=r&&"number"!==typeof r&&(t=r.exit,e=r.enter,n=void 0!==r.appear?r.appear:e),{exit:t,enter:e,appear:n}},a.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e){this.cancelNextCallback();var n=o.default.findDOMNode(this);e===l?this.performEnter(n,t):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===c&&this.setState({status:u})},a.performEnter=function(t,e){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:e,o=this.getTimeouts(),a=i?o.appear:o.enter;e||r?(this.props.onEnter(t,i),this.safeSetState({status:l},(function(){n.props.onEntering(t,i),n.onTransitionEnd(t,a,(function(){n.safeSetState({status:h},(function(){n.props.onEntered(t,i)}))}))}))):this.safeSetState({status:h},(function(){n.props.onEntered(t)}))},a.performExit=function(t){var e=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(t),this.safeSetState({status:f},(function(){e.props.onExiting(t),e.onTransitionEnd(t,r.exit,(function(){e.safeSetState({status:c},(function(){e.props.onExited(t)}))}))}))):this.safeSetState({status:c},(function(){e.props.onExited(t)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},a.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,e.nextCallback=null,t(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(t,e,n){this.setNextCallback(n);var r=null==e&&!this.props.addEndListener;t&&!r?(this.props.addEndListener&&this.props.addEndListener(t,this.nextCallback),null!=e&&setTimeout(this.nextCallback,e)):setTimeout(this.nextCallback,0)},a.render=function(){var t=this.state.status;if(t===u)return null;var e=this.props,n=e.children,r=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(e,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"===typeof n)return n(t,r);var o=i.default.Children.only(n);return i.default.cloneElement(o,r)},r}(i.default.Component);function p(){}d.contextTypes={transitionGroup:r.object},d.childContextTypes={transitionGroup:function(){}},d.propTypes={},d.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:p,onEntering:p,onEntered:p,onExit:p,onExiting:p,onExited:p},d.UNMOUNTED=0,d.EXITED=1,d.ENTERING=2,d.ENTERED=3,d.EXITING=4;var m=(0,a.polyfill)(d);e.default=m},996:function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=s(n(3980)),i=s(n(2784)),o=n(6847),a=n(8768);function s(t){return t&&t.__esModule?t:{default:t}}function u(){return u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u.apply(this,arguments)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var l=Object.values||function(t){return Object.keys(t).map((function(e){return t[e]}))},h=function(t){var e,n;function r(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(c(c(r)));return r.state={handleExited:i,firstRender:!0},r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},o.componentDidMount=function(){this.appeared=!0,this.mounted=!0},o.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(t,e){var n=e.children,r=e.handleExited;return{children:e.firstRender?(0,a.getInitialChildMapping)(t,r):(0,a.getNextChildMapping)(t,n,r),firstRender:!1}},o.handleExited=function(t,e){var n=(0,a.getChildMapping)(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState((function(e){var n=u({},e.children);return delete n[t.key],{children:n}})))},o.render=function(){var t=this.props,e=t.component,n=t.childFactory,r=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["component","childFactory"]),o=l(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===e?o:i.default.createElement(e,r,o)},r}(i.default.Component);h.childContextTypes={transitionGroup:r.default.object.isRequired},h.propTypes={},h.defaultProps={component:"div",childFactory:function(t){return t}};var f=(0,o.polyfill)(h);e.default=f,t.exports=e.default},8768:function(t,e,n){"use strict";e.__esModule=!0,e.getChildMapping=i,e.mergeChildMappings=o,e.getInitialChildMapping=function(t,e){return i(t.children,(function(n){return(0,r.cloneElement)(n,{onExited:e.bind(null,n),in:!0,appear:a(n,"appear",t),enter:a(n,"enter",t),exit:a(n,"exit",t)})}))},e.getNextChildMapping=function(t,e,n){var s=i(t.children),u=o(e,s);return Object.keys(u).forEach((function(i){var o=u[i];if((0,r.isValidElement)(o)){var c=i in e,l=i in s,h=e[i],f=(0,r.isValidElement)(h)&&!h.props.in;!l||c&&!f?l||!c||f?l&&c&&(0,r.isValidElement)(h)&&(u[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:h.props.in,exit:a(o,"exit",t),enter:a(o,"enter",t)})):u[i]=(0,r.cloneElement)(o,{in:!1}):u[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:a(o,"exit",t),enter:a(o,"enter",t)})}})),u};var r=n(2784);function i(t,e){var n=Object.create(null);return t&&r.Children.map(t,(function(t){return t})).forEach((function(t){n[t.key]=function(t){return e&&(0,r.isValidElement)(t)?e(t):t}(t)})),n}function o(t,e){function n(n){return n in e?e[n]:t[n]}t=t||{},e=e||{};var r,i=Object.create(null),o=[];for(var a in t)a in e?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var u in e){if(i[u])for(r=0;r<i[u].length;r++){var c=i[u][r];s[i[u][r]]=n(c)}s[u]=n(u)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}function a(t,e,n){return null!=n[e]?n[e]:t.props[e]}},6530:function(t,e,n){"use strict";e.__esModule=!0,e.classNamesShape=e.timeoutsShape=void 0;var r;(r=n(3980))&&r.__esModule;e.timeoutsShape=null;e.classNamesShape=null},5163:function(t,e,n){"use strict";n.d(e,{CR:function(){return l},Jh:function(){return u},XA:function(){return c},ZT:function(){return i},_T:function(){return a},ev:function(){return h},mG:function(){return s},pi:function(){return o}});var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},r(t,e)};function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t},o.apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function s(t,e,n,r){return new(n||(n=Promise))((function(i,o){function a(t){try{u(r.next(t))}catch(e){o(e)}}function s(t){try{u(r.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,s)}u((r=r.apply(t,e||[])).next())}))}function u(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function c(t){var e="function"===typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"===typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function l(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function h(t,e,n){if(n||2===arguments.length)for(var r,i=0,o=e.length;i<o;i++)!r&&i in e||(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}Object.create},2442:function(t,e,n){"use strict";n.d(e,{q:function(){return i}});var r=n(2784);function i(t,e){return function(t,e){var n=(0,r.useState)((function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(t){var e=n.value;e!==t&&(n.value=t,n.callback(t,e))}}}}))[0];return n.callback=e,n.facade}(e||null,(function(e){return t.forEach((function(t){return function(t,e){return"function"===typeof t?t(e):t&&(t.current=e),t}(t,e)}))}))}},4597:function(t,e,n){"use strict";n.d(e,{_:function(){return s},s:function(){return a}});var r=n(5163);function i(t){return t}function o(t,e){void 0===e&&(e=i);var n=[],r=!1;return{read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(t){var i=e(t,r);return n.push(i),function(){n=n.filter((function(t){return t!==i}))}},assignSyncMedium:function(t){for(r=!0;n.length;){var e=n;n=[],e.forEach(t)}n={push:function(e){return t(e)},filter:function(){return n}}},assignMedium:function(t){r=!0;var e=[];if(n.length){var i=n;n=[],i.forEach(t),e=n}var o=function(){var n=e;e=[],n.forEach(t)},a=function(){return Promise.resolve().then(o)};a(),n={push:function(t){e.push(t),a()},filter:function(t){return e=e.filter(t),n}}}}}function a(t,e){return void 0===e&&(e=i),o(t,e)}function s(t){void 0===t&&(t={});var e=o(null);return e.options=(0,r.pi)({async:!0,ssr:!1},t),e}},7500:function(t){const e={BIG_BATTLE:"big",MINI_BATTLE:"mini"},n={UPCOMING:"upComing",ONGOING:"onGoing",FINISHED:"finished"},r=[{id:1,slug:"pilot-battle",name:"Pilot Battle",type:e.BIG_BATTLE,levelIds:[1,2,3,4,5,6,7,8,9,10,11,12],startDate:"Apr 4 2019 16:30:00 GMT+0530",endDate:"May 9 2019 16:30:00 GMT+0530",description:"First ever battle of CSSBattle. 12 fun warm-up targets to play and climb the leaderboards."},{id:2,slug:"visibility",name:"Visibility",type:e.BIG_BATTLE,levelIds:[13,14,15,16,17,18],startDate:"May 9 2019 16:30:00 GMT+0530",endDate:"May 30 2019 16:30:00 GMT+0530",description:"6 targets unlock across 3 weeks. Recreate them in the smallest possible CSS code and climb the leaderboards."},{id:3,slug:"cursor",name:"Cursor",type:e.MINI_BATTLE,levelIds:[19,20],startDate:"Jun 1 2019 16:30:00 GMT+0530",endDate:"Jun 3 2019 16:30:00 GMT+0530",description:"First ever mini-battle. 48 hours, 2 Targets. Some intense CSS golfing."},{id:4,slug:"display",name:"Display",type:e.BIG_BATTLE,levelIds:[21,22,23,24,25,26,27,28],startDate:"Jun 12 2019 16:30:00 GMT+0530",endDate:"Jul 3 2019 16:30:00 GMT+0530",description:"8 targets unlock across 3 weeks. Recreate them in the smallest possible CSS code and climb the leaderboard!",sponsor:{name:"SitePoint",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fwww.sitepoint.com%3Futm_source%3Dcss-battles%26utm_medium%3Dreferral%26utm_campaign%3Dlogo-battle&sponsorId=2"},rewards:{gold:"$50",silver:"$30",bronze:"$20",others:"Top 20: SitePoint Premium"}},{id:5,slug:"inline",name:"Inline",type:e.MINI_BATTLE,levelIds:[29,30],startDate:"Jul 13 2019 16:30:00 GMT+0530",endDate:"Jul 15 2019 16:30:00 GMT+0530",description:"48 hours, 2 Targets and some intense CSS golfing."},{id:6,slug:"conic",name:"Conic",type:e.MINI_BATTLE,levelIds:[31,32],startDate:"Jul 19 2019 16:30:00 GMT+0530",endDate:"Jul 21 2019 16:30:00 GMT+0530",description:"48 hours, 2 Targets and some intense CSS golfing."},{id:7,slug:"backface",name:"Backface",type:e.BIG_BATTLE,levelIds:[33,34,35,36,37,38,39,40,41],startDate:"Aug 01 2019 16:30:00 GMT+0530",endDate:"Aug 22 2019 16:30:00 GMT+0530",description:"9 targets unlock across 3 weeks. Recreate them with smallest possible CSS code and climb the leaderboard!"},{id:8,slug:"transition",name:"Transition",type:e.MINI_BATTLE,levelIds:[42,43,44],startDate:"Sep 07 2019 16:30:00 GMT+0530",endDate:"Sep 09 2019 16:30:00 GMT+0530",description:"3 fun targets for the weekend \ud83d\ude00"},{id:9,slug:"margin",name:"Margin",type:e.MINI_BATTLE,levelIds:[45,46],startDate:"Dec 12 2019 16:30:00 GMT+0530",endDate:"Dec 14 2019 16:30:00 GMT+0530",description:"2 fun targets to flex your muscles for the next big battle \ud83d\udd25"},{id:10,slug:"block",name:"Block",type:e.BIG_BATTLE,levelIds:[47,48,49,50,51,52],startDate:"Mar 26 2020 16:30:00 GMT+0530",endDate:"Apr 9 2020 16:30:00 GMT+0530",description:"6 targets to battle out over 2 weeks and learn about best practices against Corona Virus \ud83d\udd25"},{id:11,slug:"overflow",name:"Overflow",type:e.BIG_BATTLE,levelIds:[53,54,55,56,57,58,59,60],startDate:"Jun 9 2020 16:30:00 GMT+0530",endDate:"Jul 9 2020 16:30:00 GMT+0530",description:"8 targets (2 per week) to battle out over 4 weeks and win some cool rewards!",sponsor:{name:"Pastel",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fusepastel.com%3Futm_source%3Dcssbattle%26utm_campaign%3Dcssbattle_sponsorship&sponsorId=3"},rewards:{gold:"$50",silver:"$30",bronze:"$20",others:"Top 10: 1-year free Pastel Premium"}},{id:12,slug:"blend",name:"Blend",type:e.BIG_BATTLE,levelIds:[61,62,63,64,65,66,67,68],openLevelIds:[62],startDate:"Nov 21 2020 16:30:00 GMT+0530",endDate:"Dec 20 2020 16:30:00 GMT+0530",description:"8 targets (2 per week, and a new twist) to battle out over 4 weeks and win some cool rewards!",sponsor:{name:"ImprovMX",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fimprovmx.com%3Futm_source%3Dcssbattle%26utm_campaign%3Dcssbattle_sponsorship&sponsorId=4"},rewards:{gold:"$80 + ImprovMX premium for 1337 months",silver:"$55 + ImprovMX premium for 42 months",bronze:"$40 + ImprovMX premium for 24 months",others:"4th-10th: $25 + ImprovMX premium for 12 months",note:"Cash prizes will be given in the form of Amazon Gift Cards"}},{id:13,slug:"clip",name:"Clip",type:e.BIG_BATTLE,levelIds:[69,70,71,72,73,74,75,76],openLevelIds:[69,71,73],startDate:"Mar 02 2021 16:30:00 GMT+0530",endDate:"Mar 30 2021 16:30:00 GMT+0530",rewards:{others:"Top 10: Customized limited edition CSSBattle Merchandise"},description:"8 targets (with some open ones!) to battle out over 4 weeks and win some cool rewards!",sponsor:{name:"PushOwl",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fpushowl.com%3Futm_source%3Dcssbattle%26utm_campaign%3Dcssbattle_sponsorship&sponsorId=5"}},{id:14,slug:"zindex",name:"ZIndex",type:e.MINI_BATTLE,levelIds:[77,78,79,80],startDate:"May 25 2021 16:30:00 GMT+0530",endDate:"May 29 2021 16:30:00 GMT+0530",description:"4 days, 1 new target everyday \ud83c\udfaf! Ultimate crash course for CSS golfing!"},{id:15,slug:"filter",name:"Filter",type:e.BIG_BATTLE,levelIds:[81,82,83,84,85,86,87,88],openLevelIds:[84],startDate:"Sep 21 2021 16:30:00 GMT+0530",endDate:"Oct 21 2021 16:30:00 GMT+0530",description:"8 targets (with some open ones!) to battle out over 4 weeks and level up your CSS!",sponsor:{name:"Odoo",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fwww.odoo.com%2Fapp%2Fwebsite%3Futm_source%3DCSSBattle%26utm_medium%3Dcpc-social%26utm_campaign%3Dwebsite&sponsorId=6"}},{id:16,slug:"aspect",name:"Aspect",type:e.BIG_BATTLE,levelIds:[89,90,91,92,93,94,95,96],openLevelIds:[91],startDate:"Oct 28 2021 16:30:00 GMT+0530",endDate:"Nov 28 2021 16:30:00 GMT+0530",description:"Create 8 targets (with some open ones!) over 4 weeks and level up your CSS!"},{id:17,slug:"christmas",name:"Christmas \ud83c\udf84",type:e.MINI_BATTLE,levelIds:[97,98,99,100],openLevelIds:[100],startDate:"Dec 22 2021 16:30:00 GMT+0530",endDate:"Dec 26 2021 16:30:00 GMT+0530",description:"This festive season, let's celebrate Christmas with these 4 merry targets and some joyful CSS! \ud83c\udf84\ud83c\udf85\ud83c\udffc"},{id:18,slug:"float",name:"Float",type:e.BIG_BATTLE,levelIds:[101,102,103,104,105,106,107,108],openLevelIds:[106],startDate:"Mar 10 2022 16:30:00 GMT+0530",endDate:"Apr 09 2022 16:30:00 GMT+0530",description:"First battle of the year! Let's get into the CSS art mood with some nice Anime targets!"},{id:19,slug:"spacing",name:"Spacing",type:e.BIG_BATTLE,levelIds:[109,110,111,112,113,114,115,116],openLevelIds:[111],startDate:"Jun 07 2022 16:30:00 GMT+0530",endDate:"Jul 05 2022 16:30:00 GMT+0530",description:"4 weeks full of CSS art! 8 fun targets coming your way!"},{id:20,slug:"hover",name:"Hover",type:e.BIG_BATTLE,levelIds:[117,118,119,120,121,122,123,124],openLevelIds:[120],startDate:"Aug 04 2022 16:30:00 GMT+0530",endDate:"Sep 02 2022 16:30:00 GMT+0530",description:"4 weeks full of CSS art! 8 fun targets coming your way in our 20th battle!",sponsor:{name:"Arineo",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Farineo.com%2Fen%2F&sponsorId=7"},rewards:{others:"Top 20: Limited-Edition CSSBattle Stickers!"}},{id:21,slug:"rotate",name:"Rotate",type:e.BIG_BATTLE,firstLevelId:125,levelIds:[125,126,127,128,129,130,131,132],openLevelIds:[130],startDate:"Sep 15 2022 22:00:00 GMT+0530",endDate:"Oct 13 2022 22:00:00 GMT+0530",description:"4 weeks full of crazy letter art! Time to do some CSS art calligraphy.",sponsor:{name:"RootLearn",link:"https://cssbattle.dev/api/adRedirect?url=https%3A%2F%2Fwww.rootlearn.com%2Fbootcamp%2Fweb-dev%3Fsource%3Dcssbattle&sponsorId=8"}},{id:22,slug:"grid",name:"Grid",type:e.BIG_BATTLE,firstLevelId:133,levelIds:[133,134,135,136,137,138,139,140],openLevelIds:[137],startDate:"Nov 29 2022 22:00:00 GMT+0530",endDate:"Dec 27 2022 22:00:00 GMT+0530",description:"Let\u2019s celebrate the end of the year with some festive targets and some joyful CSS!"},{id:23,slug:"contain",name:"Contain",type:e.MINI_BATTLE,firstLevelId:141,levelIds:[141,142],openLevelIds:[142],startDate:"Mar 18 2023 22:00:00 GMT+0530",endDate:"Mar 20 2023 22:00:00 GMT+0530",description:"New year, new rules! Join us in this mini battle to kickstart the year!"},{id:24,slug:"offset",name:"Offset",type:e.BIG_BATTLE,firstLevelId:143,levelIds:[143,144,145,146,147,148,0,0],openLevelIds:[148],startDate:"Apr 01 2023 22:00:00 GMT+0530",endDate:"Apr 29 2023 22:00:00 GMT+0530",description:"4 weeks full of CSS art! 8 corner-themed fun targets coming your way!"}];function i(t){return t.id.length>6}t.exports={BattleTypes:e,BattleStatuses:n,battles:r,checkIfCustomBattle:i,getBattleStatus:function(t){if(i(t={...t})){if(!t.startDate)return n.UPCOMING;t.startDate=new Date(1e3*t.startDate.seconds),t.endDate=t.endDate?new Date(1e3*t.endDate.seconds):+t.startDate+60*t.duration*1e3}const e=Date.now(),r=new Date(t.startDate).getTime(),o=new Date(t.endDate).getTime();return e<r?n.UPCOMING:e>o?n.FINISHED:n.ONGOING}}},8688:function(t){t.exports=[{id:1,name:"Simply Square",image:"/targets/1.png",colors:["#5d3a3a","#b5e0ba"]},{id:2,name:"Carrom",image:"/targets/2.png",colors:["#62374e","#fdc57b"]},{id:3,name:"Push Button",image:"/targets/3.png",colors:["#6592CF","#243D83","#EEB850"]},{id:4,name:"Ups n Downs",image:"/targets/4.png",colors:["#62306D","#F7EC7D"]},{id:5,name:"Acid Rain",image:"/targets/5.png",colors:["#0B2429","#F3AC3C","#998235"]},{id:6,name:"Missing Slice",image:"/targets/6.png",colors:["#E3516E","#F7F3D7","#51B5A9","#FADE8B"]},{id:7,name:"Leafy Trail",image:"/targets/7.png",colors:["#0B2429","#F3AC3C","#998235","#1A4341"]},{id:8,name:"Forking Crazy",image:"/targets/8.png",colors:["#6592CF","#060F55"]},{id:9,name:"Tesseract",image:"/targets/9.png",colors:["#222730","#4CAAB3","#393E46"]},{id:10,name:"Cloaked Spirits",image:"/targets/10.png",colors:["#62306D","#F7EC7D","#AA445F","#E38F66"]},{id:11,name:"Eye of Sauron",image:"/targets/11.png",colors:["#191210","#ECA03D","#84271C"]},{id:12,name:"Wiggly Moustache",image:"/targets/12.png",colors:["#F5D6B4","#D86F45"]},{id:13,name:"Totally Triangle",image:"/targets/13.png",colors:["#0B2429","#F3AC3C"]},{id:14,name:"Web Maker Logo",image:"/targets/14.png",colors:["#F2F2B6","#FF6D00","#FD4602"]},{id:15,name:"Overlap",image:"/targets/15.png",colors:["#09042A","#7B3F61","#E78481"]},{id:16,name:"Eye of the Tiger",image:"/targets/16.png",colors:["#0B2429","#998235","#F3AC3C"]},{id:17,name:"Fidget Spinner",image:"/targets/17.png",colors:["#09042A","#E78481","#F5BB9C"]},{id:18,name:"Matrix",image:"/targets/18.png",colors:["#5C434C","#F09462","#F5D6B4"]},{id:19,name:"Cube",image:"/targets/19.png",colors:["#0B2429","#F3AC3C","#998235","#1A4341"]},{id:20,name:"Ticket",image:"/targets/20.png",colors:["#62306D","#F7EC7D","#E38F66"]},{id:21,name:"SitePoint Logo",image:"/targets/21.png",colors:["#222","#F2994A","#2D9CDB"]},{id:22,name:"Cloud",image:"/targets/22.png",colors:["#F5D6B4","#D86F45"]},{id:23,name:"Boxception",image:"/targets/23.png",colors:["#F3AC3C","#1A4341","#998235"]},{id:24,name:"Switches",image:"/targets/24.png",colors:["#62306D","#F7EC7D","#AA445F","#E38F66"]},{id:25,name:"Blossom",image:"/targets/25.png",colors:["#998235","#1A4341","#F3AC3C"]},{id:26,name:"Smiley",image:"/targets/26.png",colors:["#6592CF","#060F55"]},{id:27,name:"Lock Up",image:"/targets/27.png",colors:["#E38F66","#AA445F","#F7EC7D"]},{id:28,name:"Cups & Balls",image:"/targets/28.png",colors:["#1A4341","#998235","#F3AC3C"]},{id:29,name:"Suffocate",image:"/targets/29.png",colors:["#F3AC3C","#1A4341"]},{id:30,name:"Horizon",image:"/targets/30.png",colors:["#F7EC7D","#E38F66","#AA445F","#62306D"]},{id:31,name:"Equals",image:"/targets/31.png",colors:["#AA445F","#F7EC7D","#E38F66"]},{id:32,name:"Band-aid",image:"/targets/32.png",colors:["#FFFFFF","#F3AC3C","#A3A368","#FBE18C"]},{id:33,name:"Birdie",image:"/targets/33.png",colors:["#1A4341","#998235","#F3AC3C","#0B2429"]},{id:34,name:"Christmas Tree",image:"/targets/34.png",colors:["#007065","#FFEECF","#F5C181","#00A79D"]},{id:35,name:"Ice Cream",image:"/targets/35.png",colors:["#293462","#FFF1C1","#FE5F55","#A64942"]},{id:36,name:"Interleaved",image:"/targets/36.png",colors:["#1A4341","#F3AC3C","#998235"]},{id:37,name:"Tunnel",image:"/targets/37.png",colors:["#6592CF","#243D83"]},{id:38,name:"Not Simply Square",image:"/targets/38.png",colors:["#293462","#FFF1C1","#FE5F55","#A64942"]},{id:39,name:"Sunset",image:"/targets/39.png",colors:["#1A4341","#F3AC3C","#998235"]},{id:40,name:"Letter B",image:"/targets/40.png",colors:["#6592CF","#243D83"]},{id:41,name:"Fox Head",image:"/targets/41.png",colors:["#293462","#FE5F55"]},{id:42,name:"Baby",image:"/targets/42.png",colors:["#293462","#FE5F55","#FFF1C1"]},{id:43,name:"Wrench",image:"/targets/43.png",colors:["#6592CF","#243D83"]},{id:44,name:"Stripes",image:"/targets/44.png",colors:["#1A4341","#F3AC3C"]},{id:45,name:"Magical Tree",image:"/targets/45.png",colors:["#1A4341","#F3AC3C","#998235"]},{id:46,name:"Mountains",image:"/targets/46.png",colors:["#293462","#FFF1C1","#FE5F55"]},{id:47,name:"Corona Virus",image:"/targets/47.png",colors:["#1A4341","#F3AC3C","#998235"]},{id:48,name:"Wash Your Hands",image:"/targets/48.png",colors:["#293462","#FE5F55","#A64942"]},{id:49,name:"Stay at Home",image:"/targets/49.png",colors:["#6592CF","#243D83","#EEB850"]},{id:50,name:"Use Hand Sanitizer",image:"/targets/50.png",colors:["#1A4341","#F3AC3C","#998235"]},{id:51,name:"Wear a Mask",image:"/targets/51.png",colors:["#293462","#FFF1C1","#FE5F55"]},{id:52,name:"Break the Chain",image:"/targets/52.png",colors:["#6592CF","#243D83","#EEB850"]},{id:53,name:"Pastel Logo",image:"/targets/53.png",colors:["#19191A","#4F77FF","#9AD5FF","#F9E492"]},{id:54,name:"Black Lives Matter",image:"/targets/54.png",colors:["#191919","#F9E492"]},{id:55,name:"Windmill",image:"/targets/55.png",colors:["#191919","#F9E492","#4F77FF"]},{id:56,name:"Skull",image:"/targets/56.png",colors:["#191919","#4F77FF"]},{id:57,name:"Pillars",image:"/targets/57.png",colors:["#191919","#4F77FF","#F9E492"]},{id:58,name:"Rose",image:"/targets/58.png",colors:["#191919","#4F77FF","#F9E492"]},{id:59,name:"Earth",image:"/targets/59.png",colors:["#191919","#4F77FF"]},{id:60,name:"Evil Triangles",image:"/targets/60.png",colors:["#191919","#4F77FF"]},{id:61,name:"ImprovMX",image:"/targets/61.png",colors:["#191919","#5DBCF9"]},{id:62,name:"Sunset",isOpen:!0,image:"/targets/62.png",colors:["#191919","#F2AD43","#E08027","#824B20","#FFF58F"]},{id:63,name:"Command Key",image:"/targets/63.png",colors:["#191919","#5DBCF9"]},{id:64,name:"Door Knob",image:"/targets/64.png",colors:["#191919","#E08027","#824B20","#FFF58F"]},{id:65,name:"Max Volume",image:"/targets/65.png",colors:["#191919","#5DBCF9"]},{id:66,name:"Batmicky",image:"/targets/66.png",colors:["#191919","#F2AD43"]},{id:67,name:"Video Reel",image:"/targets/67.png",colors:["#191919","#5DBCF9"]},{id:68,name:"Bell",image:"/targets/68.png",colors:["#191919","#E08027","#F2AD43","#824B20"]},{id:69,name:"PushOwl",image:"/targets/69.png",colors:["#191919","#E08027"],isOpen:!0},{id:70,name:"Froggy",image:"/targets/70.png",colors:["#293462","#FE5F55","#A64942","#FFF1C1"]},{id:71,name:"Elephant",image:"/targets/71.png",colors:["#998235","#1A4341","#0B2429","#FFFFFF"],isOpen:!0},{id:72,name:"Sheep",image:"/targets/72.png",colors:["#243D83","#6592CF"]},{id:73,name:"Happy Tiger",image:"/targets/73.png",colors:["#F3AC3C","#998235","#1A4341","#FFFFFF"],isOpen:!0},{id:74,name:"Danger Noodle",image:"/targets/74.png",colors:["#191919","#E08027"]},{id:75,name:"Hippo",image:"/targets/75.png",colors:["#191919","#A64942","#FE5F55","#000000"]},{id:76,name:"Beeee",image:"/targets/76.png",colors:["#998235","#FFFFFF","#EFF33C","#191919"]},{id:77,name:"Notes",image:"/targets/77.png",colors:["#191919","#FE5F55","#A64942"]},{id:78,name:"Ukulele",image:"/targets/78.png",colors:["#F3AC3C","#998235","#1A4341"]},{id:79,name:"Tambourine",image:"/targets/79.png",colors:["#243D83","#6592CF"]},{id:80,name:"Piano",image:"/targets/80.png",colors:["#998235","#191919","#FFFFFF"]},{id:81,name:"Odoo",image:"/targets/81.png",colors:["#191919","#714B67","#8F8F8F"]},{id:82,name:"Diamond Cut",image:"/targets/82.png",colors:["#F3AC3C","#998235","#1A4341"]},{id:83,name:"Supernova",image:"/targets/83.png",colors:["#243D83","#6592CF","#EEB850"]},{id:84,name:"Junction",isOpen:!0,image:"/targets/84.png",colors:["#191919","#A64942","#FE5F55"]},{id:85,name:"Pythagoras",image:"/targets/85.png",colors:["#D25B70","#F7F3DA","#F6DF96","#6CB3A9"]},{id:86,name:"Stairway",image:"/targets/86.png",colors:["#191919","#4F77FF"]},{id:87,name:"Building Blocks",image:"/targets/87.png",colors:["#F3AC3C","#1A4341"]},{id:88,name:"Tight Corner",image:"/targets/88.png",colors:["#F7F3DA","#D25B70"]},{id:89,name:"Summit",image:"/targets/89.png",colors:["#191919","#F9E492","#4F77FF"]},{id:90,name:"Eclipse",image:"/targets/90.png",colors:["#998235","#F3AC3C","#1A4341"]},{id:91,name:"Reflection",image:"/targets/91.png",colors:["#6CB3A9","#D25B70","#F6DF96"],isOpen:!0},{id:92,name:"Squeeze",image:"/targets/92.png",colors:["#6592CF","#243D83"]},{id:93,name:"Great Wall",image:"/targets/93.png",colors:["#4F77FF","#191919","#F9E492","#D6B73F"]},{id:94,name:"Ripples",image:"/targets/94.png",colors:["#0E2E2C","#F3AC3C","#998235"]},{id:95,name:"Pokeball",image:"/targets/95.png",colors:["#6CB3A9","#D25B70","#FFFFFF","#781728","#F6DF96"]},{id:96,name:"Mandala",image:"/targets/96.png",colors:["#6592CF","#243D83"]},{id:97,name:"Snowman",image:"/targets/97.png",colors:["#AC474B","#FFFFFF","#0E1F2B","#FFA63F"]},{id:98,name:"Candle",image:"/targets/98.png",colors:["#14313E","#BA3E46","#F3695A","#F3AC3C"]},{id:99,name:"Gift Box",image:"/targets/99.png",colors:["#AC474B","#FFFFFF"]},{id:100,name:"CSSBattle",image:"/targets/100.png",colors:["#14313E","#FFDF00"],isOpen:!0},{id:101,name:"Sharingan",image:"/targets/101.png",colors:["#161616","#A22015","#000000","#E96A23"]},{id:102,name:"One Piece",image:"/targets/102.png",colors:["#000000","#FFFFFF"]},{id:103,name:"Super Saiyan",image:"/targets/103.png",colors:["#161616","#EBAE11","#FFFFFF","#FFDEB9"]},{id:104,name:"Amegakure",image:"/targets/104.png",colors:["#000000","#37385A","#9897AE","#C0C3DB"]},{id:105,name:"Ryuk",image:"/targets/105.png",colors:["#BAC7CE","#475862","#000000","#868A64","#5A6042","#4E2B24"]},{id:106,name:"Ryuk's Apple",image:"/targets/106.png",colors:["#000000","#D4392D"],isOpen:!0},{id:107,name:"Sealing Wand",image:"/targets/107.png",colors:["#161616","#E96A23","#FFFFFF","#A22015"]},{id:108,name:"Clow Card",image:"/targets/108.png",colors:["#000000","#E96A23","#EBAE11"]},{id:109,name:"Curtain",image:"/targets/109.png",colors:["#191919","#F6E59C"]},{id:110,name:"Sunrays",image:"/targets/110.png",colors:["#D25B70","#F2E09F"]},{id:111,name:"Rain Drops",image:"/targets/111.png",colors:["#F3AC3C","#254241"],isOpen:!0},{id:112,name:"Chevron",image:"/targets/112.png",colors:["#6592CF","#293D7E"]},{id:113,name:"Black Light",image:"/targets/113.png",colors:["#5776F6","#191919"]},{id:114,name:"Negative Box",image:"/targets/114.png",colors:["#172D2C","#E9AF53"]},{id:115,name:"Droplet",image:"/targets/115.png",colors:["#C36271","#F2E09F"]},{id:116,name:"Headphones",image:"/targets/116.png",colors:["#293D7E","#6E91CA"]},{id:117,name:"Arineo",image:"/targets/117.png",colors:["#FFFFFF","#0088CA","#2E2926"]},{id:118,name:"Donkey Kong",image:"/targets/118.png",colors:["#000000","#AF067C","#FFFFFF"]},{id:119,name:"Pacman",image:"/targets/119.png",colors:["#000000","#E0E246","#C74E4E","#FFFFFF"]},{id:120,name:"Tank",image:"/targets/120.png",colors:["#000000","#54C144","#C74E4E","#FFFFFF"],isOpen:!0},{id:121,name:"Duck Hunt",image:"/targets/121.png",colors:["#1E92FF","#6F6100","#69D10A","#441A0A"]},{id:122,name:"Tetris",image:"/targets/122.png",colors:["#173889","#EE4F63","#2CE1EA","#F8DA37","#B069F7"]},{id:123,name:"Snake",image:"/targets/123.png",colors:["#C74E4E","#E0E246","#FFFFFF"]},{id:124,name:"Space Invaders",image:"/targets/124.png",colors:["#071945","#B069F7","#F8DA37","#2CE1EA"]},{id:125,name:"Root Learn",image:"/targets/125.png",colors:["#EFF2F1","#1C1C1C"]},{id:126,name:"Letter A",image:"/targets/126.png",colors:["#62306D","#FEF9CA","#C5B732","#E38F66","#AA445F"]},{id:127,name:"Letter I",image:"/targets/127.png",colors:["#E3516E","#FADE8B"]},{id:128,name:"Letter N",image:"/targets/128.png",colors:["#998235","#0B2429","#FCBE5C"]},{id:129,name:"Letter B",image:"/targets/129.png",colors:["#6592CF","#515DBD","#2E3B9F","#060F55"]},{id:130,name:"Letter O",image:"/targets/130.png",colors:["#926927","#FFFFFF","#6D480A"],isOpen:!0},{id:131,name:"Letter W",image:"/targets/131.png",colors:["#E38F66","#62306D","#FFFBDA"]},{id:132,name:"Letter S",image:"/targets/132.png",colors:["#4F77FF","#FFFFFF","#1038BF"]},{id:133,name:"Spiral",image:"/targets/133.png",colors:["#F5D6B4","#D86F45"]},{id:134,name:"Wig",image:"/targets/134.png",colors:["#62306D","#F7EC7D"]},{id:135,name:"Spikes",image:"/targets/135.png",colors:["#E3516E","#D9D9D9"]},{id:136,name:"Alien Eye",image:"/targets/136.png",colors:["#998235","#FCBE5C","#0B2429"]},{id:137,name:"Elbow",image:"/targets/137.png",colors:["#6592CF","#060F55"],isOpen:!0},{id:138,name:"Lotus",image:"/targets/138.png",colors:["#926927","#6D480A","#FFFFFF"]},{id:139,name:"Lamp",image:"/targets/139.png",colors:["#E38F66","#FFFBDA","#62306D"]},{id:140,name:"Eclipse",image:"/targets/140.png",colors:["#4F77FF","#1038BF","#FFFFFF"]},{id:141,name:"Third Eye",image:"/targets/141.png",colors:["#E3516E","#D9D9D9"]},{id:142,name:"Curtains",image:"/targets/142.png",colors:["#4F77FF","#1038BF","#FFFFFF"],isOpen:!0},{id:143,name:"Simply Circle",image:"/targets/143.png",colors:["#F5D6B4","#D86F45"]},{id:144,name:"Long Heart",image:"/targets/144.png",colors:["#62306D","#F7EC7D"]},{id:145,name:"Spotlight",image:"/targets/145.png",colors:["#E3516E","#D9D9D9"]},{id:146,name:"Streaks",image:"/targets/146.png",colors:["#998235","#FCBE5C","#0B2429"]},{id:147,name:"Splash",image:"/targets/147.png",colors:["#6592CF","#060F55"]},{id:148,name:"Eight",image:"/targets/148.png",colors:["#926927","#6D480A"],isOpen:!0}]},7896:function(t,e,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r.apply(this,arguments)}n.d(e,{Z:function(){return r}})},630:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,{Z:function(){return r}})},8788:function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){try{var s=t[o](a),u=s.value}catch(c){return void n(c)}s.done?e(u):Promise.resolve(u).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise((function(i,o){var a=t.apply(e,n);function s(t){r(a,i,o,s,u,"next",t)}function u(t){r(a,i,o,s,u,"throw",t)}s(void 0)}))}}n.d(e,{Z:function(){return i}})},7842:function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,{Z:function(){return r}})},2838:function(t,e,n){"use strict";function r(t,e){return null!=e&&"undefined"!==typeof Symbol&&e[Symbol.hasInstance]?!!e[Symbol.hasInstance](t):t instanceof e}n.d(e,{Z:function(){return r}})},3579:function(t,e,n){"use strict";function r(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}n.d(e,{Z:function(){return r}})},865:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(7842);function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),i.forEach((function(e){(0,r.Z)(t,e,n[e])}))}return t}},6670:function(t,e,n){"use strict";function r(t,e){return e=null!=e?e:{},Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):function(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))})),t}n.d(e,{Z:function(){return r}})},6383:function(t,e,n){"use strict";n.d(e,{Z:function(){return o}});var r=n(3579);var i=n(5459);function o(t,e){return function(t){if(Array.isArray(t))return t}(t)||(0,r.Z)(t,e)||(0,i.Z)(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},930:function(t,e,n){"use strict";n.d(e,{Z:function(){return a}});var r=n(630);var i=n(3579);var o=n(5459);function a(t){return function(t){if(Array.isArray(t))return(0,r.Z)(t)}(t)||(0,i.Z)(t)||(0,o.Z)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},5459:function(t,e,n){"use strict";n.d(e,{Z:function(){return i}});var r=n(630);function i(t,e){if(t){if("string"===typeof t)return(0,r.Z)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(t,e):void 0}}},2788:function(t,e,n){"use strict";var r={};!function t(e,n,r,i){var o=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL);function a(){}function s(t){var r=n.exports.Promise,i=void 0!==r?r:e.Promise;return"function"===typeof i?new i(t):(t(a,a),null)}var u=function(){var t,e,n=Math.floor(1e3/60),r={},i=0;return"function"===typeof requestAnimationFrame&&"function"===typeof cancelAnimationFrame?(t=function(t){var e=Math.random();return r[e]=requestAnimationFrame((function o(a){i===a||i+n-1<a?(i=a,delete r[e],t()):r[e]=requestAnimationFrame(o)})),e},e=function(t){r[t]&&cancelAnimationFrame(r[t])}):(t=function(t){return setTimeout(t,n)},e=function(t){return clearTimeout(t)}),{frame:t,cancel:e}}(),c=function(){var e,n,i={};return function(){if(e)return e;if(!r&&o){var a=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join("\n");try{e=new Worker(URL.createObjectURL(new Blob([a])))}catch(u){return void 0!==typeof console&&"function"===typeof console.warn&&console.warn("\ud83c\udf8a Could not load worker",u),null}!function(t){function e(e,n){t.postMessage({options:e||{},callback:n})}t.init=function(e){var n=e.transferControlToOffscreen();t.postMessage({canvas:n},[n])},t.fire=function(r,o,a){if(n)return e(r,null),n;var u=Math.random().toString(36).slice(2);return n=s((function(o){function s(e){e.data.callback===u&&(delete i[u],t.removeEventListener("message",s),n=null,a(),o())}t.addEventListener("message",s),e(r,u),i[u]=s.bind(null,{data:{callback:u}})}))},t.reset=function(){for(var e in t.postMessage({reset:!0}),i)i[e](),delete i[e]}}(e)}return e}}(),l={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function h(t,e,n){return function(t,e){return e?e(t):t}(t&&(null!==(r=t[e])&&void 0!==r)?t[e]:l[e],n);var r}function f(t){return t<0?0:Math.floor(t)}function d(t){return parseInt(t,16)}function p(t){var e=String(t).replace(/[^0-9a-f]/gi,"");return e.length<6&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]),{r:d(e.substring(0,2)),g:d(e.substring(2,4)),b:d(e.substring(4,6))}}function m(t){t.width=document.documentElement.clientWidth,t.height=document.documentElement.clientHeight}function v(t){var e=t.getBoundingClientRect();t.width=e.width,t.height=e.height}function g(t){var e=t.angle*(Math.PI/180),n=t.spread*(Math.PI/180);return{x:t.x,y:t.y,wobble:10*Math.random(),velocity:.5*t.startVelocity+Math.random()*t.startVelocity,angle2D:-e+(.5*n-Math.random()*n),tiltAngle:Math.random()*Math.PI,color:p(t.color),shape:t.shape,tick:0,totalTicks:t.ticks,decay:t.decay,random:Math.random()+5,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:3*t.gravity,ovalScalar:.6,scalar:t.scalar}}function y(t,e,n,o,a){var c,l,h=e.slice(),f=t.getContext("2d"),d=s((function(e){function s(){c=l=null,f.clearRect(0,0,o.width,o.height),a(),e()}c=u.frame((function e(){!r||o.width===i.width&&o.height===i.height||(o.width=t.width=i.width,o.height=t.height=i.height),o.width||o.height||(n(t),o.width=t.width,o.height=t.height),f.clearRect(0,0,o.width,o.height),h=h.filter((function(t){return function(t,e){e.x+=Math.cos(e.angle2D)*e.velocity,e.y+=Math.sin(e.angle2D)*e.velocity+e.gravity,e.wobble+=.1,e.velocity*=e.decay,e.tiltAngle+=.1,e.tiltSin=Math.sin(e.tiltAngle),e.tiltCos=Math.cos(e.tiltAngle),e.random=Math.random()+5,e.wobbleX=e.x+10*e.scalar*Math.cos(e.wobble),e.wobbleY=e.y+10*e.scalar*Math.sin(e.wobble);var n=e.tick++/e.totalTicks,r=e.x+e.random*e.tiltCos,i=e.y+e.random*e.tiltSin,o=e.wobbleX+e.random*e.tiltCos,a=e.wobbleY+e.random*e.tiltSin;return t.fillStyle="rgba("+e.color.r+", "+e.color.g+", "+e.color.b+", "+(1-n)+")",t.beginPath(),"circle"===e.shape?t.ellipse?t.ellipse(e.x,e.y,Math.abs(o-r)*e.ovalScalar,Math.abs(a-i)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):function(t,e,n,r,i,o,a,s,u){t.save(),t.translate(e,n),t.rotate(o),t.scale(r,i),t.arc(0,0,1,a,s,u),t.restore()}(t,e.x,e.y,Math.abs(o-r)*e.ovalScalar,Math.abs(a-i)*e.ovalScalar,Math.PI/10*e.wobble,0,2*Math.PI):(t.moveTo(Math.floor(e.x),Math.floor(e.y)),t.lineTo(Math.floor(e.wobbleX),Math.floor(i)),t.lineTo(Math.floor(o),Math.floor(a)),t.lineTo(Math.floor(r),Math.floor(e.wobbleY))),t.closePath(),t.fill(),e.tick<e.totalTicks}(f,t)})),h.length?c=u.frame(e):s()})),l=s}));return{addFettis:function(t){return h=h.concat(t),d},canvas:t,promise:d,reset:function(){c&&u.cancel(c),l&&l()}}}function b(t,n){var r,i=!t,a=!!h(n||{},"resize"),u=h(n,"disableForReducedMotion",Boolean),l=o&&!!h(n||{},"useWorker")?c():null,d=i?m:v,p=!(!t||!l)&&!!t.__confetti_initialized,b="function"===typeof matchMedia&&matchMedia("(prefers-reduced-motion)").matches;function w(e,n,i){for(var o,a,s=h(e,"particleCount",f),u=h(e,"angle",Number),c=h(e,"spread",Number),l=h(e,"startVelocity",Number),p=h(e,"decay",Number),m=h(e,"gravity",Number),v=h(e,"colors"),b=h(e,"ticks",Number),w=h(e,"shapes"),_=h(e,"scalar"),E=function(t){var e=h(t,"origin",Object);return e.x=h(e,"x",Number),e.y=h(e,"y",Number),e}(e),T=s,I=[],S=t.width*E.x,k=t.height*E.y;T--;)I.push(g({x:S,y:k,angle:u,spread:c,startVelocity:l,color:v[T%v.length],shape:w[(o=0,a=w.length,Math.floor(Math.random()*(a-o))+o)],ticks:b,decay:p,gravity:m,scalar:_}));return r?r.addFettis(I):(r=y(t,I,d,n,i)).promise}function _(n){var o=u||h(n,"disableForReducedMotion",Boolean),c=h(n,"zIndex",Number);if(o&&b)return s((function(t){t()}));i&&r?t=r.canvas:i&&!t&&(t=function(t){var e=document.createElement("canvas");return e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.pointerEvents="none",e.style.zIndex=t,e}(c),document.body.appendChild(t)),a&&!p&&d(t);var f={width:t.width,height:t.height};function m(){if(l){var e={getBoundingClientRect:function(){if(!i)return t.getBoundingClientRect()}};return d(e),void l.postMessage({resize:{width:e.width,height:e.height}})}f.width=f.height=null}function v(){r=null,a&&e.removeEventListener("resize",m),i&&t&&(document.body.removeChild(t),t=null,p=!1)}return l&&!p&&l.init(t),p=!0,l&&(t.__confetti_initialized=!0),a&&e.addEventListener("resize",m,!1),l?l.fire(n,f,v):w(n,f,v)}return _.reset=function(){l&&l.reset(),r&&r.reset()},_}n.exports=b(null,{useWorker:!0,resize:!0}),n.exports.create=b}(function(){return"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),r,!1),e.Z=r.exports;r.exports.create}},function(t){var e=function(e){return t(t.s=e)};t.O(0,[774,179],(function(){return e(4961),e(1605),e(283),e(3642)}));var n=t.O();_N_E=n}]);
//# sourceMappingURL=_app-5e89ddc62f94f767.js.map